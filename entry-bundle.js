!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t,n){"use strict";function r(e){return"object"==typeof e&&null!==e||"function"==typeof e}function i(e){return null==e}n.d(t,"l",(function(){return he})),n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return ae})),n.d(t,"d",(function(){return ce})),n.d(t,"i",(function(){return Te})),n.d(t,"e",(function(){return Re})),n.d(t,"f",(function(){return k})),n.d(t,"x",(function(){return r})),n.d(t,"c",(function(){return Fe})),n.d(t,"g",(function(){return O.a})),n.d(t,"j",(function(){return Y})),n.d(t,"k",(function(){return Q})),n.d(t,"h",(function(){return Z})),n.d(t,"q",(function(){return ee})),n.d(t,"r",(function(){return te})),n.d(t,"s",(function(){return ne})),n.d(t,"u",(function(){return T})),n.d(t,"n",(function(){return E})),n.d(t,"z",(function(){return D})),n.d(t,"D",(function(){return P})),n.d(t,"F",(function(){return M})),n.d(t,"B",(function(){return V})),n.d(t,"o",(function(){return $})),n.d(t,"w",(function(){return R})),n.d(t,"y",(function(){return B})),n.d(t,"m",(function(){return F})),n.d(t,"A",(function(){return L})),n.d(t,"p",(function(){return _})),n.d(t,"t",(function(){return U})),n.d(t,"v",(function(){return H})),n.d(t,"C",(function(){return z})),n.d(t,"E",(function(){return W}));const s=new WeakMap;function o(e,t,n,r,i){return new TypeError(`${e}(${t.map(String).join(",")}) - Expected '${n}' to be of type ${i}, but got: ${Object.prototype.toString.call(r)} (${String(r)})`)}function a(e){switch(typeof e){case"undefined":case"string":case"symbol":return e;default:return""+e}}function c(e,t,n){let r=s.get(e);if(void 0===r){if(!n)return;r=new Map,s.set(e,r)}let i=r.get(t);if(void 0===i){if(!n)return;i=new Map,r.set(t,i)}return i}function l(e,t,n){const r=c(t,n,!1);return void 0!==r&&r.has(e)}function u(e,t,n){const r=c(t,n,!1);if(void 0!==r)return r.get(e)}function h(e,t,n,r){c(n,r,!0).set(e,t)}function d(e,t){const n=[],r=c(e,t,!1);if(void 0===r)return n;const i=r.keys();let s=0;for(const e of i)n[s]=e,++s;return n}function p(e,t){return function(n,i){if(!r(n))throw o("@metadata",[e,t,n,i],"target",n,"Object or Function");h(e,t,n,function(e){switch(typeof e){case"undefined":case"string":case"symbol":return e;default:throw new TypeError(`Invalid metadata propertyKey: ${e}.`)}}(i))}}function f(e,t,n,s){if(void 0!==n){if(!Array.isArray(e))throw o("Metadata.decorate",[e,t,n,s],"decorators",e,"Array");if(!r(t))throw o("Metadata.decorate",[e,t,n,s],"target",t,"Object or Function");if(!r(s)&&!i(s))throw o("Metadata.decorate",[e,t,n,s],"attributes",s,"Object, Function, null, or undefined");return null===s&&(s=void 0),function(e,t,n,s){for(let a=e.length-1;a>=0;--a){const c=(0,e[a])(t,n,s);if(!i(c)){if(!r(c))throw o("DecorateProperty",[e,t,n,s],"decorated",c,"Object, Function, null, or undefined");s=c}}return s}(e,t,n=function(e){switch(typeof e){case"string":case"symbol":return e;default:return""+e}}(n),s)}if(!Array.isArray(e))throw o("Metadata.decorate",[e,t,n,s],"decorators",e,"Array");if("function"!=typeof t)throw o("Metadata.decorate",[e,t,n,s],"target",t,"Function");return function(e,t){for(let n=e.length-1;n>=0;--n){const r=(0,e[n])(t);if(!i(r)){if("function"!=typeof r)throw o("DecorateConstructor",[e,t],"decorated",r,"Function, null, or undefined");t=r}}return t}(e,t)}function g(e,t,n,i){if(!r(n))throw o("Metadata.define",[e,t,n,i],"target",n,"Object or Function");return h(e,t,n,a(i))}function m(e,t,n){if(!r(t))throw o("Metadata.has",[e,t,n],"target",t,"Object or Function");return function e(t,n,r){if(l(t,n,r))return!0;const i=Object.getPrototypeOf(n);return null!==i&&e(t,i,r)}(e,t,a(n))}function b(e,t,n){if(!r(t))throw o("Metadata.hasOwn",[e,t,n],"target",t,"Object or Function");return l(e,t,a(n))}function v(e,t,n){if(!r(t))throw o("Metadata.get",[e,t,n],"target",t,"Object or Function");return function e(t,n,r){if(l(t,n,r))return u(t,n,r);const i=Object.getPrototypeOf(n);return null!==i?e(t,i,r):void 0}(e,t,a(n))}function y(e,t,n){if(!r(t))throw o("Metadata.getOwn",[e,t,n],"target",t,"Object or Function");return u(e,t,a(n))}function A(e,t){if(!r(e))throw o("Metadata.getKeys",[e,t],"target",e,"Object or Function");return function e(t,n){const r=d(t,n),i=Object.getPrototypeOf(t);if(null===i)return r;const s=e(i,n),o=r.length;if(0===o)return s;const a=s.length;if(0===a)return r;const c=new Set,l=[];let u,h=0;for(let e=0;e<o;++e)u=r[e],c.has(u)||(c.add(u),l[h]=u,++h);for(let e=0;e<a;++e)u=s[e],c.has(u)||(c.add(u),l[h]=u,++h);return l}(e,a(t))}function w(e,t){if(!r(e))throw o("Metadata.getOwnKeys",[e,t],"target",e,"Object or Function");return d(e,a(t))}function C(e,t,n){if(!r(t))throw o("Metadata.delete",[e,t,n],"target",t,"Object or Function");return function(e,t,n){const r=c(e,n,!1);return void 0!==r&&r.delete(t)}(t,e,a(n))}const k={define:g,has:m,hasOwn:b,get:v,getOwn:y,getKeys:A,getOwnKeys:w,delete:C};function x(e,t,n,r,i){if(!Reflect.defineProperty(e,t,{writable:r,enumerable:!1,configurable:i,value:n}))throw new Error(`Unable to apply metadata polyfill: could not add property '${t}' to the global Reflect object`)}function S(e,t,n){x(e,"[[$au]]",s,t,n),x(e,"metadata",p,t,n),x(e,"decorate",f,t,n),x(e,"defineMetadata",g,t,n),x(e,"hasMetadata",m,t,n),x(e,"hasOwnMetadata",b,t,n),x(e,"getMetadata",v,t,n),x(e,"getOwnMetadata",y,t,n),x(e,"getMetadataKeys",A,t,n),x(e,"getOwnMetadataKeys",w,t,n),x(e,"deleteMetadata",C,t,n)}var O=n(4);const j={};function T(e){switch(typeof e){case"number":return e>=0&&(0|e)===e;case"string":{const t=j[e];if(void 0!==t)return t;const n=e.length;if(0===n)return j[e]=!1;let r=0;for(let t=0;t<n;++t)if(r=e.charCodeAt(t),0===t&&48===r&&n>1||r<48||r>57)return j[e]=!1;return j[e]=!0}default:return!1}}function R(e){switch(typeof e){case"number":case"bigint":return!0;default:return!1}}function B(e){switch(typeof e){case"string":return!0;case"object":return e instanceof Date;default:return!1}}const I=function(){let e;!function(e){e[e.none=0]="none",e[e.digit=1]="digit",e[e.upper=2]="upper",e[e.lower=3]="lower"}(e||(e={}));const t=Object.assign(Object.create(null),{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0});function n(e){return""===e?0:e!==e.toUpperCase()?3:e!==e.toLowerCase()?2:!0===t[e]?1:0}return function(e,t){const r=e.length;if(0===r)return e;let i,s=!1,o="",a="",c=0,l=e.charAt(0),u=n(l);for(let h=0;h<r;++h)i=c,a=l,c=u,l=e.charAt(h+1),u=n(l),0===c?o.length>0&&(s=!0):(!s&&o.length>0&&2===c&&(s=3===i||3===u),o+=t(a,s),s=!1);return o}}(),E=function(){const e=Object.create(null);function t(e,t){return t?e.toUpperCase():e.toLowerCase()}return function(n){let r=e[n];return void 0===r&&(r=e[n]=I(n,t)),r}}(),P=function(){const e=Object.create(null);return function(t){let n=e[t];return void 0===n&&(n=E(t),n.length>0&&(n=n[0].toUpperCase()+n.slice(1)),e[t]=n),n}}(),D=function(){const e=Object.create(null);function t(e,t){return t?"-"+e.toLowerCase():e.toLowerCase()}return function(n){let r=e[n];return void 0===r&&(r=e[n]=I(n,t)),r}}();function M(e){const{length:t}=e,n=Array(t);for(let r=0;r<t;++r)n[r]=e[r];return n}const N={};function V(e){return void 0===N[e]&&(N[e]=0),++N[e]}function $(e,t){return e-t}O.a.emptyArray;function F(e,t,n){return{configurable:!0,enumerable:n.enumerable,get(){const e=n.value.bind(this);return Reflect.defineProperty(this,t,{value:e,writable:!0,configurable:!0,enumerable:n.enumerable}),e}}}function L(...e){const t=[];let n=0;const r=e.length;let i,s=0;for(let o=0;o<r;++o)if(i=e[o],void 0!==i){s=i.length;for(let e=0;e<s;++e)t[n++]=i[e]}return t}function _(...e){const t=e.length;let n;for(let r=0;r<t;++r)if(n=e[r],void 0!==n)return n;throw new Error("No default value found")}const U=function(){const e=Function.prototype,t=Object.getPrototypeOf,n=new WeakMap;let r=e,i=0,s=void 0;return function(o){if(s=n.get(o),void 0===s)for(n.set(o,s=[r=o]),i=0;(r=t(r))!==e;)s[++i]=r;return s}}();function q(...e){return Object.assign(Object.create(null),...e)}const H=function(){const e=new WeakMap;let t=!1,n="",r=0;return function(i){return t=e.get(i),void 0===t&&(n=i.toString(),r=n.length,t=r>=29&&r<=100&&125===n.charCodeAt(r-1)&&n.charCodeAt(r-2)<=32&&93===n.charCodeAt(r-3)&&101===n.charCodeAt(r-4)&&100===n.charCodeAt(r-5)&&111===n.charCodeAt(r-6)&&99===n.charCodeAt(r-7)&&32===n.charCodeAt(r-8)&&101===n.charCodeAt(r-9)&&118===n.charCodeAt(r-10)&&105===n.charCodeAt(r-11)&&116===n.charCodeAt(r-12)&&97===n.charCodeAt(r-13)&&110===n.charCodeAt(r-14)&&88===n.charCodeAt(r-15),e.set(i,t)),t}}();function z(e,t){return e instanceof Promise?e.then(t):t(e)}function W(...e){let t=void 0,n=void 0,r=void 0;for(let i=0,s=e.length;i<s;++i)t=e[i],(t=e[i])instanceof Promise&&(void 0===n?n=t:void 0===r?r=[n,t]:r.push(t));return void 0===r?n:Promise.all(r)}var K;!function(e){e[e.trace=0]="trace",e[e.debug=1]="debug",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.fatal=5]="fatal",e[e.none=6]="none"}(K||(K={}));const Y={level:3,write(e,...t){},error:(e,...t)=>new Error("Code "+e)},Q={enabled:!1,liveLoggingEnabled:!1,liveWriter:null,enter(e,t,n){},leave(){},writeStack(e){},flushAll(e){},enableLiveLogging:function(e){return},disableLiveLogging(){}};const G={name:"au:annotation",appendTo(e,t){const n=k.getOwn(G.name,e);void 0===n?k.define(G.name,[t],e):n.push(t)},set(e,t,n){k.define(G.keyFor(t),n,e)},get:(e,t)=>k.getOwn(G.keyFor(t),e),getKeys(e){let t=k.getOwn(G.name,e);return void 0===t&&k.define(G.name,t=[],e),t},isKey:e=>e.startsWith(G.name),keyFor:(e,t)=>void 0===t?`${G.name}:${e}`:`${G.name}:${e}:${t}`},J={name:"au:resource",appendTo(e,t){const n=k.getOwn(J.name,e);void 0===n?k.define(J.name,[t],e):n.push(t)},has:e=>k.hasOwn(J.name,e),getAll(e){const t=k.getOwn(J.name,e);return void 0===t?O.a.emptyArray:t.map(t=>k.getOwn(t,e))},getKeys(e){let t=k.getOwn(J.name,e);return void 0===t&&k.define(J.name,t=[],e),t},isKey:e=>e.startsWith(J.name),keyFor:(e,t)=>void 0===t?`${J.name}:${e}`:`${J.name}:${e}:${t}`},Z={annotation:G,resource:J},X=Object.prototype.hasOwnProperty;function ee(e,t,n,r){let i=k.getOwn(Z.annotation.keyFor(e),n);return void 0===i?(i=t[e],void 0===i?(i=n[e],void 0!==i&&X.call(n,e)?i:r()):i):i}function te(e,t,n){let r=k.getOwn(Z.annotation.keyFor(e),t);return void 0===r?(r=t[e],void 0!==r&&X.call(t,e)?r:n()):r}function ne(e,t,n){const r=t[e];return void 0===r?n():r}!function(e,t=!0,n=!1,r=!0,i=!0){if(function(e){return"[[$au]]"in e}(e)){if(e["[[$au]]"]===s)return;throw new Error("Conflicting @aurelia/metadata module import detected. Please make sure you have the same version of all Aurelia packages in your dependency tree.")}const o=["metadata","decorate","defineMetadata","hasMetadata","hasOwnMetadata","getMetadata","getOwnMetadata","getMetadataKeys","getOwnMetadataKeys","deleteMetadata"].filter((function(e){return e in Reflect}));if(o.length>0){if(t){const e=o.map((function(e){return`${e}:\n${Reflect[e].toString().slice(0,100)+"..."}`})).join("\n\n");throw new Error("Conflicting reflect.metadata polyfill found. If you have 'reflect-metadata' or any other reflect polyfill imported, please remove it, if not (or if you must use a specific polyfill) please file an issue at https://github.com/aurelia/aurelia/issues so that we can look into compatibility options for this scenario. Implementation summary:\n\n"+e)}n&&S(e,r,i)}else S(e,r,i)}(Reflect);class re{constructor(e,t){this.container=e,this.key=t}instance(e){return this.registerResolver(0,e)}singleton(e){return this.registerResolver(1,e)}transient(e){return this.registerResolver(2,e)}callback(e){return this.registerResolver(3,e)}cachedCallback(e){return this.registerResolver(3,je(e))}aliasTo(e){return this.registerResolver(5,e)}registerResolver(e,t){const{container:n,key:r}=this;return this.container=this.key=void 0,n.registerResolver(r,new me(r,e,t))}}function ie(e){const t=e.slice(),n=Object.keys(e),r=n.length;let i;for(let s=0;s<r;++s)i=n[s],T(i)||(t[i]=e[i]);return t}const se={defaultResolver:{none(e){throw Error(e.toString()+" not registered, did you forget to add @singleton()?")},singleton:e=>new me(e,1,e),transient:e=>new me(e,2,e)}.singleton},oe={createContainer:(e=se)=>new xe(null,e),getDesignParamtypes:e=>k.getOwn("design:paramtypes",e),getAnnotationParamtypes(e){const t=Z.annotation.keyFor("di:paramtypes");return k.getOwn(t,e)},getOrCreateAnnotationParamTypes(e){const t=Z.annotation.keyFor("di:paramtypes");let n=k.getOwn(t,e);return void 0===n&&(k.define(t,n=[],e),Z.annotation.appendTo(e,t)),n},getDependencies(e){const t=Z.annotation.keyFor("di:dependencies");let n=k.getOwn(t,e);if(void 0===n){const r=e.inject;if(void 0===r){const t=oe.getDesignParamtypes(e),r=oe.getAnnotationParamtypes(e);if(void 0===t)if(void 0===r){const t=Object.getPrototypeOf(e);n="function"==typeof t&&t!==Function.prototype?ie(oe.getDependencies(t)):[]}else n=ie(r);else if(void 0===r)n=ie(t);else{n=ie(t);let e,i=r.length;for(let t=0;t<i;++t)e=r[t],void 0!==e&&(n[t]=e);const s=Object.keys(r);let o;i=s.length;for(let e=0;e<i;++e)o=s[e],T(o)||(n[o]=r[o])}}else n=ie(r);k.define(t,n,e),Z.annotation.appendTo(e,t)}return n},createInterface(e){const t=function(e,n,r){if(null==e||void 0!==new.target)throw new Error(`No registration for interface: '${t.friendlyName}'`);return oe.getOrCreateAnnotationParamTypes(e)[r]=t,e};return t.$isInterface=!0,t.friendlyName=null==e?"(anonymous)":e,t.noDefault=function(){return t},t.withDefault=function(e){return t.withDefault=function(){throw Y.error(17,t)},t.register=function(n,r){return e(new re(n,null!=r?r:t))},t},t.toString=function(){return`InterfaceSymbol<${t.friendlyName}>`},t},inject:(...e)=>function(t,n,r){if("number"==typeof r){const n=oe.getOrCreateAnnotationParamTypes(t),i=e[0];void 0!==i&&(n[r]=i)}else if(n){const r=oe.getOrCreateAnnotationParamTypes(t.constructor),i=e[0];void 0!==i&&(r[n]=i)}else if(r){const t=r.value,n=oe.getOrCreateAnnotationParamTypes(t);let i;for(let t=0;t<e.length;++t)i=e[t],void 0!==i&&(n[t]=i)}else{const n=oe.getOrCreateAnnotationParamTypes(t);let r;for(let t=0;t<e.length;++t)r=e[t],void 0!==r&&(n[t]=r)}},transient:e=>(e.register=function(t){return Te.transient(e,e).register(t,e)},e.registerInRequester=!1,e),singleton:(e,t=ue)=>(e.register=function(t){return Te.singleton(e,e).register(t,e)},e.registerInRequester=t.scoped,e)},ae=oe.createInterface("IContainer").noDefault(),ce=ae;function le(e){return function(t){const n=function(e,t,r){oe.inject(n)(e,t,r)};return n.$isResolver=!0,n.resolve=function(n,r){return e(t,n,r)},n}}oe.inject;const ue={scoped:!1};const he=le((e,t,n)=>n.getAll(e)),de=(le((e,t,n)=>()=>n.get(e)),le((e,t,n)=>n.has(e,!0)?n.get(e):void 0));function pe(e,t,n){oe.inject(pe)(e,t,n)}pe.$isResolver=!0,pe.resolve=()=>{};le((e,t,n)=>{const r=fe(e,t),i=new Re;return i.prepare(r),n.registerResolver(e,i,!0),r}),le((e,t,n)=>fe(e,t));function fe(e,t){const n=t.getFactory(e);if(null===n)throw new Error("No factory registered for "+e);return n.construct(t)}var ge;!function(e){e[e.instance=0]="instance",e[e.singleton=1]="singleton",e[e.transient=2]="transient",e[e.callback=3]="callback",e[e.array=4]="array",e[e.alias=5]="alias"}(ge||(ge={}));class me{constructor(e,t,n){this.key=e,this.strategy=t,this.state=n,this.resolving=!1}get $isResolver(){return!0}register(e,t){return e.registerResolver(t||this.key,this)}resolve(e,t){switch(this.strategy){case 0:return this.state;case 1:{if(this.resolving)throw new Error("Cyclic dependency found: "+this.state.name);this.resolving=!0;const n=e.getFactory(this.state);if(null===n)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return this.state=n.construct(t),this.strategy=0,this.resolving=!1,this.state}case 2:{const n=e.getFactory(this.state);if(null===n)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return n.construct(t)}case 3:return this.state(e,t,this);case 4:return this.state[0].resolve(e,t);case 5:return e.get(this.state);default:throw Y.error(6,this.strategy)}}getFactory(e){let t;switch(this.strategy){case 1:case 2:return e.getFactory(this.state);case 5:return t=e.getResolver(this.state),null==t||void 0===t.getFactory?null:t.getFactory(e);default:return null}}dispose(){this.key=this.state=null}}class be{constructor(e,t,n){this.Type=e,this.invoker=t,this.dependencies=n,this.transformers=null}construct(e,t){const n=this.transformers;let r=void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.Type,this.dependencies,t):this.invoker.invoke(e,this.Type,this.dependencies);if(null==n)return r;for(let e=0,t=n.length;e<t;++e)r=n[e](r);return r}registerTransformer(e){return null==this.transformers&&(this.transformers=[]),this.transformers.push(e),!0}}const ve=function(){function e(e,t,n,r){let i,s=n.length,o=new Array(s);for(;s-- >0;){if(i=n[s],null==i)throw Y.error(7,`Index ${s}.`);o[s]=e.get(i)}return void 0!==r&&(o=o.concat(r)),Reflect.construct(t,o)}const t=[{invoke:(e,t)=>new t,invokeWithDynamicDependencies:e},{invoke:(e,t,n)=>new t(e.get(n[0])),invokeWithDynamicDependencies:e},{invoke:(e,t,n)=>new t(e.get(n[0]),e.get(n[1])),invokeWithDynamicDependencies:e},{invoke:(e,t,n)=>new t(e.get(n[0]),e.get(n[1]),e.get(n[2])),invokeWithDynamicDependencies:e},{invoke:(e,t,n)=>new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3])),invokeWithDynamicDependencies:e},{invoke:(e,t,n)=>new t(e.get(n[0]),e.get(n[1]),e.get(n[2]),e.get(n[3]),e.get(n[4])),invokeWithDynamicDependencies:e}],n={invoke:e,invokeWithDynamicDependencies:e};return function(e){H(e)&&Y.write(5,e.name);const r=oe.getDependencies(e),i=t.length>r.length?t[r.length]:n;return new be(e,i,r)}}(),ye={$isResolver:!0,resolve:(e,t)=>t};function Ae(e){return"function"==typeof e.register}function we(e){return function(e){return Ae(e)&&"boolean"==typeof e.registerInRequester}(e)&&e.registerInRequester}const Ce=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),ke=Z.annotation.keyFor("di:factory");class xe{constructor(e,t=se){this.parent=e,this.config=t,this.registerDepth=0,this.disposableResolvers=new Set,null===e?(this.root=this,this.resolvers=new Map,this.resourceResolvers=Object.create(null)):(this.root=e.root,this.resolvers=new Map,this.resourceResolvers=Object.assign(Object.create(null),this.root.resourceResolvers)),this.resolvers.set(ae,ye)}register(...e){if(100==++this.registerDepth)throw new Error("Unable to autoregister dependency");let t,n,i,s,o;for(let a=0,c=e.length;a<c;++a)if(t=e[a],r(t))if(Ae(t))t.register(this);else if(Z.resource.has(t)){const e=Z.resource.getAll(t);if(1===e.length)e[0].register(this);else{const t=e.length;for(let n=0;n<t;++n)e[n].register(this)}}else if(void 0!==t.prototype)Te.singleton(t,t).register(this);else for(n=Object.keys(t),s=0,o=n.length;s<o;++s)i=t[n[s]],r(i)&&(Ae(i)?i.register(this):this.register(i));return--this.registerDepth,this}registerResolver(e,t,n=!1){Be(e);const r=this.resolvers,i=r.get(e);return null==i?(r.set(e,t),function(e){return"string"==typeof e&&e.indexOf(":")>0}(e)&&(this.resourceResolvers[e]=t)):i instanceof me&&4===i.strategy?i.state.push(t):r.set(e,new me(e,4,[i,t])),n&&this.disposableResolvers.add(t),t}registerTransformer(e,t){const n=this.getResolver(e);if(null==n)return!1;if(n.getFactory){const e=n.getFactory(this);return null!=e&&e.registerTransformer(t)}return!1}getResolver(e,t=!0){if(Be(e),void 0!==e.resolve)return e;let n,r=this;for(;null!=r;){if(n=r.resolvers.get(e),null!=n)return n;if(null==r.parent){const n=we(e)?this:r;return t?this.jitRegister(e,n):null}r=r.parent}return null}has(e,t=!1){return!!this.resolvers.has(e)||!(!t||null==this.parent)&&this.parent.has(e,!0)}get(e){if(Be(e),e.$isResolver)return e.resolve(this,this);let t,n=this;for(;null!=n;){if(t=n.resolvers.get(e),null!=t)return t.resolve(n,this);if(null==n.parent){const r=we(e)?this:n;return t=this.jitRegister(e,r),t.resolve(n,this)}n=n.parent}throw new Error("Unable to resolve key: "+e)}getAll(e){Be(e);let t,n=this;for(;null!=n;){if(t=n.resolvers.get(e),null!=t)return Ie(t,n,this);if(null==this.parent)return O.a.emptyArray;n=n.parent}return O.a.emptyArray}getFactory(e){let t=k.getOwn(ke,e);return void 0===t&&(k.define(ke,t=ve(e),e),Z.annotation.appendTo(e,ke)),t}registerFactory(e,t){Z.annotation.set(e,"di:factory",t),Z.annotation.appendTo(e,ke)}createChild(e){return new xe(this,null!=e?e:this.config)}disposeResolvers(){var e;const t=Array.from(this.disposableResolvers);for(;t.length>0;)null===(e=t.pop())||void 0===e||e.dispose()}dispose(){var e,t,n,r;this.disposeResolvers();for(const n in this.resourceResolvers)null===(t=(e=this.resourceResolvers[n]).dispose)||void 0===t||t.call(e);for(const e of this.resolvers.keys())null===(r=(n=this.resolvers.get(e)).dispose)||void 0===r||r.call(n);this.resolvers.clear(),this.root=this.parent=this.config=this.resolvers=this.resourceResolvers=this.disposableResolvers=null}jitRegister(e,t){if("function"!=typeof e)throw new Error(`Attempted to jitRegister something that is not a constructor: '${e}'. Did you forget to register this resource?`);if(Ce.has(e.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${e.name}. Did you forget to add @inject(Key)`);if(Ae(e)){const n=e.register(t,e);if(!(n instanceof Object)||null==n.resolve){const n=t.resolvers.get(e);if(null!=n)return n;throw Y.error(40)}return n}if(Z.resource.has(e)){const n=Z.resource.getAll(e);if(1===n.length)n[0].register(t);else{const e=n.length;for(let r=0;r<e;++r)n[r].register(t)}const r=t.resolvers.get(e);if(null!=r)return r;throw Y.error(40)}if(e.$isInterface)throw new Error("Attempted to jitRegister an interface: "+e.friendlyName);{const n=this.config.defaultResolver(e,t);return t.resolvers.set(e,n),n}}}class Se{constructor(e,t){this.key=e,this.params=t}register(e){if(e.has(this.key,!0)){e.get(this.key).register(e,...this.params)}else e.register(...this.params.filter(e=>"object"==typeof e))}}const Oe=new WeakMap;function je(e){return function(t,n,r){if(Oe.has(r))return Oe.get(r);const i=e(t,n,r);return Oe.set(r,i),i}}const Te={instance:(e,t)=>new me(e,0,t),singleton:(e,t)=>new me(e,1,t),transient:(e,t)=>new me(e,2,t),callback:(e,t)=>new me(e,3,t),cachedCallback:(e,t)=>new me(e,3,je(t)),aliasTo:(e,t)=>new me(t,5,e),defer:(e,...t)=>new Se(e,t)};class Re{constructor(){this.instance=null}prepare(e){this.instance=e}get $isResolver(){return!0}resolve(){if(void 0===this.instance)throw Y.error(50);return this.instance}dispose(){this.instance=null}}function Be(e){if(null==e)throw Y.error(5)}function Ie(e,t,n){if(e instanceof me&&4===e.strategy){const r=e.state;let i=r.length;const s=new Array(i);for(;i--;)s[i]=r[i].resolve(t,n);return s}return[e.resolve(t,n)]}var Ee,Pe=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},De=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Me=function(e,t){return function(n,r){t(n,r,e)}};!function(e){e[e.noColors=0]="noColors",e[e.colors=1]="colors"}(Ee||(Ee={}));const Ne=oe.createInterface("ILogConfig").withDefault(e=>e.instance(new qe(0,3))),Ve=oe.createInterface("ISink").noDefault(),$e=oe.createInterface("ILogEventFactory").withDefault(e=>e.singleton(Ke)),Fe=oe.createInterface("ILogger").withDefault(e=>e.singleton(Qe)),Le=oe.createInterface("ILogScope").noDefault(),_e=Object.freeze({key:Z.annotation.keyFor("logger-sink-handles"),define(e,t){return k.define(this.key,t.handles,e.prototype),e},getHandles(e){return k.get(this.key,e)}});const Ue=q({red:e=>`[31m${e}[39m`,green:e=>`[32m${e}[39m`,yellow:e=>`[33m${e}[39m`,blue:e=>`[34m${e}[39m`,magenta:e=>`[35m${e}[39m`,cyan:e=>`[36m${e}[39m`,white:e=>`[37m${e}[39m`,grey:e=>`[90m${e}[39m`});class qe{constructor(e,t){this.colorOptions=e,this.level=t}}const He=function(){const e=[q({TRC:"TRC",DBG:"DBG",INF:"INF",WRN:"WRN",ERR:"ERR",FTL:"FTL",QQQ:"???"}),q({TRC:Ue.grey("TRC"),DBG:Ue.grey("DBG"),INF:Ue.white("INF"),WRN:Ue.yellow("WRN"),ERR:Ue.red("ERR"),FTL:Ue.red("FTL"),QQQ:Ue.grey("???")})];return function(t,n){return t<=0?e[n].TRC:t<=1?e[n].DBG:t<=2?e[n].INF:t<=3?e[n].WRN:t<=4?e[n].ERR:t<=5?e[n].FTL:e[n].QQQ}}();function ze(e,t){return 0===t?new Date(e).toISOString():Ue.grey(new Date(e).toISOString())}class We{constructor(e,t,n,r,i,s){this.severity=e,this.message=t,this.optionalParams=n,this.scope=r,this.colorOptions=i,this.timestamp=s}toString(){const{severity:e,message:t,scope:n,colorOptions:r,timestamp:i}=this;return 0===n.length?`${ze(i,r)} [${He(e,r)}] ${t}`:`${ze(i,r)} [${He(e,r)} ${function(e,t){return 0===t?e.join("."):e.map(Ue.cyan).join(".")}(n,r)}] ${t}`}}let Ke=(()=>{let e=class{constructor(e){this.config=e}createLogEvent(e,t,n,r){return new We(t,n,r,e.scope,this.config.colorOptions,Date.now())}};return e=Pe([Me(0,Ne),De("design:paramtypes",[Object])],e),e})();class Ye{constructor(e){this.handleEvent=function(t){const n=t.optionalParams;if(void 0===n||0===n.length)switch(t.severity){case 0:case 1:return e.debug(t.toString());case 2:return e.info(t.toString());case 3:return e.warn(t.toString());case 4:case 5:return e.error(t.toString())}else switch(t.severity){case 0:case 1:return e.debug(t.toString(),...n);case 2:return e.info(t.toString(),...n);case 3:return e.warn(t.toString(),...n);case 4:case 5:return e.error(t.toString(),...n)}}}}let Qe=(()=>{let e=class e{constructor(e,t,n,r=[],i=null){var s,o,a,c,l,u;let h,d,p,f,g,m;if(this.config=e,this.factory=t,this.scope=r,this.scopedLoggers=Object.create(null),null===i){this.root=this,this.parent=this,h=this.traceSinks=[],d=this.debugSinks=[],p=this.infoSinks=[],f=this.warnSinks=[],g=this.errorSinks=[],m=this.fatalSinks=[];for(const e of n){const t=_e.getHandles(e);(null===(s=null==t?void 0:t.includes(0))||void 0===s||s)&&h.push(e),(null===(o=null==t?void 0:t.includes(1))||void 0===o||o)&&d.push(e),(null===(a=null==t?void 0:t.includes(2))||void 0===a||a)&&p.push(e),(null===(c=null==t?void 0:t.includes(3))||void 0===c||c)&&f.push(e),(null===(l=null==t?void 0:t.includes(4))||void 0===l||l)&&g.push(e),(null===(u=null==t?void 0:t.includes(5))||void 0===u||u)&&m.push(e)}}else this.root=i.root,this.parent=i,h=this.traceSinks=i.traceSinks,d=this.debugSinks=i.debugSinks,p=this.infoSinks=i.infoSinks,f=this.warnSinks=i.warnSinks,g=this.errorSinks=i.errorSinks,m=this.fatalSinks=i.fatalSinks;const b=(e,n,r,i)=>{const s="function"==typeof r?r():r,o=t.createLogEvent(this,n,s,i);for(let t=0,n=e.length;t<n;++t)e[t].handleEvent(o)};this.trace=function(t,...n){e.level<=0&&b(h,0,t,n)},this.debug=function(t,...n){e.level<=1&&b(d,1,t,n)},this.info=function(t,...n){e.level<=2&&b(p,2,t,n)},this.warn=function(t,...n){e.level<=3&&b(f,3,t,n)},this.error=function(t,...n){e.level<=4&&b(g,4,t,n)},this.fatal=function(t,...n){e.level<=5&&b(m,5,t,n)}}scopeTo(t){const n=this.scopedLoggers;let r=n[t];return void 0===r&&(r=n[t]=new e(this.config,this.factory,void 0,this.scope.concat(t),this)),r}};return e=Pe([Me(0,Ne),Me(1,$e),Me(2,he(Ve)),Me(3,de(Le)),Me(4,pe),De("design:paramtypes",[Object,Object,Array,Array,Object])],e),e})();q({create:({$console:e,level:t=3,colorOptions:n=0,sinks:r=[]}={})=>q({register(i){i.register(Te.instance(Ne,new qe(n,t))),null!=e&&i.register(Te.instance(Ve,new Ye(e)));for(const e of r)i.register(Te.singleton(Ve,e));return i}})});!function(){const e=O.a.now,t=[];let n;const r={createTimer:function(r){t.push(r);let i=0,s=0;return{enter:function(){1==++i&&(s=e(),++n[r].topLevelCount);++n[r].totalCount},leave:function(){0==--i&&(n[r].duration+=e()-s)}}},enable:function(){n={};for(const e of t)n[e]={name:e,duration:0,topLevelCount:0,totalCount:0};r.enabled=!0},disable:function(){r.enabled=!1},report:function(e){Object.keys(n).map(e=>n[e]).sort((e,t)=>t.duration-e.duration).forEach(t=>{e(t.name,t.duration,t.topLevelCount,t.totalCount)})},enabled:!1}}();class Ge{constructor(e,t){this.messageType=e,this.callback=t}handle(e){e instanceof this.messageType&&this.callback.call(null,e)}}function Je(e,t,n){try{e(t,n)}catch(e){Y.error(0,e)}}function Ze(e,t){try{e.handle(t)}catch(e){Y.error(0,e)}}oe.createInterface("IEventAggregator").withDefault(e=>e.singleton(Xe));class Xe{constructor(){this.eventLookup={},this.messageHandlers=[]}publish(e,t){if(!e)throw Y.error(0);if("string"==typeof e){let n=this.eventLookup[e];if(void 0!==n){n=n.slice();let r=n.length;for(;r-- >0;)Je(n[r],t,e)}}else{const t=this.messageHandlers.slice();let n=t.length;for(;n-- >0;)Ze(t[n],e)}}subscribe(e,t){if(!e)throw Y.error(0);let n,r;return"string"==typeof e?(void 0===this.eventLookup[e]&&(this.eventLookup[e]=[]),n=t,r=this.eventLookup[e]):(n=new Ge(e,t),r=this.messageHandlers),r.push(n),{dispose(){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}}subscribeOnce(e,t){const n=this.subscribe(e,(function(e,r){n.dispose(),t(e,r)}));return n}}},function(e,t,n){"use strict";n.d(t,"H",(function(){return w})),n.d(t,"Cb",(function(){return B})),n.d(t,"Jb",(function(){return P})),n.d(t,"q",(function(){return Ht})),n.d(t,"m",(function(){return Dt})),n.d(t,"yb",(function(){return Mt})),n.d(t,"g",(function(){return Nt})),n.d(t,"t",(function(){return Vt})),n.d(t,"d",(function(){return $t})),n.d(t,"c",(function(){return Ft})),n.d(t,"b",(function(){return Lt})),n.d(t,"a",(function(){return _t})),n.d(t,"s",(function(){return Ut})),n.d(t,"r",(function(){return qt})),n.d(t,"j",(function(){return zt})),n.d(t,"xb",(function(){return Wt})),n.d(t,"ib",(function(){return Kt})),n.d(t,"D",(function(){return Yt})),n.d(t,"f",(function(){return Qt})),n.d(t,"fb",(function(){return Gt})),n.d(t,"vb",(function(){return Jt})),n.d(t,"tb",(function(){return Zt})),n.d(t,"e",(function(){return Xt})),n.d(t,"eb",(function(){return en})),n.d(t,"n",(function(){return tn})),n.d(t,"C",(function(){return rn})),n.d(t,"X",(function(){return sn})),n.d(t,"lb",(function(){return Zr})),n.d(t,"Db",(function(){return vt})),n.d(t,"L",(function(){return ei})),n.d(t,"db",(function(){return qi})),n.d(t,"Y",(function(){return Hi})),n.d(t,"O",(function(){return Lr})),n.d(t,"T",(function(){return _r})),n.d(t,"S",(function(){return Ur})),n.d(t,"Hb",(function(){return Hr})),n.d(t,"qb",(function(){return et})),n.d(t,"Ob",(function(){return be})),n.d(t,"Bb",(function(){return kt})),n.d(t,"Eb",(function(){return ys})),n.d(t,"v",(function(){return Cs})),n.d(t,"Pb",(function(){return As})),n.d(t,"rb",(function(){return Co})),n.d(t,"h",(function(){return wo})),n.d(t,"jb",(function(){return ko})),n.d(t,"Fb",(function(){return ho})),n.d(t,"x",(function(){return mo})),n.d(t,"y",(function(){return fo})),n.d(t,"P",(function(){return bo})),n.d(t,"Qb",(function(){return Tt})),n.d(t,"R",(function(){return pn.a})),n.d(t,"Ab",(function(){return gs})),n.d(t,"k",(function(){return bs})),n.d(t,"u",(function(){return Ta})),n.d(t,"Lb",(function(){return Pa})),n.d(t,"Mb",(function(){return Da})),n.d(t,"i",(function(){return Ya})),n.d(t,"K",(function(){return Qa})),n.d(t,"ob",(function(){return tc})),n.d(t,"U",(function(){return j})),n.d(t,"A",(function(){return Ts})),n.d(t,"N",(function(){return ks})),n.d(t,"Q",(function(){return xs})),n.d(t,"J",(function(){return Ss})),n.d(t,"o",(function(){return D})),n.d(t,"E",(function(){return Q})),n.d(t,"F",(function(){return Y})),n.d(t,"G",(function(){return G})),n.d(t,"Z",(function(){return F})),n.d(t,"ab",(function(){return Z})),n.d(t,"bb",(function(){return J})),n.d(t,"mb",(function(){return W})),n.d(t,"pb",(function(){return K})),n.d(t,"M",(function(){return Qe})),n.d(t,"I",(function(){return We})),n.d(t,"W",(function(){return Ye})),n.d(t,"Ib",(function(){return ca})),n.d(t,"Nb",(function(){return aa})),n.d(t,"sb",(function(){return va})),n.d(t,"B",(function(){return un})),n.d(t,"zb",(function(){return ra})),n.d(t,"V",(function(){return $o})),n.d(t,"Kb",(function(){return _o})),n.d(t,"Gb",(function(){return qo})),n.d(t,"nb",(function(){return oc})),n.d(t,"l",(function(){return nc})),n.d(t,"p",(function(){return ie})),n.d(t,"w",(function(){return ne})),n.d(t,"z",(function(){return se})),n.d(t,"cb",(function(){return oe})),n.d(t,"gb",(function(){return re})),n.d(t,"hb",(function(){return ae})),n.d(t,"ub",(function(){return ee})),n.d(t,"wb",(function(){return ce})),n.d(t,"kb",(function(){return te}));var r=n(0);class i{constructor(e,t,n,r){if(this.chars=e,this.repeat=t,this.isSymbol=n,this.isInverted=r,r)switch(e.length){case 0:this.has=this.hasOfNoneInverse;break;case 1:this.has=this.hasOfSingleInverse;break;default:this.has=this.hasOfMultipleInverse}else switch(e.length){case 0:this.has=this.hasOfNone;break;case 1:this.has=this.hasOfSingle;break;default:this.has=this.hasOfMultiple}}equals(e){return this.chars===e.chars&&this.repeat===e.repeat&&this.isSymbol===e.isSymbol&&this.isInverted===e.isInverted}hasOfMultiple(e){return this.chars.includes(e)}hasOfSingle(e){return this.chars===e}hasOfNone(e){return!1}hasOfMultipleInverse(e){return!this.chars.includes(e)}hasOfSingleInverse(e){return this.chars!==e}hasOfNoneInverse(e){return!0}}class s{constructor(){this.parts=r.g.emptyArray,this._pattern="",this.currentRecord={},this.partsRecord={}}get pattern(){const e=this._pattern;return""===e?null:e}set pattern(e){null==e?(this._pattern="",this.parts=r.g.emptyArray):(this._pattern=e,this.parts=this.partsRecord[e])}append(e,t){const{currentRecord:n}=this;void 0===n[e]?n[e]=t:n[e]+=t}next(e){const{currentRecord:t}=this;if(void 0!==t[e]){const{partsRecord:n}=this;void 0===n[e]?n[e]=[t[e]]:n[e].push(t[e]),t[e]=void 0}}}class o{constructor(e,...t){this.charSpec=e,this.nextStates=[],this.types=null,this.isEndpoint=!1,this.patterns=t}get pattern(){return this.isEndpoint?this.patterns[0]:null}findChild(e){const t=this.nextStates,n=t.length;let r=null;for(let i=0;i<n;++i)if(r=t[i],e.equals(r.charSpec))return r;return null}append(e,t){const{patterns:n}=this;n.includes(t)||n.push(t);let r=this.findChild(e);return null==r&&(r=new o(e,t),this.nextStates.push(r),e.repeat&&r.nextStates.push(r)),r}findMatches(e,t){const n=[],r=this.nextStates,i=r.length;let s=0,o=null,a=0,c=0;for(;a<i;++a)if(o=r[a],o.charSpec.has(e))if(n.push(o),s=o.patterns.length,c=0,o.charSpec.isSymbol)for(;c<s;++c)t.next(o.patterns[c]);else for(;c<s;++c)t.append(o.patterns[c],e);return n}}class a{constructor(e){this.text=e,this.text=e;const t=this.len=e.length,n=this.specs=[];for(let r=0;r<t;++r)n.push(new i(e[r],!1,!1,!1))}eachChar(e){const{len:t,specs:n}=this;for(let r=0;r<t;++r)e(n[r])}}class c{constructor(e){this.text="PART",this.spec=new i(e,!0,!1,!0)}eachChar(e){e(this.spec)}}class l{constructor(e){this.text=e,this.spec=new i(e,!1,!0,!1)}eachChar(e){e(this.spec)}}class u{constructor(){this.statics=0,this.dynamics=0,this.symbols=0}}const h=r.a.createInterface("ISyntaxInterpreter").withDefault(e=>e.singleton(d));class d{constructor(){this.rootState=new o(null),this.initialStates=[this.rootState]}add(e){let t=0;if(Array.isArray(e)){const n=e.length;for(;t<n;++t)this.add(e[t]);return}let n=this.rootState;const r=e,i=r.pattern,s=new u,o=this.parse(r,s),a=o.length,c=e=>{n=n.append(e,i)};for(t=0;t<a;++t)o[t].eachChar(c);n.types=s,n.isEndpoint=!0}interpret(e){const t=new s;let n=this.initialStates;const r=e.length;for(let i=0;i<r&&(n=this.getNextStates(n,e.charAt(i),t),0!==n.length);++i);if(n.sort((e,t)=>{if(!e.isEndpoint)return t.isEndpoint?1:0;if(!t.isEndpoint)return-1;const n=e.types,r=t.types;return n.statics!==r.statics?r.statics-n.statics:n.dynamics!==r.dynamics?r.dynamics-n.dynamics:n.symbols!==r.symbols?r.symbols-n.symbols:0}),n.length>0){const e=n[0];e.charSpec.isSymbol||t.next(e.pattern),t.pattern=e.pattern}return t}getNextStates(e,t,n){const r=[];let i=null;const s=e.length;for(let o=0;o<s;++o)i=e[o],r.push(...i.findMatches(t,n));return r}parse(e,t){const n=[],r=e.pattern,i=r.length;let s=0,o=0,u="";for(;s<i;)u=r.charAt(s),e.symbols.includes(u)?s!==o?(n.push(new a(r.slice(o,s))),++t.statics,o=s):(n.push(new l(r.slice(o,s+1))),++t.symbols,o=++s):s===o&&"P"===u&&"PART"===r.slice(s,s+4)?(o=s+=4,n.push(new c(e.symbols)),++t.dynamics):++s;return o!==s&&(n.push(new a(r.slice(o,s))),++t.statics),n}}const p=r.a.createInterface("IAttributePattern").noDefault();function f(...e){return function(t){return m.define(e,t)}}class g{constructor(e){this.Type=e,this.name=void 0}register(e){r.i.singleton(p,this.Type).register(e)}}const m=Object.freeze({name:r.h.resource.keyFor("attribute-pattern"),definitionAnnotationKey:"attribute-pattern-definitions",define(e,t){!function(e,t){for(const n of t)n.pattern in e?"function"!=typeof e[n.pattern]&&r.j.write(402,n.pattern):r.j.write(401,n.pattern)}(t.prototype,e);const n=new g(t),{name:i,definitionAnnotationKey:s}=m;return r.f.define(i,n,t),r.h.resource.appendTo(t,i),r.h.annotation.set(t,s,e),r.h.annotation.appendTo(t,s),t},getPatternDefinitions:e=>r.h.annotation.get(e,m.definitionAnnotationKey)});var b=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},v=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},y=function(e,t){return function(n,r){t(n,r,e)}};class A{constructor(e,t,n,r){this.rawName=e,this.rawValue=t,this.target=n,this.command=r}}const w=r.a.createInterface("IAttributeParser").withDefault(e=>e.singleton(C));let C=(()=>{let e=class{constructor(e,t){this.interpreter=e,this.cache={},this.interpreter=e;const n=this.patterns={};t.forEach(t=>{const r=m.getPatternDefinitions(t.constructor);e.add(r),r.forEach(e=>{n[e.pattern]=t})})}parse(e,t){let n=this.cache[e];null==n&&(n=this.cache[e]=this.interpreter.interpret(e));const r=n.pattern;return null==r?new A(e,t,e,null):this.patterns[r][r](e,t,n.parts)}};return e=b([y(0,h),y(1,Object(r.l)(p)),v("design:paramtypes",[Object,Array])],e),e})();var k=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let x=(()=>{let e=class{"PART.PART"(e,t,n){return new A(e,t,n[0],n[1])}"PART.PART.PART"(e,t,n){return new A(e,t,n[0],n[2])}};return e=k([f({pattern:"PART.PART",symbols:"."},{pattern:"PART.PART.PART",symbols:"."})],e),e})(),S=(()=>{let e=class{ref(e,t,n){return new A(e,t,"element","ref")}"PART.ref"(e,t,n){return new A(e,t,n[0],"ref")}};return e=k([f({pattern:"ref",symbols:""},{pattern:"PART.ref",symbols:"."})],e),e})();(()=>{let e=class{":PART"(e,t,n){return new A(e,t,n[0],"bind")}};e=k([f({pattern:":PART",symbols:":"})],e)})(),(()=>{let e=class{"@PART"(e,t,n){return new A(e,t,n[0],"trigger")}};e=k([f({pattern:"@PART",symbols:"@"})],e)})();var O;!function(e){e.hydrateElement="ra",e.hydrateAttribute="rb",e.hydrateTemplateController="rc",e.hydrateLetElement="rd",e.setProperty="re",e.interpolation="rf",e.propertyBinding="rg",e.callBinding="rh",e.letBinding="ri",e.refBinding="rj",e.iteratorBinding="rk"}(O||(O={}));const j=r.a.createInterface("ITargetedInstruction").noDefault();let T=(()=>{class e{constructor(e){this.hasCreate="create"in e,this.hasBeforeCompile="beforeCompile"in e,this.hasAfterCompile="afterCompile"in e,this.hasAfterCompileChildren="afterCompileChildren"in e,this.hasBeforeBind="beforeBind"in e,this.hasAfterBind="afterBind"in e,this.hasAfterAttach="afterAttach"in e,this.hasAfterAttachChildren="afterAttachChildren"in e,this.hasBeforeDetach="beforeDetach"in e,this.hasBeforeUnbind="beforeUnbind"in e,this.hasAfterUnbind="afterUnbind"in e,this.hasAfterUnbindChildren="afterUnbindChildren"in e,this.hasDispose="dispose"in e,this.hasAccept="accept"in e}}return e.none=new e({}),e})();function R(e,t,n,i){for(let s=0,o=e.length;s<o;++s)r.i.aliasTo(n,t.keyFrom(e[s])).register(i)}function B(e){return function(t){return E.define(e,t)}}class I{constructor(e,t,n,r,i){this.Type=e,this.name=t,this.aliases=n,this.key=r,this.type=i}static create(e,t){let n,i;return"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e),new I(t,Object(r.p)(E.getAnnotation(t,"name"),n),Object(r.A)(E.getAnnotation(t,"aliases"),i.aliases,t.aliases),E.keyFrom(n),Object(r.p)(E.getAnnotation(t,"type"),i.type,t.type,null))}register(e){const{Type:t,key:n,aliases:i}=this;r.i.singleton(n,t).register(e),r.i.aliasTo(n,t).register(e),R(i,E,n,e)}}const E={name:r.h.resource.keyFor("binding-command"),keyFrom:e=>`${E.name}:${e}`,isType:e=>"function"==typeof e&&r.f.hasOwn(E.name,e),define(e,t){const n=I.create(e,t);return r.f.define(E.name,n,n.Type),r.f.define(E.name,n,n),r.h.resource.appendTo(t,E.name),n.Type},getDefinition(e){const t=r.f.getOwn(E.name,e);if(void 0===t)throw new Error("No definition found for type "+e.name);return t},annotate(e,t,n){r.f.define(r.h.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>r.f.getOwn(r.h.annotation.keyFor(t),e)};function P(e,t){return 256&e.flags?e.bindable.propName:t?Object(r.n)(e.syntax.target):e.syntax.target}var D,M;!function(e){e[e.oneTime=1]="oneTime",e[e.toView=2]="toView",e[e.fromView=4]="fromView",e[e.twoWay=6]="twoWay",e[e.default=8]="default"}(D||(D={})),function(e){e[e.getterSetter=1]="getterSetter",e[e.proxies=2]="proxies"}(M||(M={}));var N,V,$;!function(e){e[e.none=0]="none",e[e.persistentBindingFlags=31751]="persistentBindingFlags",e[e.allowParentScopeTraversal=1024]="allowParentScopeTraversal",e[e.observeLeafPropertiesOnly=2048]="observeLeafPropertiesOnly",e[e.targetObserverFlags=12295]="targetObserverFlags",e[e.noTargetObserverQueue=4096]="noTargetObserverQueue",e[e.persistentTargetObserverQueue=8192]="persistentTargetObserverQueue",e[e.secondaryExpression=16384]="secondaryExpression",e[e.bindingStrategy=7]="bindingStrategy",e[e.getterSetterStrategy=1]="getterSetterStrategy",e[e.proxyStrategy=2]="proxyStrategy",e[e.isStrictBindingStrategy=4]="isStrictBindingStrategy",e[e.update=24]="update",e[e.updateTargetInstance=8]="updateTargetInstance",e[e.updateSourceExpression=16]="updateSourceExpression",e[e.from=96]="from",e[e.fromBind=32]="fromBind",e[e.fromUnbind=64]="fromUnbind",e[e.mustEvaluate=128]="mustEvaluate",e[e.isTraversingParentScope=256]="isTraversingParentScope",e[e.dispose=512]="dispose"}(N||(N={})),function(e){e[e.Connects=32]="Connects",e[e.Observes=64]="Observes",e[e.CallsFunction=128]="CallsFunction",e[e.HasAncestor=256]="HasAncestor",e[e.IsPrimary=512]="IsPrimary",e[e.IsLeftHandSide=1024]="IsLeftHandSide",e[e.HasBind=2048]="HasBind",e[e.HasUnbind=4096]="HasUnbind",e[e.IsAssignable=8192]="IsAssignable",e[e.IsLiteral=16384]="IsLiteral",e[e.IsResource=32768]="IsResource",e[e.IsForDeclaration=65536]="IsForDeclaration",e[e.Type=31]="Type",e[e.AccessThis=1793]="AccessThis",e[e.AccessScope=10082]="AccessScope",e[e.ArrayLiteral=17955]="ArrayLiteral",e[e.ObjectLiteral=17956]="ObjectLiteral",e[e.PrimitiveLiteral=17925]="PrimitiveLiteral",e[e.Template=17958]="Template",e[e.Unary=39]="Unary",e[e.CallScope=1448]="CallScope",e[e.CallMember=1161]="CallMember",e[e.CallFunction=1162]="CallFunction",e[e.AccessMember=9323]="AccessMember",e[e.AccessKeyed=9324]="AccessKeyed",e[e.TaggedTemplate=1197]="TaggedTemplate",e[e.Binary=46]="Binary",e[e.Conditional=63]="Conditional",e[e.Assign=8208]="Assign",e[e.ValueConverter=36913]="ValueConverter",e[e.BindingBehavior=38962]="BindingBehavior",e[e.HtmlLiteral=51]="HtmlLiteral",e[e.ArrayBindingPattern=65556]="ArrayBindingPattern",e[e.ObjectBindingPattern=65557]="ObjectBindingPattern",e[e.BindingIdentifier=65558]="BindingIdentifier",e[e.ForOfStatement=6199]="ForOfStatement",e[e.Interpolation=24]="Interpolation"}(V||(V={}));class F{constructor(e,t){this.from=e,this.to=t,this.type="rf"}}class L{constructor(e,t){this.from=e,this.to=t,this.type="rg",this.mode=D.oneTime,this.oneTime=!0}}class _{constructor(e,t){this.from=e,this.to=t,this.type="rg",this.mode=D.toView,this.oneTime=!1}}class U{constructor(e,t){this.from=e,this.to=t,this.type="rg",this.mode=D.fromView,this.oneTime=!1}}class q{constructor(e,t){this.from=e,this.to=t,this.type="rg",this.mode=D.twoWay,this.oneTime=!1}}class H{constructor(e,t){this.from=e,this.to=t,this.type="rk"}}class z{constructor(e,t){this.from=e,this.to=t,this.type="rh"}}class W{constructor(e,t){this.from=e,this.to=t,this.type="rj",this.type="rj"}}class K{constructor(e,t){this.value=e,this.to=t,this.type="re"}}class Y{constructor(e,t,n){this.res=e,this.instructions=t,this.slotInfo=n,this.type="ra"}}class Q{constructor(e,t){this.res=e,this.instructions=t,this.type="rb"}}class G{constructor(e,t,n,r){this.def=e,this.res=t,this.instructions=n,this.link=r,this.type="rc"}}class J{constructor(e,t){this.instructions=e,this.toBindingContext=t,this.type="rd"}}class Z{constructor(e,t){this.from=e,this.to=t,this.type="ri"}}function X(e){const t=e.createElement("au-m");return e.makeTarget(t),t}!function(e){e[e.type=1023]="type",e[e.isTemplateController=1]="isTemplateController",e[e.isProjection=2]="isProjection",e[e.isCustomAttribute=4]="isCustomAttribute",e[e.isPlainAttribute=8]="isPlainAttribute",e[e.isCustomElement=16]="isCustomElement",e[e.isLetElement=32]="isLetElement",e[e.isPlainElement=64]="isPlainElement",e[e.isText=128]="isText",e[e.isBinding=256]="isBinding",e[e.isAuSlot=512]="isAuSlot",e[e.hasMarker=1024]="hasMarker",e[e.hasTemplate=2048]="hasTemplate",e[e.hasAttributes=4096]="hasAttributes",e[e.hasBindings=8192]="hasBindings",e[e.hasChildNodes=16384]="hasChildNodes",e[e.hasProjections=32768]="hasProjections"}($||($={}));class ee{constructor(e,t,n,r=n.name){this.syntax=t,this.info=n,this.res=r,this.flags=1025,this.physicalNode=null,this.template=null,this.templateController=null,this._bindings=null,this.marker=X(e)}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class te{constructor(e,t){this.name=e,this.template=t,this.flags=2}}class ne{constructor(e,t,n=t.name){this.syntax=e,this.info=t,this.res=n,this.flags=4,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class re{constructor(e,t,n){this.syntax=e,this.command=t,this.expression=n,this.flags=8}}class ie{constructor(e,t,n,r,i){this.command=e,this.bindable=t,this.expression=n,this.rawValue=r,this.target=i,this.flags=256}}class se{constructor(e,t,n,r=n.name,i=n.bindables){this.physicalNode=t,this.info=n,this.res=r,this.bindables=i,this.flags=16,this.isTarget=!0,this.templateController=null,this._customAttributes=null,this._plainAttributes=null,this._bindings=null,this._childNodes=null,this._projections=null,n.containerless?(this.isContainerless=!0,this.marker=X(e),this.flags|=1024):(this.isContainerless=!1,this.marker=null)}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}get projections(){return null===this._projections&&(this._projections=[],this.flags|=32768),this._projections}}class oe{constructor(e,t,n=X(e)){this.physicalNode=t,this.marker=n,this.flags=1056,this.toBindingContext=!1,this._bindings=null}get bindings(){return null===this._bindings&&(this._bindings=[],this.flags|=8192),this._bindings}}class ae{constructor(e,t){this.physicalNode=t,this.flags=64,this.isTarget=!1,this.templateController=null,this.hasSlots=!1,this._customAttributes=null,this._plainAttributes=null,this._childNodes=null}get customAttributes(){return null===this._customAttributes&&(this._customAttributes=[],this.flags|=4096),this._customAttributes}get plainAttributes(){return null===this._plainAttributes&&(this._plainAttributes=[],this.flags|=4096),this._plainAttributes}get childNodes(){return null===this._childNodes&&(this._childNodes=[],this.flags|=16384),this._childNodes}}class ce{constructor(e,t,n,r=X(e)){this.physicalNode=t,this.interpolation=n,this.marker=r,this.flags=1152}}var le=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let ue=(()=>{let e=class{constructor(){this.bindingType=49}compile(e){return new L(e.expression,P(e,!1))}};return e=le([B("one-time")],e),e})(),he=(()=>{let e=class{constructor(){this.bindingType=50}compile(e){return new _(e.expression,P(e,!1))}};return e=le([B("to-view")],e),e})(),de=(()=>{let e=class{constructor(){this.bindingType=51}compile(e){return new U(e.expression,P(e,!1))}};return e=le([B("from-view")],e),e})(),pe=(()=>{let e=class{constructor(){this.bindingType=52}compile(e){return new q(e.expression,P(e,!1))}};return e=le([B("two-way")],e),e})(),fe=(()=>{let e=class{constructor(){this.bindingType=53}compile(e){let t=D.default;if(e instanceof ie)t=e.bindable.mode;else{switch(e.syntax.command){case"bind":case"to-view":t=D.toView;break;case"one-time":t=D.oneTime;break;case"from-view":t=D.fromView;break;case"two-way":t=D.twoWay}}switch(t){case D.default:case D.toView:return he.prototype.compile(e);case D.oneTime:return ue.prototype.compile(e);case D.fromView:return de.prototype.compile(e);case D.twoWay:return pe.prototype.compile(e)}}};return e=le([B("bind")],e),e})(),ge=(()=>{let e=class{constructor(){this.bindingType=153}compile(e){return new z(e.expression,P(e,!0))}};return e=le([B("call")],e),e})(),me=(()=>{let e=class{constructor(){this.bindingType=539}compile(e){return new H(e.expression,P(e,!1))}};return e=le([B("for")],e),e})();function be(){return function(e){const t=e.prototype;t._subscriberFlags=0,t.addSubscriber=ye,t.removeSubscriber=Ce,t.hasSubscriber=Te,t.hasSubscribers=Se,t.callSubscribers=Ie,void 0===t.subscribe&&(t.subscribe=ye),void 0===t.unsubscribe&&(t.unsubscribe=Ce)}}function ve(){return function(e){const t=e.prototype;t._collectionSubscriberFlags=0,t.addCollectionSubscriber=we,t.removeCollectionSubscriber=xe,t.hasCollectionSubscriber=Be,t.hasCollectionSubscribers=je,t.callCollectionSubscribers=De,void 0===t.subscribeToCollection&&(t.subscribeToCollection=we),void 0===t.unsubscribeFromCollection&&(t.unsubscribeFromCollection=xe)}}function ye(e){if(this.hasSubscriber(e))return!1;const t=this._subscriberFlags;return 0==(1&t)?(this._subscriber0=e,this._subscriberFlags|=1):0==(2&t)?(this._subscriber1=e,this._subscriberFlags|=2):0==(4&t)?(this._subscriber2=e,this._subscriberFlags|=4):0==(8&t)?(this._subscribersRest=[e],this._subscriberFlags|=8):this._subscribersRest.push(e),!0}function Ae(e){if(this.hasProxySubscriber(e))return!1;const t=this._proxySubscriberFlags;return 0==(1&t)?(this._proxySubscriber0=e,this._proxySubscriberFlags|=1):0==(2&t)?(this._proxySubscriber1=e,this._proxySubscriberFlags|=2):0==(4&t)?(this._proxySubscriber2=e,this._proxySubscriberFlags|=4):0==(8&t)?(this._proxySubscribersRest=[e],this._proxySubscriberFlags|=8):this._proxySubscribersRest.push(e),!0}function we(e){if(this.hasCollectionSubscriber(e))return!1;const t=this._collectionSubscriberFlags;return 0==(1&t)?(this._collectionSubscriber0=e,this._collectionSubscriberFlags|=1):0==(2&t)?(this._collectionSubscriber1=e,this._collectionSubscriberFlags|=2):0==(4&t)?(this._collectionSubscriber2=e,this._collectionSubscriberFlags|=4):0==(8&t)?(this._collectionSubscribersRest=[e],this._collectionSubscriberFlags|=8):this._collectionSubscribersRest.push(e),!0}function Ce(e){const t=this._subscriberFlags;if((1&t)>0&&this._subscriber0===e)return this._subscriber0=void 0,this._subscriberFlags=1^(1|this._subscriberFlags),!0;if((2&t)>0&&this._subscriber1===e)return this._subscriber1=void 0,this._subscriberFlags=2^(2|this._subscriberFlags),!0;if((4&t)>0&&this._subscriber2===e)return this._subscriber2=void 0,this._subscriberFlags=4^(4|this._subscriberFlags),!0;if((8&t)>0){const t=this._subscribersRest;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return t.splice(n,1),1===r&&(this._subscriberFlags=8^(8|this._subscriberFlags)),!0}return!1}function ke(e){const t=this._proxySubscriberFlags;if((1&t)>0&&this._proxySubscriber0===e)return this._proxySubscriber0=void 0,this._proxySubscriberFlags=1^(1|this._proxySubscriberFlags),!0;if((2&t)>0&&this._proxySubscriber1===e)return this._proxySubscriber1=void 0,this._proxySubscriberFlags=2^(2|this._proxySubscriberFlags),!0;if((4&t)>0&&this._proxySubscriber2===e)return this._proxySubscriber2=void 0,this._proxySubscriberFlags=4^(4|this._proxySubscriberFlags),!0;if((8&t)>0){const t=this._proxySubscribersRest;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return t.splice(n,1),1===r&&(this._proxySubscriberFlags=8^(8|this._proxySubscriberFlags)),!0}return!1}function xe(e){const t=this._collectionSubscriberFlags;if((1&t)>0&&this._collectionSubscriber0===e)return this._collectionSubscriber0=void 0,this._collectionSubscriberFlags=1^(1|this._collectionSubscriberFlags),!0;if((2&t)>0&&this._collectionSubscriber1===e)return this._collectionSubscriber1=void 0,this._collectionSubscriberFlags=2^(2|this._collectionSubscriberFlags),!0;if((4&t)>0&&this._collectionSubscriber2===e)return this._collectionSubscriber2=void 0,this._collectionSubscriberFlags=4^(4|this._collectionSubscriberFlags),!0;if((8&t)>0){const t=this._collectionSubscribersRest;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return t.splice(n,1),1===r&&(this._collectionSubscriberFlags=8^(8|this._collectionSubscriberFlags)),!0}return!1}function Se(){return 0!==this._subscriberFlags}function Oe(){return 0!==this._proxySubscriberFlags}function je(){return 0!==this._collectionSubscriberFlags}function Te(e){const t=this._subscriberFlags;if((1&t)>0&&this._subscriber0===e)return!0;if((2&t)>0&&this._subscriber1===e)return!0;if((4&t)>0&&this._subscriber2===e)return!0;if((8&t)>0){const t=this._subscribersRest;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return!0}return!1}function Re(e){const t=this._proxySubscriberFlags;if((1&t)>0&&this._proxySubscriber0===e)return!0;if((2&t)>0&&this._proxySubscriber1===e)return!0;if((4&t)>0&&this._proxySubscriber2===e)return!0;if((8&t)>0){const t=this._proxySubscribersRest;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return!0}return!1}function Be(e){const t=this._collectionSubscriberFlags;if((1&t)>0&&this._collectionSubscriber0===e)return!0;if((2&t)>0&&this._collectionSubscriber1===e)return!0;if((4&t)>0&&this._collectionSubscriber2===e)return!0;if((8&t)>0){const t=this._collectionSubscribersRest;for(let n=0,r=t.length;n<r;++n)if(t[n]===e)return!0}return!1}function Ie(e,t,n){const r=this._subscriber0,i=this._subscriber1,s=this._subscriber2;let o=this._subscribersRest;if(void 0!==o&&(o=o.slice()),void 0!==r&&Ee(r,e,t,n,void 0===r.id?0:this[r.id]),void 0!==i&&Ee(i,e,t,n,void 0===i.id?0:this[i.id]),void 0!==s&&Ee(s,e,t,n,void 0===s.id?0:this[s.id]),void 0!==o){const{length:r}=o;let i;for(let s=0;s<r;++s)i=o[s],void 0!==i&&Ee(i,e,t,n,void 0===i.id?0:this[i.id])}}function Ee(e,t,n,r,i){e.handleChange(t,n,24^(24|r)|i)}function Pe(e,t,n,r){const i=this._proxySubscriber0,s=this._proxySubscriber1,o=this._proxySubscriber2;let a=this._proxySubscribersRest;if(void 0!==a&&(a=a.slice()),void 0!==i&&i.handleProxyChange(e,t,n,r),void 0!==s&&s.handleProxyChange(e,t,n,r),void 0!==o&&o.handleProxyChange(e,t,n,r),void 0!==a){const{length:i}=a;let s;for(let o=0;o<i;++o)s=a[o],void 0!==s&&s.handleProxyChange(e,t,n,r)}}function De(e,t){const n=this._collectionSubscriber0,r=this._collectionSubscriber1,i=this._collectionSubscriber2;let s=this._collectionSubscribersRest;if(void 0!==s&&(s=s.slice()),void 0!==n&&n.handleCollectionChange(e,t),void 0!==r&&r.handleCollectionChange(e,t),void 0!==i&&i.handleCollectionChange(e,t),void 0!==s){const{length:n}=s;let r;for(let i=0;i<n;++i)r=s[i],void 0!==r&&r.handleCollectionChange(e,t)}}var Me=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ne=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const Ve=new WeakMap;let $e=(()=>{let e=class{constructor(e,t,n){this.proxy=e,this.raw=t,this.key=n,this.inBatch=!1,this.subscribe=this.addSubscriber,this.unsubscribe=this.removeSubscriber,t[n]instanceof Object&&(t[n]=Fe.getOrCreate(t[n]).proxy)}setValue(e,t){const n=this.raw[this.key];n!==e&&(this.raw[this.key]=e,this.callSubscribers(e,n,10|t))}getValue(){return this.raw[this.key]}flushBatch(e){}};return e=Me([be(),Ne("design:paramtypes",[Object,Object,Object])],e),e})(),Fe=(()=>{var e;let t=e=class{constructor(e){this.raw=e,this.proxy=new Proxy(e,this),Ve.set(e,this.proxy),this.subscribers={}}static getProxyOrSelf(e){if(void 0===e.$raw){const t=Ve.get(e);return void 0===t?e:t}return e}static getRawIfProxy(e){const t=e.$raw;return void 0===t?e:t}static getOrCreate(t,n){let r;if(void 0===t.$raw){const n=Ve.get(t);r=void 0===n?new e(t):n.$observer}else r=t.$observer;if(void 0===n)return r;let i=r.subscribers[n];if(void 0===i){const e=this.getRawIfProxy(t),s=r.proxy;i=r.subscribers[n]=new $e(s,e,n)}return i}static isProxy(e){return void 0!==e.$raw}get(e,t,n){return"$observer"===t?this:"$raw"===t?e:e[t]}set(e,t,n,r){const i=e[t];return i!==n&&(e[t]=n,this.callPropertySubscribers(n,i,t),this.callProxySubscribers(t,n,i,10)),!0}deleteProperty(e,t){const n=e[t];return!!Reflect.deleteProperty(e,t)&&(void 0!==n&&(this.callPropertySubscribers(void 0,n,t),this.callProxySubscribers(t,void 0,n,10)),!0)}defineProperty(e,t,n){const r=e[t];return!!Reflect.defineProperty(e,t,n)&&(n.value!==r&&(this.callPropertySubscribers(n.value,r,t),this.callProxySubscribers(t,n.value,r,10)),!0)}apply(e,t,n=r.g.emptyArray){return Reflect.apply(e,e,n)}subscribe(e,t){if(void 0===t)this.addProxySubscriber(e);else{let n=this.subscribers[t];void 0===n&&(n=this.subscribers[t]=new $e(this.proxy,this.raw,t)),n.addSubscriber(e)}}unsubscribe(e,t){if(void 0===t)this.removeProxySubscriber(e);else{const n=this.subscribers[t];void 0!==n&&n.removeSubscriber(e)}}callPropertySubscribers(e,t,n){const r=this.subscribers[n];void 0!==r&&r.callSubscribers(e,t,10)}};return t=e=Me([function(e){const t=e.prototype;t._proxySubscriberFlags=0,t.addProxySubscriber=Ae,t.removeProxySubscriber=ke,t.hasProxySubscriber=Re,t.hasProxySubscribers=Oe,t.callProxySubscribers=Pe,void 0===t.subscribeToProxy&&(t.subscribeToProxy=Ae),void 0===t.unsubscribeFromProxy&&(t.unsubscribeFromProxy=ke)},Ne("design:paramtypes",[Object])],t),t})();var Le,_e,Ue=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},qe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},He=function(e,t){return function(n,r){t(n,r,e)}};function ze(e){const t=[];return 1==(1&e)&&t.push("activating"),14==(14&e)?t.push("activated"):(2==(2&e)&&t.push("beforeBindCalled"),4==(4&e)&&t.push("activateChildrenCalled")),16==(16&e)&&t.push("deactivating"),224==(224&e)?t.push("deactivated"):(32==(32&e)&&t.push("beforeDetachCalled"),64==(64&e)&&t.push("deactivateChildrenCalled")),256==(256&e)&&t.push("released"),512==(512&e)&&t.push("disposed"),0===t.length?"none":t.join("|")}!function(e){e[e.customElement=0]="customElement",e[e.customAttribute=1]="customAttribute",e[e.synthetic=2]="synthetic"}(Le||(Le={})),function(e){e[e.none=0]="none",e[e.activating=1]="activating",e[e.beforeBindCalled=2]="beforeBindCalled",e[e.activateChildrenCalled=4]="activateChildrenCalled",e[e.activated=14]="activated",e[e.deactivating=16]="deactivating",e[e.beforeDetachCalled=32]="beforeDetachCalled",e[e.deactivateChildrenCalled=64]="deactivateChildrenCalled",e[e.deactivated=224]="deactivated",e[e.released=256]="released",e[e.disposed=512]="disposed"}(_e||(_e={}));const We=r.a.createInterface("IController").noDefault();var Ke;!function(e){e[e.insertBefore=1]="insertBefore",e[e.append=2]="append"}(Ke||(Ke={}));const Ye=r.a.createInterface("IViewFactory").noDefault(),Qe=r.a.createInterface("ILifecycle").withDefault(e=>e.singleton(Je));let Ge=(()=>{let e=class{constructor(e){this.lifecycle=e,this.queue=[],this.depth=0}begin(){++this.depth}end(e){void 0===e&&(e=0),0==--this.depth&&this.process(e)}inline(e,t){this.begin(),e(),this.end(t)}add(e){this.queue.push(e)}remove(e){const t=this.queue.indexOf(e);t>-1&&this.queue.splice(t,1)}process(e){for(;this.queue.length>0;){const t=this.queue.slice();this.queue=[];const{length:n}=t;for(let r=0;r<n;++r)t[r].flushBatch(e)}}};return e=Ue([He(0,Qe),qe("design:paramtypes",[Object])],e),e})();class Je{constructor(){this.batch=new Ge(this)}static register(e){return r.i.singleton(Qe,this).register(e)}}var Ze=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Xe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let et=(()=>{let e=class{constructor(e,t,n,r){this.lifecycle=e,this.obj=n,this.propertyKey=r,this.currentValue=void 0,this.oldValue=void 0,this.inBatch=!1,this.observing=!1,this.type=4,this.persistentFlags=31751&t}getValue(){return this.currentValue}setValue(e,t){if(this.observing){const n=this.currentValue;this.currentValue=e,this.callSubscribers(e,n,this.persistentFlags|t)}else this.obj[this.propertyKey]=e}flushBatch(e){this.inBatch=!1;const t=this.currentValue,n=this.oldValue;this.oldValue=t,this.callSubscribers(t,n,this.persistentFlags|e)}subscribe(e){!1===this.observing&&(this.observing=!0,this.currentValue=this.obj[this.propertyKey],Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:e=>{this.setValue(e,0)}})||r.j.write(1,this.propertyKey,this.obj)),this.addSubscriber(e)}};return e=Ze([be(),Xe("design:paramtypes",[Object,Number,Object,String])],e),e})();var tt;!function(e){e[e.NilScope=250]="NilScope",e[e.NilOverrideContext=252]="NilOverrideContext",e[e.NilParentScope=253]="NilParentScope"}(tt||(tt={}));const nt=Object.freeze({});class rt{getOrCreate(e,t,n,r){return void 0===this[r]&&(this[r]=new et(e,t,n,r)),this[r]}}class it{constructor(e,t){if(this.$synthetic=!0,void 0!==e)if(void 0!==t)this[e]=t;else for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this[t]=e[t])}static create(e,t,n){const r=new it(t,n);return 2&e?Fe.getOrCreate(r).proxy:r}static get(e,t,n,i,s){if(null==e&&null==s)throw r.j.error(250);let o=st(e,t,n);return null!==o||s!==e&&null!=s&&(o=st(s,t,n),null!==o)?o:256&i?nt:e.bindingContext||e.overrideContext}getObservers(e){return null==this.$observers&&(this.$observers=new rt),this.$observers}}function st(e,t,n){var r,i;let s=e.overrideContext,o=e;if(n>0){for(;n>0;)if(n--,o=o.parentScope,null==(null==o?void 0:o.overrideContext))return;return s=o.overrideContext,t in s?s:s.bindingContext}for(;s&&!(t in s)&&(!s.bindingContext||!(t in s.bindingContext));)o=null!==(r=o.parentScope)&&void 0!==r?r:null,s=null!==(i=null==o?void 0:o.overrideContext)&&void 0!==i?i:null;return s?t in s?s:s.bindingContext:null}class ot{constructor(e,t,n){this.parentScope=e,this.bindingContext=t,this.overrideContext=n}static create(e,t,n){return new ot(null,t,null==n?at.create(e,t):n)}static fromOverride(e,t){if(null==t)throw r.j.error(252);return new ot(null,t.bindingContext,t)}static fromParent(e,t,n){if(null==t)throw r.j.error(253);return new ot(t,n,at.create(e,n))}}class at{constructor(e){this.$synthetic=!0,this.bindingContext=e}static create(e,t){return new at(t)}getObservers(){return void 0===this.$observers&&(this.$observers=new rt),this.$observers}}const ct=r.a.createInterface("ISignaler").withDefault(e=>e.singleton(lt));class lt{constructor(){this.signals=Object.create(null)}dispatchSignal(e,t){const n=this.signals[e];if(void 0!==n)for(const e of n.keys())e.handleChange(void 0,void 0,8|t)}addSignalListener(e,t){const n=this.signals,r=n[e];void 0===r?n[e]=new Set([t]):r.add(t)}removeSignalListener(e,t){const n=this.signals[e];n&&n.delete(t)}}Array.prototype.slice;const ut=[],ht=[];let dt=-1;function pt(e){if(e===dt){dt+=5;const t=ut.length=ht.length=dt+1;for(let n=e+1;n<t;++n)ut[n]="_observer"+n,ht[n]="_observerVersion"+n}}function ft(e){const t=null==this.observerSlots?0:this.observerSlots;let n=t;for(;n--&&this[ut[n]]!==e;);if(-1===n){for(n=0;this[ut[n]];)n++;this[ut[n]]=e,e.subscribe(this),e[this.id]|=8,n===t&&(this.observerSlots=n+1)}null==this.version&&(this.version=0),this[ht[n]]=this.version,pt(n)}function gt(e,t,n){const r=this.observerLocator.getObserver(e,t,n);this.addObserver(r)}function mt(e){const t=this.observerSlots;let n,r;if(!0===e)for(let e=0;e<t;++e)n=ut[e],r=this[n],null!=r&&(this[n]=void 0,r.unsubscribe(this),r[this.id]&=-9);else{const e=this.version;for(let i=0;i<t;++i)this[ht[i]]!==e&&(n=ut[i],r=this[n],null!=r&&(this[n]=void 0,r.unsubscribe(this),r[this.id]&=-9))}}function bt(e){const t=e.prototype;return Object.prototype.hasOwnProperty.call(t,"observeProperty")||(t.observeProperty=gt),Object.prototype.hasOwnProperty.call(t,"unobserve")||(t.unobserve=mt),Object.prototype.hasOwnProperty.call(t,"addObserver")||(t.addObserver=ft),e}function vt(e){return null==e?bt:bt(e)}pt(-1);let yt=0;vt.assignIdTo=e=>{e.id=++yt};var At,wt=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ct=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function kt(e){return function(t){return jt.define(e,t)}}!function(e){e[e.singleton=1]="singleton",e[e.interceptor=2]="interceptor"}(At||(At={}));class xt{constructor(e,t,n,r,i){this.Type=e,this.name=t,this.aliases=n,this.key=r,this.strategy=i}static create(e,t){let n,i;"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e);const s=Object.getPrototypeOf(t)===Ot;return new xt(t,Object(r.p)(jt.getAnnotation(t,"name"),n),Object(r.A)(jt.getAnnotation(t,"aliases"),i.aliases,t.aliases),jt.keyFrom(n),Object(r.q)("strategy",i,t,()=>s?2:1))}register(e){const{Type:t,key:n,aliases:i,strategy:s}=this;switch(s){case 1:r.i.singleton(n,t).register(e);break;case 2:r.i.instance(n,new St(e,t)).register(e)}r.i.aliasTo(n,t).register(e),R(i,jt,n,e)}}class St{constructor(e,t){this.container=e,this.Type=t,this.deps=r.a.getDependencies(t)}construct(e,t){const n=this.container,r=this.deps;switch(r.length){case 0:case 1:case 2:return new this.Type(e,t);case 3:return new this.Type(n.get(r[0]),e,t);case 4:return new this.Type(n.get(r[0]),n.get(r[1]),e,t);default:return new this.Type(...r.map(e=>n.get(e)),e,t)}}}let Ot=(()=>{let e=class{constructor(e,t){let n;for(this.binding=e,this.expr=t,this.interceptor=this;e.interceptor!==this;)n=e.interceptor,e.interceptor=this,e=n}get id(){return this.binding.id}get observerLocator(){return this.binding.observerLocator}get locator(){return this.binding.locator}get $scope(){return this.binding.$scope}get isBound(){return this.binding.isBound}updateTarget(e,t){this.binding.updateTarget(e,t)}updateSource(e,t){this.binding.updateSource(e,t)}callSource(e){return this.binding.callSource(e)}handleChange(e,t,n){this.binding.handleChange(e,t,n)}$bind(e,t,n){this.binding.$bind(e,t,n)}$unbind(e){this.binding.$unbind(e)}};return e=wt([vt,Ct("design:paramtypes",[Object,Object])],e),e})();const jt={name:r.h.resource.keyFor("binding-behavior"),keyFrom:e=>`${jt.name}:${e}`,isType:e=>"function"==typeof e&&r.f.hasOwn(jt.name,e),define(e,t){const n=xt.create(e,t);return r.f.define(jt.name,n,n.Type),r.f.define(jt.name,n,n),r.h.resource.appendTo(t,jt.name),n.Type},getDefinition(e){const t=r.f.getOwn(jt.name,e);if(void 0===t)throw new Error("No definition found for type "+e.name);return t},annotate(e,t,n){r.f.define(r.h.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>r.f.getOwn(r.h.annotation.keyFor(t),e)};function Tt(e){return function(t){return Bt.define(e,t)}}class Rt{constructor(e,t,n,r){this.Type=e,this.name=t,this.aliases=n,this.key=r}static create(e,t){let n,i;return"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e),new Rt(t,Object(r.p)(Bt.getAnnotation(t,"name"),n),Object(r.A)(Bt.getAnnotation(t,"aliases"),i.aliases,t.aliases),Bt.keyFrom(n))}register(e){const{Type:t,key:n,aliases:i}=this;r.i.singleton(n,t).register(e),r.i.aliasTo(n,t).register(e),R(i,Bt,n,e)}}const Bt={name:r.h.resource.keyFor("value-converter"),keyFrom:e=>`${Bt.name}:${e}`,isType:e=>"function"==typeof e&&r.f.hasOwn(Bt.name,e),define(e,t){const n=Rt.create(e,t);return r.f.define(Bt.name,n,n.Type),r.f.define(Bt.name,n,n),r.h.resource.appendTo(t,Bt.name),n.Type},getDefinition(e){const t=r.f.getOwn(Bt.name,e);if(void 0===t)throw new Error("No definition found for type "+e.name);return t},annotate(e,t,n){r.f.define(r.h.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>r.f.getOwn(r.h.annotation.keyFor(t),e)};function It(e,t,n){if(e){if(null==n)throw new Error("Host scope is missing. Are you using `$host` outside the `au-slot`? Or missing the `au-slot` attribute?");return n}return t}var Et;!function(e){e[e.NoLocator=202]="NoLocator",e[e.NoBehaviorFound=203]="NoBehaviorFound",e[e.BehaviorAlreadyApplied=204]="BehaviorAlreadyApplied",e[e.NoConverterFound=205]="NoConverterFound",e[e.NoBinding=206]="NoBinding",e[e.NotAFunction=207]="NotAFunction",e[e.UnknownOperator=208]="UnknownOperator",e[e.NilScope=250]="NilScope"}(Et||(Et={}));class Pt{constructor(e){this.value=e}evaluate(e,t,n,r){return this.value}}class Dt{constructor(e,t,n){this.expression=e,this.name=t,this.args=n,this.behaviorKey=jt.keyFrom(t)}get $kind(){return 38962}get hasBind(){return!0}get hasUnbind(){return!0}evaluate(e,t,n,r){return this.expression.evaluate(e,t,n,r)}assign(e,t,n,r,i){return this.expression.assign(e,t,n,r,i)}connect(e,t,n,r){this.expression.connect(e,t,n,r)}bind(e,t,n,i){if(null==t)throw r.j.error(250,this);if(!i)throw r.j.error(206,this);const s=i.locator;if(!s)throw r.j.error(202,this);this.expression.hasBind&&this.expression.bind(e,t,n,i);const o=this.behaviorKey,a=s.get(o);if(!a)throw r.j.error(203,this);a instanceof St||(void 0===i[o]?(i[o]=a,a.bind.call(a,e,t,n,i,...on(e,t,s,this.args,n))):r.j.write(204,this))}unbind(e,t,n,r){const i=this.behaviorKey;void 0!==r[i]&&("function"==typeof r[i].unbind&&r[i].unbind(e,t,n,r),r[i]=void 0),this.expression.hasUnbind&&this.expression.unbind(e,t,n,r)}accept(e){return e.visitBindingBehavior(this)}}class Mt{constructor(e,t,n){this.expression=e,this.name=t,this.args=n,this.converterKey=Bt.keyFrom(t)}get $kind(){return 36913}get hasBind(){return!1}get hasUnbind(){return!0}evaluate(e,t,n,i){if(!i)throw r.j.error(202,this);const s=i.get(this.converterKey);if(!s)throw r.j.error(205,this);if("toView"in s){const r=this.args,o=r.length,a=Array(o+1);a[0]=this.expression.evaluate(e,t,n,i);for(let s=0;s<o;++s)a[s+1]=r[s].evaluate(e,t,n,i);return s.toView.call(s,...a)}return this.expression.evaluate(e,t,n,i)}assign(e,t,n,i,s){if(!i)throw r.j.error(202,this);const o=i.get(this.converterKey);if(!o)throw r.j.error(205,this);return"fromView"in o&&(s=o.fromView.call(o,s,...on(e,t,i,this.args,n))),this.expression.assign(e,t,n,i,s)}connect(e,t,n,i){if(null==t)throw r.j.error(250,this);if(!i)throw r.j.error(206,this);const s=i.locator;if(!s)throw r.j.error(202,this);this.expression.connect(e,t,n,i);const o=this.args;for(let r=0,s=o.length;r<s;++r)o[r].connect(e,t,n,i);const a=s.get(this.converterKey);if(!a)throw r.j.error(205,this);const c=a.signals;if(void 0===c)return;const l=s.get(ct);for(let e=0,t=c.length;e<t;++e)l.addSignalListener(c[e],i)}unbind(e,t,n,r){const i=r.locator,s=i.get(this.converterKey).signals;if(void 0===s)return;const o=i.get(ct);for(let e=0,t=s.length;e<t;++e)o.removeSignalListener(s[e],r)}accept(e){return e.visitValueConverter(this)}}class Nt{constructor(e,t){this.target=e,this.value=t}get $kind(){return 8208}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){return this.target.assign(e,t,n,r,this.value.evaluate(e,t,n,r))}connect(e,t,n,r){}assign(e,t,n,r,i){return this.value.assign(e,t,n,r,i),this.target.assign(e,t,n,r,i)}accept(e){return e.visitAssign(this)}}class Vt{constructor(e,t,n){this.condition=e,this.yes=t,this.no=n}get $kind(){return 63}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){return this.condition.evaluate(e,t,n,r)?this.yes.evaluate(e,t,n,r):this.no.evaluate(e,t,n,r)}assign(e,t,n,r,i){}connect(e,t,n,r){this.condition.evaluate(e,t,n,r.locator)?(this.condition.connect(e,t,n,r),this.yes.connect(e,t,n,r)):(this.condition.connect(e,t,n,r),this.no.connect(e,t,n,r))}accept(e){return e.visitConditional(this)}}let $t=(()=>{class e{constructor(e=0){this.ancestor=e}get $kind(){return 1793}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(t,n,i,s){var o;if(null==n)throw r.j.error(250,this);this===e.$host&&(n=It(!0,n,i));let a=n.overrideContext,c=n,l=this.ancestor;for(;l--&&a;)c=c.parentScope,a=null!==(o=null==c?void 0:c.overrideContext)&&void 0!==o?o:null;return l<1&&a?a.bindingContext:void 0}assign(e,t,n,r,i){}connect(e,t,n,r){}accept(e){return e.visitAccessThis(this)}}return e.$this=new e(0),e.$host=new e(0),e.$parent=new e(1),e})();class Ft{constructor(e,t=0,n=!1){this.name=e,this.ancestor=t,this.accessHostScope=n}get $kind(){return 10082}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=it.get(It(this.accessHostScope,t,n),this.name,this.ancestor,e,n)[this.name];return 4&e?i:null==i?"":i}assign(e,t,n,r,i){const s=it.get(It(this.accessHostScope,t,n),this.name,this.ancestor,e,n);if(s instanceof Object)return void 0!==s.$observers&&void 0!==s.$observers[this.name]?(s.$observers[this.name].setValue(i,e),i):s[this.name]=i}connect(e,t,n,r){const i=it.get(It(this.accessHostScope,t,n),this.name,this.ancestor,e,n);r.observeProperty(e,i,this.name)}accept(e){return e.visitAccessScope(this)}}class Lt{constructor(e,t){this.object=e,this.name=t}get $kind(){return 9323}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=this.object.evaluate(e,t,n,r);return 4&e?null==i?i:i[this.name]:i?i[this.name]:""}assign(e,t,n,r,i){const s=this.object.evaluate(e,t,n,r);return s instanceof Object?void 0!==s.$observers&&void 0!==s.$observers[this.name]?s.$observers[this.name].setValue(i,e):s[this.name]=i:this.object.assign(e,t,n,r,{[this.name]:i}),i}connect(e,t,n,r){const i=this.object.evaluate(e,t,n,r.locator);0==(2048&e)&&this.object.connect(e,t,n,r),i instanceof Object&&r.observeProperty(e,i,this.name)}accept(e){return e.visitAccessMember(this)}}class _t{constructor(e,t){this.object=e,this.key=t}get $kind(){return 9324}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=this.object.evaluate(e,t,n,r);if(i instanceof Object){return i[this.key.evaluate(e,t,n,r)]}}assign(e,t,n,r,i){return this.object.evaluate(e,t,n,r)[this.key.evaluate(e,t,n,r)]=i}connect(e,t,n,r){const i=this.object.evaluate(e,t,n,r.locator);if(0==(2048&e)&&this.object.connect(e,t,n,r),i instanceof Object){this.key.connect(e,t,n,r);const s=this.key.evaluate(e,t,n,r.locator);r.observeProperty(e,i,s)}}accept(e){return e.visitAccessKeyed(this)}}class Ut{constructor(e,t,n=0,r=!1){this.name=e,this.args=t,this.ancestor=n,this.accessHostScope=r}get $kind(){return 1448}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=on(e,t=It(this.accessHostScope,t,n),r,this.args,n),s=it.get(t,this.name,this.ancestor,e,n),o=an(e,s,this.name);if(o)return o.apply(s,i)}assign(e,t,n,r,i){}connect(e,t,n,r){const i=this.args;for(let s=0,o=i.length;s<o;++s)i[s].connect(e,t,n,r)}accept(e){return e.visitCallScope(this)}}class qt{constructor(e,t,n){this.object=e,this.name=t,this.args=n}get $kind(){return 1161}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=this.object.evaluate(e,t,n,r),s=on(e,t,r,this.args,n),o=an(e,i,this.name);if(o)return o.apply(i,s)}assign(e,t,n,r,i){}connect(e,t,n,r){const i=this.object.evaluate(e,t,n,r.locator);if(0==(2048&e)&&this.object.connect(e,t,n,r),an(-129&e,i,this.name)){const i=this.args;for(let s=0,o=i.length;s<o;++s)i[s].connect(e,t,n,r)}}accept(e){return e.visitCallMember(this)}}class Ht{constructor(e,t){this.func=e,this.args=t}get $kind(){return 1162}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i){const s=this.func.evaluate(e,t,n,i);if("function"==typeof s)return s(...on(e,t,i,this.args,n));if(128&e||null!=s)throw r.j.error(207,this)}assign(e,t,n,r,i){}connect(e,t,n,r){const i=this.func.evaluate(e,t,n,r.locator);if(this.func.connect(e,t,n,r),"function"==typeof i){const i=this.args;for(let s=0,o=i.length;s<o;++s)i[s].connect(e,t,n,r)}}accept(e){return e.visitCallFunction(this)}}class zt{constructor(e,t,n){this.operation=e,this.left=t,this.right=n}get $kind(){return 46}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i){switch(this.operation){case"&&":return this.left.evaluate(e,t,n,i)&&this.right.evaluate(e,t,n,i);case"||":return this.left.evaluate(e,t,n,i)||this.right.evaluate(e,t,n,i);case"==":return this.left.evaluate(e,t,n,i)==this.right.evaluate(e,t,n,i);case"===":return this.left.evaluate(e,t,n,i)===this.right.evaluate(e,t,n,i);case"!=":return this.left.evaluate(e,t,n,i)!=this.right.evaluate(e,t,n,i);case"!==":return this.left.evaluate(e,t,n,i)!==this.right.evaluate(e,t,n,i);case"instanceof":{const r=this.right.evaluate(e,t,n,i);return"function"==typeof r&&this.left.evaluate(e,t,n,i)instanceof r}case"in":{const r=this.right.evaluate(e,t,n,i);return r instanceof Object&&this.left.evaluate(e,t,n,i)in r}case"+":{const s=this.left.evaluate(e,t,n,i),o=this.right.evaluate(e,t,n,i);if((4&e)>0)return s+o;if(!s||!o){if(Object(r.w)(s)||Object(r.w)(o))return(s||0)+(o||0);if(Object(r.y)(s)||Object(r.y)(o))return(s||"")+(o||"")}return s+o}case"-":return this.left.evaluate(e,t,n,i)-this.right.evaluate(e,t,n,i);case"*":return this.left.evaluate(e,t,n,i)*this.right.evaluate(e,t,n,i);case"/":return this.left.evaluate(e,t,n,i)/this.right.evaluate(e,t,n,i);case"%":return this.left.evaluate(e,t,n,i)%this.right.evaluate(e,t,n,i);case"<":return this.left.evaluate(e,t,n,i)<this.right.evaluate(e,t,n,i);case">":return this.left.evaluate(e,t,n,i)>this.right.evaluate(e,t,n,i);case"<=":return this.left.evaluate(e,t,n,i)<=this.right.evaluate(e,t,n,i);case">=":return this.left.evaluate(e,t,n,i)>=this.right.evaluate(e,t,n,i);default:throw r.j.error(208,this)}}assign(e,t,n,r,i){}connect(e,t,n,r){this.left.connect(e,t,n,r),this.right.connect(e,t,n,r)}accept(e){return e.visitBinary(this)}}class Wt{constructor(e,t){this.operation=e,this.expression=t}get $kind(){return 39}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i){switch(this.operation){case"void":return void this.expression.evaluate(e,t,n,i);case"typeof":return typeof this.expression.evaluate(4|e,t,n,i);case"!":return!this.expression.evaluate(e,t,n,i);case"-":return-this.expression.evaluate(e,t,n,i);case"+":return+this.expression.evaluate(e,t,n,i);default:throw r.j.error(208,this)}}assign(e,t,n,r,i){}connect(e,t,n,r){this.expression.connect(e,t,n,r)}accept(e){return e.visitUnary(this)}}let Kt=(()=>{class e{constructor(e){this.value=e}get $kind(){return 17925}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){return this.value}assign(e,t,n,r,i){}connect(e,t,n,r){}accept(e){return e.visitPrimitiveLiteral(this)}}return e.$undefined=new e(void 0),e.$null=new e(null),e.$true=new e(!0),e.$false=new e(!1),e.$empty=new e(""),e})();class Yt{constructor(e){this.parts=e}get $kind(){return 51}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=this.parts;let s,o="";for(let a=0,c=i.length;a<c;++a)s=i[a].evaluate(e,t,n,r),null!=s&&(o+=s);return o}assign(e,t,n,r,i,s){}connect(e,t,n,r){for(let i=0,s=this.parts.length;i<s;++i)this.parts[i].connect(e,t,n,r)}accept(e){return e.visitHtmlLiteral(this)}}let Qt=(()=>{class e{constructor(e){this.elements=e}get $kind(){return 17955}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=this.elements,s=i.length,o=Array(s);for(let a=0;a<s;++a)o[a]=i[a].evaluate(e,t,n,r);return o}assign(e,t,n,r,i){}connect(e,t,n,r){const i=this.elements;for(let s=0,o=i.length;s<o;++s)i[s].connect(e,t,n,r)}accept(e){return e.visitArrayLiteral(this)}}return e.$empty=new e(r.g.emptyArray),e})(),Gt=(()=>{class e{constructor(e,t){this.keys=e,this.values=t}get $kind(){return 17956}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i={},s=this.keys,o=this.values;for(let a=0,c=s.length;a<c;++a)i[s[a]]=o[a].evaluate(e,t,n,r);return i}assign(e,t,n,r,i){}connect(e,t,n,r){const i=this.keys,s=this.values;for(let o=0,a=i.length;o<a;++o)s[o].connect(e,t,n,r)}accept(e){return e.visitObjectLiteral(this)}}return e.$empty=new e(r.g.emptyArray,r.g.emptyArray),e})(),Jt=(()=>{class e{constructor(e,t=r.g.emptyArray){this.cooked=e,this.expressions=t}get $kind(){return 17958}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){const i=this.expressions,s=this.cooked;let o=s[0];for(let a=0,c=i.length;a<c;++a)o+=i[a].evaluate(e,t,n,r),o+=s[a+1];return o}assign(e,t,n,r,i){}connect(e,t,n,r){const i=this.expressions;for(let s=0,o=i.length;s<o;++s)i[s].connect(e,t,n,r),s++}accept(e){return e.visitTemplate(this)}}return e.$empty=new e([""]),e})();class Zt{constructor(e,t,n,i=r.g.emptyArray){this.cooked=e,this.func=n,this.expressions=i,e.raw=t}get $kind(){return 1197}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,i){const s=this.expressions,o=s.length,a=Array(o);for(let r=0,c=o;r<c;++r)a[r]=s[r].evaluate(e,t,n,i);const c=this.func.evaluate(e,t,n,i);if("function"!=typeof c)throw r.j.error(207,this);return c(this.cooked,...a)}assign(e,t,n,r,i){}connect(e,t,n,r){const i=this.expressions;for(let s=0,o=i.length;s<o;++s)i[s].connect(e,t,n,r);this.func.connect(e,t,n,r)}accept(e){return e.visitTaggedTemplate(this)}}class Xt{constructor(e){this.elements=e}get $kind(){return 65556}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){}assign(e,t,n,r,i){}connect(e,t,n,r){}accept(e){return e.visitArrayBindingPattern(this)}}class en{constructor(e,t){this.keys=e,this.values=t}get $kind(){return 65557}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){}assign(e,t,n,r,i){}connect(e,t,n,r){}accept(e){return e.visitObjectBindingPattern(this)}}class tn{constructor(e){this.name=e}get $kind(){return 65558}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){return this.name}connect(e,t,n,r){}accept(e){return e.visitBindingIdentifier(this)}}const nn=Object.prototype.toString;class rn{constructor(e,t){this.declaration=e,this.iterable=t}get $kind(){return 6199}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){return this.iterable.evaluate(e,t,n,r)}assign(e,t,n,r,i){}count(e,t){switch(nn.call(t)){case"[object Array]":return t.length;case"[object Map]":case"[object Set]":return t.size;case"[object Number]":return t;case"[object Null]":case"[object Undefined]":return 0;default:throw r.j.error(0)}}iterate(e,t,n){switch(nn.call(t)){case"[object Array]":return cn(e,t,n);case"[object Map]":return function(e,t,n){const r=Array(t.size);let i=-1;for(const e of t.entries())r[++i]=e;cn(e,r,n)}(e,t,n);case"[object Set]":return function(e,t,n){const r=Array(t.size);let i=-1;for(const e of t.keys())r[++i]=e;cn(e,r,n)}(e,t,n);case"[object Number]":return function(e,t,n){const r=Array(t);for(let e=0;e<t;++e)r[e]=e;cn(e,r,n)}(e,t,n);case"[object Null]":case"[object Undefined]":return;default:throw r.j.error(0)}}connect(e,t,n,r){this.declaration.connect(e,t,n,r),this.iterable.connect(e,t,n,r)}bind(e,t,n,r){this.iterable.hasBind&&this.iterable.bind(e,t,n,r)}unbind(e,t,n,r){this.iterable.hasUnbind&&this.iterable.unbind(e,t,n,r)}accept(e){return e.visitForOfStatement(this)}}class sn{constructor(e,t=r.g.emptyArray){this.parts=e,this.expressions=t,this.isMulti=t.length>1,this.firstExpression=t[0]}get $kind(){return 24}get hasBind(){return!1}get hasUnbind(){return!1}evaluate(e,t,n,r){if(this.isMulti){const i=this.expressions,s=this.parts;let o=s[0];for(let a=0,c=i.length;a<c;++a)o+=i[a].evaluate(e,t,n,r),o+=s[a+1];return o}{const i=this.parts;return`${i[0]}${this.firstExpression.evaluate(e,t,n,r)}${i[1]}`}}assign(e,t,n,r,i){}connect(e,t,n,r){}accept(e){return e.visitInterpolation(this)}}function on(e,t,n,r,i){const s=r.length,o=Array(s);for(let a=0;a<s;++a)o[a]=r[a].evaluate(e,t,i,n);return o}function an(e,t,n){const i=null==t?null:t[n];if("function"==typeof i)return i;if(!(128&e)&&null==i)return null;throw r.j.error(207,t,n,i)}function cn(e,t,n){if(2==(2&e)){const e=Fe.getRawIfProxy(t),r=e.length;let i,s=0;for(;s<r;++s)i=e[s],i instanceof Object&&(i=e[s]=Fe.getOrCreate(i).proxy),n(e,s,i)}else for(let e=0,r=t.length;e<r;++e)n(t,e,t[e])}var ln,un,hn,dn,pn=n(3);function fn(e=0){const t=Array(e);let n=0;for(;n<e;)t[n]=n++;return t.deletedItems=[],t.isIndexMap=!0,t}!function(e){e[e.None=0]="None",e[e.Subscriber0=1]="Subscriber0",e[e.Subscriber1=2]="Subscriber1",e[e.Subscriber2=4]="Subscriber2",e[e.SubscribersRest=8]="SubscribersRest",e[e.Any=15]="Any"}(ln||(ln={})),function(e){e[e.none=0]="none",e[e.capturing=1]="capturing",e[e.bubbling=2]="bubbling"}(un||(un={})),function(e){e[e.indexed=8]="indexed",e[e.keyed=4]="keyed",e[e.array=9]="array",e[e.map=6]="map",e[e.set=7]="set"}(hn||(hn={})),function(e){e[e.None=0]="None",e[e.Observer=1]="Observer",e[e.Node=2]="Node",e[e.Obj=4]="Obj",e[e.Array=10]="Array",e[e.Set=18]="Set",e[e.Map=34]="Map",e[e.Layout=64]="Layout"}(dn||(dn={}));var gn=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},mn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let bn=(()=>{let e=class{constructor(e){this.obj=e,this.type=10,this.task=null,this.currentValue=e.length}getValue(){return this.obj.length}setValue(e,t){const n=this.currentValue;e!==n&&(this.currentValue=e,this.callSubscribers(e,n,8|t))}};return e=gn([be(),mn("design:paramtypes",[Array])],e),e})();var vn=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},yn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const An=new WeakMap;function wn(e,t){return e===t?0:(e=null===e?"null":e.toString())<(t=null===t?"null":t.toString())?-1:1}function Cn(e,t){return void 0===e?void 0===t?0:1:void 0===t?-1:0}function kn(e,t,n,r,i){let s,o,a,c,l,u,h;for(u=n+1;u<r;u++){for(s=e[u],o=t[u],h=u-1;h>=n&&(a=e[h],c=t[h],l=i(a,s),l>0);h--)e[h+1]=a,t[h+1]=c;e[h+1]=s,t[h+1]=o}}function xn(e,t,n,r,i){let s,o,a,c,l,u,h,d,p,f,g,m,b,v,y,A,w,C,k,x=0,S=0;for(;;){if(r-n<=10)return void kn(e,t,n,r,i);x=n+(r-n>>1),s=e[n],c=t[n],o=e[r-1],l=t[r-1],a=e[x],u=t[x],h=i(s,o),h>0&&(f=s,g=c,s=o,c=l,o=f,l=g),d=i(s,a),d>=0?(f=s,g=c,s=a,c=u,a=o,u=l,o=f,l=g):(p=i(o,a),p>0&&(f=o,g=l,o=a,l=u,a=f,u=g)),e[n]=s,t[n]=c,e[r-1]=a,t[r-1]=u,m=o,b=l,v=n+1,y=r-1,e[x]=e[v],t[x]=t[v],e[v]=m,t[v]=b;e:for(S=v+1;S<y;S++)if(A=e[S],w=t[S],C=i(A,m),C<0)e[S]=e[v],t[S]=t[v],e[v]=A,t[v]=w,v++;else if(C>0){do{if(y--,y==S)break e;k=e[y],C=i(k,m)}while(C>0);e[S]=e[y],t[S]=t[y],e[y]=A,t[y]=w,C<0&&(A=e[S],w=t[S],e[S]=e[v],t[S]=t[v],e[v]=A,t[v]=w,v++)}r-y<v-n?(xn(e,t,y,r,i),r=v):(xn(e,t,n,v,i),n=y)}}const Sn=Array.prototype,On=Sn.push,jn=Sn.unshift,Tn=Sn.pop,Rn=Sn.shift,Bn=Sn.splice,In=Sn.reverse,En=Sn.sort,Pn=["push","unshift","pop","shift","splice","reverse","sort"],Dn={push:function(...e){let t=this;void 0!==t.$raw&&(t=t.$raw);const n=An.get(t);if(void 0===n)return On.apply(t,e);const r=t.length,i=e.length;if(0===i)return r;t.length=n.indexMap.length=r+i;let s=r;for(;s<t.length;)t[s]=e[s-r],n.indexMap[s]=-2,s++;return n.notify(),t.length},unshift:function(...e){let t=this;void 0!==t.$raw&&(t=t.$raw);const n=An.get(t);if(void 0===n)return jn.apply(t,e);const r=e.length,i=new Array(r);let s=0;for(;s<r;)i[s++]=-2;jn.apply(n.indexMap,i);const o=jn.apply(t,e);return n.notify(),o},pop:function(){let e=this;void 0!==e.$raw&&(e=e.$raw);const t=An.get(e);if(void 0===t)return Tn.call(e);const n=t.indexMap,r=Tn.call(e),i=n.length-1;return n[i]>-1&&n.deletedItems.push(n[i]),Tn.call(n),t.notify(),r},shift:function(){let e=this;void 0!==e.$raw&&(e=e.$raw);const t=An.get(e);if(void 0===t)return Rn.call(e);const n=t.indexMap,r=Rn.call(e);return n[0]>-1&&n.deletedItems.push(n[0]),Rn.call(n),t.notify(),r},splice:function(...e){const t=e[0],n=e[1];let r=this;void 0!==r.$raw&&(r=r.$raw);const i=An.get(r);if(void 0===i)return Bn.apply(r,e);const s=this.length,o=0|t,a=o<0?Math.max(s+o,0):Math.min(o,s),c=i.indexMap,l=e.length,u=0===l?0:1===l?s-a:n;if(u>0){let e=a;const t=e+u;for(;e<t;)c[e]>-1&&c.deletedItems.push(c[e]),e++}if(l>2){const e=l-2,r=new Array(e);let i=0;for(;i<e;)r[i++]=-2;Bn.call(c,t,n,...r)}else Bn.apply(c,e);const h=Bn.apply(r,e);return i.notify(),h},reverse:function(){let e=this;void 0!==e.$raw&&(e=e.$raw);const t=An.get(e);if(void 0===t)return In.call(e),this;const n=e.length,r=n/2|0;let i=0;for(;i!==r;){const r=n-i-1,s=e[i],o=t.indexMap[i],a=e[r],c=t.indexMap[r];e[i]=a,t.indexMap[i]=c,e[r]=s,t.indexMap[r]=o,i++}return t.notify(),this},sort:function(e){let t=this;void 0!==t.$raw&&(t=t.$raw);const n=An.get(t);if(void 0===n)return En.call(t,e),this;const r=t.length;if(r<2)return this;xn(t,n.indexMap,0,r,Cn);let i=0;for(;i<r&&void 0!==t[i];)i++;return void 0!==e&&"function"==typeof e||(e=wn),xn(t,n.indexMap,0,i,e),n.notify(),this}},Mn={writable:!0,enumerable:!1,configurable:!0},Nn=Reflect.defineProperty;for(const e of Pn)Nn(Dn[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Vn=!1;let $n=(()=>{let e=class{constructor(e,t,n){this.type=10,this.task=null,Vn||(Vn=!0,function(){for(const e of Pn)!0!==Sn[e].observing&&Nn(Sn,e,{...Mn,value:Dn[e]})}()),this.inBatch=!1,this.indexObservers={},this.collection=n,this.persistentFlags=31751&e,this.indexMap=fn(n.length),this.lifecycle=t,this.lengthObserver=void 0,An.set(n,this)}notify(){this.lifecycle.batch.depth>0?this.inBatch||(this.inBatch=!0,this.lifecycle.batch.add(this)):this.flushBatch(0)}getLengthObserver(){return void 0===this.lengthObserver&&(this.lengthObserver=new bn(this.collection)),this.lengthObserver}getIndexObserver(e){return this.getOrCreateIndexObserver(e)}flushBatch(e){const t=this.indexMap,n=this.collection.length;this.inBatch=!1,this.indexMap=fn(n),this.callCollectionSubscribers(t,8|this.persistentFlags),void 0!==this.lengthObserver&&this.lengthObserver.setValue(n,8)}addIndexObserver(e){this.addCollectionSubscriber(e)}removeIndexObserver(e){this.removeCollectionSubscriber(e)}getOrCreateIndexObserver(e){const t=this.indexObservers;let n=t[e];return void 0===n&&(n=t[e]=new Fn(this,e)),n}};return e=vn([ve(),yn("design:paramtypes",[Number,Object,Object])],e),e})(),Fn=(()=>{let e=class{constructor(e,t){this.owner=e,this.index=t,this.subscriberCount=0,this.currentValue=this.getValue()}getValue(){return this.owner.collection[this.index]}setValue(e,t){if(e===this.getValue())return;const n=this.owner,r=this.index,i=n.indexMap;i[r]>-1&&i.deletedItems.push(i[r]),i[r]=-2,n.collection[r]=e,n.notify()}handleCollectionChange(e,t){const n=this.index;if(e[n]===n)return;const r=this.currentValue,i=this.currentValue=this.getValue();r!==i&&this.callSubscribers(i,r,t)}subscribe(e){this.addSubscriber(e)&&1==++this.subscriberCount&&this.owner.addIndexObserver(this)}unsubscribe(e){this.removeSubscriber(e)&&0==--this.subscriberCount&&this.owner.removeIndexObserver(this)}};return e=vn([be(),yn("design:paramtypes",[$n,Number])],e),e})();function Ln(e,t,n){const r=An.get(n);return void 0===r?new $n(e,t,n):r}var _n=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Un=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const qn={static:!1,volatile:!1};let Hn=(()=>{let e=class{constructor(e,t,n){this.obj=e,this.propertyKey=t,this.descriptor=n,this.currentValue=void 0,this.oldValue=void 0,this.observing=!1}setValue(e){this.descriptor.set.call(this.obj,e),this.currentValue!==e&&(this.oldValue=this.currentValue,this.currentValue=e,this.callSubscribers(e,this.oldValue,8))}subscribe(e){this.observing||this.convertProperty(),this.addSubscriber(e)}unsubscribe(e){this.removeSubscriber(e)}convertProperty(){this.observing=!0,this.currentValue=this.obj[this.propertyKey];Reflect.defineProperty(this.obj,this.propertyKey,{set:e=>{this.setValue(e)},get:this.descriptor.get})}};return e=_n([be(),Un("design:paramtypes",[Object,String,Object])],e),e})(),zn=(()=>{let e=class{constructor(e,t,n,r,i,s){this.overrides=t,this.obj=n,this.propertyKey=r,this.descriptor=i,this.currentValue=void 0,this.oldValue=void 0,this.propertyDeps=[],this.collectionDeps=[],this.subscriberCount=0,this.isCollecting=!1,this.proxy=new Proxy(n,Kn(e,s,this));Reflect.defineProperty(n,r,{get:()=>this.getValue(),set:i.set})}addPropertyDep(e){this.propertyDeps.includes(e)||this.propertyDeps.push(e)}addCollectionDep(e){this.collectionDeps.includes(e)||this.collectionDeps.push(e)}getValue(){return this.subscriberCount>0||this.isCollecting?this.currentValue=Reflect.apply(this.descriptor.get,this.proxy,r.g.emptyArray):this.currentValue=Reflect.apply(this.descriptor.get,this.obj,r.g.emptyArray),this.currentValue}subscribe(e){this.addSubscriber(e),1==++this.subscriberCount&&this.getValueAndCollectDependencies(!0)}unsubscribe(e){this.removeSubscriber(e),0==--this.subscriberCount&&this.unsubscribeAllDependencies()}handleChange(){const e=this.currentValue,t=this.getValueAndCollectDependencies(!1);e!==t&&this.callSubscribers(t,e,8)}handleCollectionChange(){const e=this.currentValue,t=this.getValueAndCollectDependencies(!1);e!==t&&this.callSubscribers(t,e,8)}getValueAndCollectDependencies(e){const t=!this.overrides.static||e;return t&&(this.unsubscribeAllDependencies(),this.isCollecting=!0),this.currentValue=this.getValue(),t&&(this.propertyDeps.forEach(e=>{e.subscribe(this)}),this.collectionDeps.forEach(e=>{e.subscribeToCollection(this)}),this.isCollecting=!1),this.currentValue}doNotCollect(e,t,n){return!this.isCollecting||"$observers"===t||"$synthetic"===t||"constructor"===t}unsubscribeAllDependencies(){this.propertyDeps.forEach(e=>{e.unsubscribe(this)}),this.propertyDeps.length=0,this.collectionDeps.forEach(e=>{e.unsubscribeFromCollection(this)}),this.collectionDeps.length=0}};return e=_n([be(),Un("design:paramtypes",[Number,Object,Object,String,Object,Object])],e),e})();const Wn=Object.prototype.toString;function Kn(e,t,n){return{get:function(i,s,o){if(n.doNotCollect(i,s,o))return Reflect.get(i,s,o);switch(Wn.call(i)){case"[object Array]":if("length"===s||Object(r.u)(s))return n.addCollectionDep(t.getArrayObserver(e,i)),Yn(e,i,s,t,n);break;case"[object Map]":if("size"===s)return n.addCollectionDep(t.getMapObserver(e,i)),Reflect.get(i,s,i);break;case"[object Set]":if("size"===s)return n.addCollectionDep(t.getSetObserver(e,i)),Reflect.get(i,s,i)}return n.addPropertyDep(t.getObserver(e,i,s)),Yn(e,i,s,t,n)}}}function Yn(e,t,n,r,i){const s=Reflect.get(t,n,t);return"object"!=typeof s||"function"==typeof s||null===s?s:new Proxy(s,Kn(e,r,i))}var Qn=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Gn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jn=function(e,t){return function(n,r){t(n,r,e)}};const Zn=r.a.createInterface("IDirtyChecker").withDefault(e=>e.singleton(er)),Xn={framesPerCheck:6,disabled:!1,warn:!0,throw:!1,resetToDefault(){this.framesPerCheck=6,this.disabled=!1,this.warn=!0,this.throw=!1}};let er=(()=>{let e=class{constructor(e){this.scheduler=e,this.tracked=[],this.task=null,this.elapsedFrames=0}createProperty(e,t){if(Xn.throw)throw r.j.error(800,t);return Xn.warn&&r.j.write(801,t),new tr(this,e,t)}addProperty(e){this.tracked.push(e),1===this.tracked.length&&(this.task=this.scheduler.queueRenderTask(()=>this.check(),{persistent:!0}))}removeProperty(e){this.tracked.splice(this.tracked.indexOf(e),1),0===this.tracked.length&&(this.task.cancel(),this.task=null)}check(e){if(Xn.disabled)return;if(++this.elapsedFrames<Xn.framesPerCheck)return;this.elapsedFrames=0;const t=this.tracked,n=t.length;let r,i=0;for(;i<n;++i)r=t[i],r.isDirty()&&r.flush(0)}};return e=Qn([Jn(0,pn.a),Gn("design:paramtypes",[Object])],e),e})(),tr=(()=>{let e=class{constructor(e,t,n){this.dirtyChecker=e,this.obj=t,this.propertyKey=n,this.type=4}isDirty(){return this.oldValue!==this.obj[this.propertyKey]}flush(e){const t=this.oldValue,n=this.obj[this.propertyKey];this.callSubscribers(n,t,8|e),this.oldValue=n}subscribe(e){this.hasSubscribers()||(this.oldValue=this.obj[this.propertyKey],this.dirtyChecker.addProperty(this)),this.addSubscriber(e)}unsubscribe(e){this.removeSubscriber(e)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)}};return e=Qn([be(),Gn("design:paramtypes",[Object,Object,String])],e),e})();var nr=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},rr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ir=(()=>{let e=class{constructor(e){this.obj=e,this.type=4,this.task=null,this.currentValue=e.size}getValue(){return this.obj.size}setValue(e,t){const{currentValue:n}=this;e!==n&&(this.currentValue=e,this.callSubscribers(e,n,8|t))}};return e=nr([be(),rr("design:paramtypes",[Object])],e),e})();var sr=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},or=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const ar=new WeakMap,cr=Map.prototype,lr=cr.set,ur=cr.clear,hr=cr.delete,dr=["set","clear","delete"],pr={set:function(e,t){let n=this;void 0!==n.$raw&&(n=n.$raw);const r=ar.get(n);if(void 0===r)return lr.call(n,e,t),this;const i=n.get(e),s=n.size;lr.call(n,e,t);if(n.size===s){let t=0;for(const s of n.entries()){if(s[0]===e)return s[1]!==i&&(r.indexMap.deletedItems.push(r.indexMap[t]),r.indexMap[t]=-2,r.notify()),this;t++}return this}return r.indexMap[s]=-2,r.notify(),this},clear:function(){let e=this;void 0!==e.$raw&&(e=e.$raw);const t=ar.get(e);if(void 0===t)return ur.call(e);if(e.size>0){const n=t.indexMap;let r=0;for(const t of e.keys())n[r]>-1&&n.deletedItems.push(n[r]),r++;ur.call(e),n.length=0,t.notify()}},delete:function(e){let t=this;void 0!==t.$raw&&(t=t.$raw);const n=ar.get(t);if(void 0===n)return hr.call(t,e);if(0===t.size)return!1;let r=0;const i=n.indexMap;for(const s of t.keys()){if(s===e){i[r]>-1&&i.deletedItems.push(i[r]),i.splice(r,1);const s=hr.call(t,e);return!0===s&&n.notify(),s}++r}return!1}},fr={writable:!0,enumerable:!1,configurable:!0},gr=Reflect.defineProperty;for(const e of dr)gr(pr[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let mr=!1;Array.prototype.slice;let br=(()=>{let e=class{constructor(e,t,n){this.type=34,this.task=null,mr||(mr=!0,function(){for(const e of dr)!0!==cr[e].observing&&gr(cr,e,{...fr,value:pr[e]})}()),this.inBatch=!1,this.collection=n,this.persistentFlags=31751&e,this.indexMap=fn(n.size),this.lifecycle=t,this.lengthObserver=void 0,ar.set(n,this)}notify(){this.lifecycle.batch.depth>0?this.inBatch||(this.inBatch=!0,this.lifecycle.batch.add(this)):this.flushBatch(0)}getLengthObserver(){return void 0===this.lengthObserver&&(this.lengthObserver=new ir(this.collection)),this.lengthObserver}getIndexObserver(e){throw new Error("Map index observation not supported")}flushBatch(e){const t=this.indexMap,n=this.collection.size;this.inBatch=!1,this.indexMap=fn(n),this.callCollectionSubscribers(t,8|this.persistentFlags),void 0!==this.lengthObserver&&this.lengthObserver.setValue(n,8)}};return e=sr([ve(),or("design:paramtypes",[Number,Object,Object])],e),e})();function vr(e,t,n){const r=ar.get(n);return void 0===r?new br(e,t,n):r}Array.prototype.slice;const yr=r.g.noop;class Ar{constructor(e,t){this.doNotCache=!0,this.type=0,this.task=null,"length"===t?(this.obj=e,this.getValue=this.getStringLength):this.getValue=this.returnUndefined}getStringLength(){return this.obj.length}returnUndefined(){}}Ar.prototype.setValue=yr,Ar.prototype.subscribe=yr,Ar.prototype.unsubscribe=yr,Ar.prototype.dispose=yr;class wr{constructor(e,t){this.obj=e,this.propertyKey=t,this.type=4,void 0!==e.$observers&&void 0!==e.$observers[t]&&void 0!==e.$observers[t].setValue&&(this.setValue=this.setValueDirect)}getValue(){return this.obj[this.propertyKey]}setValue(e,t){this.obj[this.propertyKey]=e}setValueDirect(e,t){this.obj.$observers[this.propertyKey].setValue(e,t)}}var Cr=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},kr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const xr=new WeakMap,Sr=Set.prototype,Or=Sr.add,jr=Sr.clear,Tr=Sr.delete,Rr=["add","clear","delete"],Br={add:function(e){let t=this;void 0!==t.$raw&&(t=t.$raw);const n=xr.get(t);if(void 0===n)return Or.call(t,e),this;const r=t.size;Or.call(t,e);return t.size===r||(n.indexMap[r]=-2,n.notify()),this},clear:function(){let e=this;void 0!==e.$raw&&(e=e.$raw);const t=xr.get(e);if(void 0===t)return jr.call(e);if(e.size>0){const n=t.indexMap;let r=0;for(const t of e.keys())n[r]>-1&&n.deletedItems.push(n[r]),r++;jr.call(e),n.length=0,t.notify()}},delete:function(e){let t=this;void 0!==t.$raw&&(t=t.$raw);const n=xr.get(t);if(void 0===n)return Tr.call(t,e);if(0===t.size)return!1;let r=0;const i=n.indexMap;for(const s of t.keys()){if(s===e){i[r]>-1&&i.deletedItems.push(i[r]),i.splice(r,1);const s=Tr.call(t,e);return!0===s&&n.notify(),s}r++}return!1}},Ir={writable:!0,enumerable:!1,configurable:!0},Er=Reflect.defineProperty;for(const e of Rr)Er(Br[e],"observing",{value:!0,writable:!1,configurable:!1,enumerable:!1});let Pr=!1;Array.prototype.slice;let Dr=(()=>{let e=class{constructor(e,t,n){this.type=18,this.task=null,Pr||(Pr=!0,function(){for(const e of Rr)!0!==Sr[e].observing&&Er(Sr,e,{...Ir,value:Br[e]})}()),this.inBatch=!1,this.collection=n,this.persistentFlags=31751&e,this.indexMap=fn(n.size),this.lifecycle=t,this.lengthObserver=void 0,xr.set(n,this)}notify(){this.lifecycle.batch.depth>0?this.inBatch||(this.inBatch=!0,this.lifecycle.batch.add(this)):this.flushBatch(0)}getLengthObserver(){return void 0===this.lengthObserver&&(this.lengthObserver=new ir(this.collection)),this.lengthObserver}getIndexObserver(e){throw new Error("Set index observation not supported")}flushBatch(e){const t=this.indexMap,n=this.collection.size;this.inBatch=!1,this.indexMap=fn(n),this.callCollectionSubscribers(t,8|this.persistentFlags),void 0!==this.lengthObserver&&this.lengthObserver.setValue(n,8)}};return e=Cr([ve(),kr("design:paramtypes",[Number,Object,Object])],e),e})();function Mr(e,t,n){const r=xr.get(n);return void 0===r?new Dr(e,t,n):r}var Nr=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Vr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$r=function(e,t){return function(n,r){t(n,r,e)}};const Fr=Object.prototype.toString,Lr=r.a.createInterface("IObserverLocator").noDefault(),_r=r.a.createInterface("ITargetObserverLocator").noDefault(),Ur=r.a.createInterface("ITargetAccessorLocator").noDefault();let qr=(()=>{let e=class{constructor(e,t,n,r,i){this.lifecycle=e,this.scheduler=t,this.dirtyChecker=n,this.targetObserverLocator=r,this.targetAccessorLocator=i,this.adapters=[]}static register(e){return r.i.singleton(Lr,this).register(e)}getObserver(e,t,n){if(2&e&&"object"==typeof t)return Fe.getOrCreate(t,n);if(function(e){return!0===e.$synthetic}(t))return t.getObservers(e).getOrCreate(this.lifecycle,e,t,n);let r=t.$observers;if(r&&n in r)return r[n];const i=this.createPropertyObserver(e,t,n);return i.doNotCache||(void 0===r&&(r=this.getOrCreateObserversLookup(t)),r[n]=i),i}addAdapter(e){this.adapters.push(e)}getAccessor(e,t,n){return this.targetAccessorLocator.handles(e,t)?this.targetObserverLocator.overridesAccessor(e,t,n)?this.getObserver(e,t,n):this.targetAccessorLocator.getAccessor(e,this.scheduler,this.lifecycle,t,n):2&e?Fe.getOrCreate(t,n):new wr(t,n)}getArrayObserver(e,t){return Ln(e,this.lifecycle,t)}getMapObserver(e,t){return vr(e,this.lifecycle,t)}getSetObserver(e,t){return Mr(e,this.lifecycle,t)}getOrCreateObserversLookup(e){return e.$observers||this.createObserversLookup(e)}createObserversLookup(e){const t={};return Reflect.defineProperty(e,"$observers",{enumerable:!1,configurable:!1,writable:!1,value:t})||r.j.write(0,e),t}getAdapterObserver(e,t,n,r){for(let i=0,s=this.adapters.length;i<s;i++){const s=this.adapters[i].getObserver(e,t,n,r);if(null!=s)return s}return null}createPropertyObserver(e,t,n){if(!(t instanceof Object))return new Ar(t,n);let i=!1;if(this.targetObserverLocator.handles(e,t)){const r=this.targetObserverLocator.getObserver(e,this.scheduler,this.lifecycle,this,t,n);if(null!=r)return r;i=!0}switch(Fr.call(t)){case"[object Array]":if("length"===n)return this.getArrayObserver(e,t).getLengthObserver();if(Object(r.u)(n))return this.getArrayObserver(e,t).getIndexObserver(Number(n));break;case"[object Map]":if("size"===n)return this.getMapObserver(e,t).getLengthObserver();break;case"[object Set]":if("size"===n)return this.getSetObserver(e,t).getLengthObserver()}const s=function(e,t){let n=Object.getOwnPropertyDescriptor(e,t),r=Object.getPrototypeOf(e);for(;null==n&&null!=r;)n=Object.getOwnPropertyDescriptor(r,t),r=Object.getPrototypeOf(r);return n}(t,n);if(null!=s&&(null!=s.get||null!=s.set)){if(null!=s.get&&null!=s.get.getObserver)return s.get.getObserver(t);const o=this.getAdapterObserver(e,t,n,s);return null!=o?o:i?this.dirtyChecker.createProperty(t,n):function(e,t,n,i,s,o,a){if(!1===a.configurable)return n.createProperty(s,o);if(null!=a.get){const{constructor:{prototype:{computed:n}}}=s,r=n&&n[o]||qn;return null!=a.set?r.volatile?new zn(e,r,s,o,a,t):new Hn(s,o,a):new zn(e,r,s,o,a,t)}throw r.j.error(18,o)}(e,this,this.dirtyChecker,this.lifecycle,t,n,s)}return new et(this.lifecycle,e,t,n)}};return e=Nr([$r(0,Qe),$r(1,pn.a),$r(2,Zn),$r(3,_r),$r(4,Ur),Vr("design:paramtypes",[Object,Object,Object,Object,Object])],e),e})();function Hr(e,t,n){const r=n instanceof Object?Fe.getRawIfProxy(n):n;switch(Fr.call(n)){case"[object Array]":return Ln(e,t,r);case"[object Map]":return vr(e,t,r);case"[object Set]":return Mr(e,t,r)}}var zr=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Wr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{oneTime:Kr,toView:Yr,fromView:Qr}=D,Gr=Yr|Kr,Jr={reusable:!1,preempt:!0};let Zr=(()=>{let e=class{constructor(e,t,n,r,i,s){this.sourceExpression=e,this.target=t,this.targetProperty=n,this.mode=r,this.observerLocator=i,this.locator=s,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.targetObserver=void 0,this.persistentFlags=0,this.task=null,vt.assignIdTo(this),this.$lifecycle=s.get(Qe),this.$scheduler=s.get(pn.a)}updateTarget(e,t){t|=this.persistentFlags,this.targetObserver.setValue(e,t)}updateSource(e,t){t|=this.persistentFlags,this.sourceExpression.assign(t,this.$scope,this.$hostScope,this.locator,e)}handleChange(e,t,n){var r,i;if(!this.isBound)return;n|=this.persistentFlags;const s=this.targetObserver,o=this.interceptor,a=this.sourceExpression,c=this.$scope,l=this.locator;if((8&n)>0){(10082!==this.sourceExpression.$kind||this.observerSlots>1)&&(e=this.sourceExpression.evaluate(n,c,this.$hostScope,l));const t=0==(32&n)&&(64&s.type)>0,u=s.getValue();return(10082!==a.$kind||this.observerSlots>1)&&(e=a.evaluate(n,c,this.$hostScope,l)),e!==u&&(t&&(n|=4096,null===(r=this.task)||void 0===r||r.cancel(),null===(i=s.task)||void 0===i||i.cancel(),s.task=this.task=this.$scheduler.queueRenderTask(()=>{var e,t;null===(t=(e=s).flushChanges)||void 0===t||t.call(e,n),this.task=s.task=null},Jr)),o.updateTarget(e,n)),void(0==(this.mode&Kr)&&(this.version++,a.connect(n,c,this.$hostScope,this.interceptor),o.unobserve(!1)))}if(!((16&n)>0))throw new Error("Unexpected handleChange context in PropertyBinding");e!==a.evaluate(n,c,this.$hostScope,l)&&o.updateSource(e,n)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(32|e)}e|=4,this.persistentFlags=31751&e,this.$scope=t,this.$hostScope=n;let r=this.sourceExpression;r.hasBind&&r.bind(e,t,n,this.interceptor);let i=this.mode,s=this.targetObserver;if(!s){const t=this.observerLocator;s=i&Qr?t.getObserver(e,this.target,this.targetProperty):t.getAccessor(e,this.target,this.targetProperty),this.targetObserver=s}i!==D.oneTime&&s.bind&&s.bind(e),i=this.mode,r=this.sourceExpression;const o=this.interceptor;i&Gr&&o.updateTarget(r.evaluate(e,t,this.$hostScope,this.locator),e),i&Yr&&r.connect(e,t,this.$hostScope,o),i&Qr&&(s.subscribe(o),0==(i&Yr)&&o.updateSource(s.getValue(),e),s[this.id]|=16),this.isBound=!0}$unbind(e){if(!this.isBound)return;this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0;const t=this.targetObserver,n=this.task;t.unbind&&t.unbind(e),t.unsubscribe&&(t.unsubscribe(this.interceptor),t[this.id]&=-17),null!=n&&(n.cancel(),n===t.task&&(t.task=null),this.task=null),this.interceptor.unobserve(!0),this.isBound=!1}dispose(){this.interceptor=void 0,this.sourceExpression=void 0,this.locator=void 0,this.targetObserver=void 0,this.target=void 0}};return e=zr([vt(),Wr("design:paramtypes",[Object,Object,String,Number,Object,Object])],e),e})();class Xr{constructor(e,t,n,r,i){this.sourceExpression=e,this.locator=i,this.interceptor=this,this.isBound=!1,this.$hostScope=null,this.targetObserver=r.getObserver(0,t,n)}callSource(e){const t=this.$scope.overrideContext;Object.assign(t,e);const n=this.sourceExpression.evaluate(128,this.$scope,this.$hostScope,this.locator);for(const n in e)Reflect.deleteProperty(t,n);return n}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(32|e)}this.$scope=t,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,n,this.interceptor),this.targetObserver.setValue(e=>this.interceptor.callSource(e),e),this.isBound=!0}$unbind(e){this.isBound&&(this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.targetObserver.setValue(null,e),this.isBound=!1)}observeProperty(e,t,n){}handleChange(e,t,n){}dispose(){this.interceptor=void 0,this.sourceExpression=void 0,this.locator=void 0,this.targetObserver=void 0}}const ei=r.a.createInterface("IExpressionParser").withDefault(e=>e.singleton(ti));class ti{constructor(){this.expressionLookup=Object.create(null),this.forOfLookup=Object.create(null),this.interpolationLookup=Object.create(null)}static register(e){return r.i.singleton(ei,this).register(e)}parse(e,t){switch(t){case 2048:{let n=this.interpolationLookup[e];return void 0===n&&(n=this.interpolationLookup[e]=this.$parse(e,t)),n}case 539:{let n=this.forOfLookup[e];return void 0===n&&(n=this.forOfLookup[e]=this.$parse(e,t)),n}default:{if(0===e.length&&55&t)return Kt.$empty;let n=this.expressionLookup[e];return void 0===n&&(n=this.expressionLookup[e]=this.$parse(e,t)),n}}}$parse(e,t){return gi.input=e,gi.length=e.length,gi.index=0,gi.currentChar=e.charCodeAt(0),vi(gi,0,61,void 0===t?53:t)}}var ni,ri,ii,si;function oi(e){switch(e){case 98:return 8;case 116:return 9;case 110:return 10;case 118:return 11;case 102:return 12;case 114:return 13;case 34:return 34;case 39:return 39;case 92:return 92;default:return e}}!function(e){e[e.Null=0]="Null",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.LineFeed=10]="LineFeed",e[e.VerticalTab=11]="VerticalTab",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.Exclamation=33]="Exclamation",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dollar=36]="Dollar",e[e.Percent=37]="Percent",e[e.Ampersand=38]="Ampersand",e[e.SingleQuote=39]="SingleQuote",e[e.OpenParen=40]="OpenParen",e[e.CloseParen=41]="CloseParen",e[e.Asterisk=42]="Asterisk",e[e.Plus=43]="Plus",e[e.Comma=44]="Comma",e[e.Minus=45]="Minus",e[e.Dot=46]="Dot",e[e.Slash=47]="Slash",e[e.Semicolon=59]="Semicolon",e[e.Backtick=96]="Backtick",e[e.OpenBracket=91]="OpenBracket",e[e.Backslash=92]="Backslash",e[e.CloseBracket=93]="CloseBracket",e[e.Caret=94]="Caret",e[e.Underscore=95]="Underscore",e[e.OpenBrace=123]="OpenBrace",e[e.Bar=124]="Bar",e[e.CloseBrace=125]="CloseBrace",e[e.Colon=58]="Colon",e[e.LessThan=60]="LessThan",e[e.Equals=61]="Equals",e[e.GreaterThan=62]="GreaterThan",e[e.Question=63]="Question",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine",e[e.UpperA=65]="UpperA",e[e.UpperB=66]="UpperB",e[e.UpperC=67]="UpperC",e[e.UpperD=68]="UpperD",e[e.UpperE=69]="UpperE",e[e.UpperF=70]="UpperF",e[e.UpperG=71]="UpperG",e[e.UpperH=72]="UpperH",e[e.UpperI=73]="UpperI",e[e.UpperJ=74]="UpperJ",e[e.UpperK=75]="UpperK",e[e.UpperL=76]="UpperL",e[e.UpperM=77]="UpperM",e[e.UpperN=78]="UpperN",e[e.UpperO=79]="UpperO",e[e.UpperP=80]="UpperP",e[e.UpperQ=81]="UpperQ",e[e.UpperR=82]="UpperR",e[e.UpperS=83]="UpperS",e[e.UpperT=84]="UpperT",e[e.UpperU=85]="UpperU",e[e.UpperV=86]="UpperV",e[e.UpperW=87]="UpperW",e[e.UpperX=88]="UpperX",e[e.UpperY=89]="UpperY",e[e.UpperZ=90]="UpperZ",e[e.LowerA=97]="LowerA",e[e.LowerB=98]="LowerB",e[e.LowerC=99]="LowerC",e[e.LowerD=100]="LowerD",e[e.LowerE=101]="LowerE",e[e.LowerF=102]="LowerF",e[e.LowerG=103]="LowerG",e[e.LowerH=104]="LowerH",e[e.LowerI=105]="LowerI",e[e.LowerJ=106]="LowerJ",e[e.LowerK=107]="LowerK",e[e.LowerL=108]="LowerL",e[e.LowerM=109]="LowerM",e[e.LowerN=110]="LowerN",e[e.LowerO=111]="LowerO",e[e.LowerP=112]="LowerP",e[e.LowerQ=113]="LowerQ",e[e.LowerR=114]="LowerR",e[e.LowerS=115]="LowerS",e[e.LowerT=116]="LowerT",e[e.LowerU=117]="LowerU",e[e.LowerV=118]="LowerV",e[e.LowerW=119]="LowerW",e[e.LowerX=120]="LowerX",e[e.LowerY=121]="LowerY",e[e.LowerZ=122]="LowerZ"}(ni||(ni={})),function(e){e[e.Reset=0]="Reset",e[e.Ancestor=511]="Ancestor",e[e.This=512]="This",e[e.Scope=1024]="Scope",e[e.Member=2048]="Member",e[e.Keyed=4096]="Keyed"}(ri||(ri={})),function(e){e[e.Variadic=61]="Variadic",e[e.Assign=62]="Assign",e[e.Conditional=63]="Conditional",e[e.LogicalOR=64]="LogicalOR",e[e.LogicalAND=128]="LogicalAND",e[e.Equality=192]="Equality",e[e.Relational=256]="Relational",e[e.Additive=320]="Additive",e[e.Multiplicative=384]="Multiplicative",e[e.Binary=448]="Binary",e[e.LeftHandSide=449]="LeftHandSide",e[e.Primary=450]="Primary",e[e.Unary=451]="Unary"}(ii||(ii={})),function(e){e[e.EOF=1572864]="EOF",e[e.ExpressionTerminal=1048576]="ExpressionTerminal",e[e.AccessScopeTerminal=524288]="AccessScopeTerminal",e[e.ClosingToken=262144]="ClosingToken",e[e.OpeningToken=131072]="OpeningToken",e[e.BinaryOp=65536]="BinaryOp",e[e.UnaryOp=32768]="UnaryOp",e[e.LeftHandSide=16384]="LeftHandSide",e[e.StringOrNumericLiteral=12288]="StringOrNumericLiteral",e[e.NumericLiteral=8192]="NumericLiteral",e[e.StringLiteral=4096]="StringLiteral",e[e.IdentifierName=3072]="IdentifierName",e[e.Keyword=2048]="Keyword",e[e.Identifier=1024]="Identifier",e[e.Contextual=512]="Contextual",e[e.Precedence=448]="Precedence",e[e.Type=63]="Type",e[e.FalseKeyword=2048]="FalseKeyword",e[e.TrueKeyword=2049]="TrueKeyword",e[e.NullKeyword=2050]="NullKeyword",e[e.UndefinedKeyword=2051]="UndefinedKeyword",e[e.ThisScope=3076]="ThisScope",e[e.HostScope=3077]="HostScope",e[e.ParentScope=3078]="ParentScope",e[e.OpenParen=671751]="OpenParen",e[e.OpenBrace=131080]="OpenBrace",e[e.Dot=16393]="Dot",e[e.CloseBrace=1835018]="CloseBrace",e[e.CloseParen=1835019]="CloseParen",e[e.Comma=1572876]="Comma",e[e.OpenBracket=671757]="OpenBracket",e[e.CloseBracket=1835022]="CloseBracket",e[e.Colon=1572879]="Colon",e[e.Question=1572880]="Question",e[e.Ampersand=1572883]="Ampersand",e[e.Bar=1572884]="Bar",e[e.BarBar=1638549]="BarBar",e[e.AmpersandAmpersand=1638614]="AmpersandAmpersand",e[e.EqualsEquals=1638679]="EqualsEquals",e[e.ExclamationEquals=1638680]="ExclamationEquals",e[e.EqualsEqualsEquals=1638681]="EqualsEqualsEquals",e[e.ExclamationEqualsEquals=1638682]="ExclamationEqualsEquals",e[e.LessThan=1638747]="LessThan",e[e.GreaterThan=1638748]="GreaterThan",e[e.LessThanEquals=1638749]="LessThanEquals",e[e.GreaterThanEquals=1638750]="GreaterThanEquals",e[e.InKeyword=1640799]="InKeyword",e[e.InstanceOfKeyword=1640800]="InstanceOfKeyword",e[e.Plus=623009]="Plus",e[e.Minus=623010]="Minus",e[e.TypeofKeyword=34851]="TypeofKeyword",e[e.VoidKeyword=34852]="VoidKeyword",e[e.Asterisk=1638885]="Asterisk",e[e.Percent=1638886]="Percent",e[e.Slash=1638887]="Slash",e[e.Equals=1048616]="Equals",e[e.Exclamation=32809]="Exclamation",e[e.TemplateTail=540714]="TemplateTail",e[e.TemplateContinuation=540715]="TemplateContinuation",e[e.OfKeyword=1051180]="OfKeyword"}(si||(si={}));const ai=Kt.$false,ci=Kt.$true,li=Kt.$null,ui=Kt.$undefined,hi=$t.$this,di=$t.$host,pi=$t.$parent;var fi;!function(e){e[e.None=0]="None",e[e.IgnoreCustomAttr=4096]="IgnoreCustomAttr",e[e.Interpolation=2048]="Interpolation",e[e.IsRef=5376]="IsRef",e[e.IsIterator=512]="IsIterator",e[e.IsCustom=256]="IsCustom",e[e.IsFunction=128]="IsFunction",e[e.IsEvent=64]="IsEvent",e[e.IsProperty=32]="IsProperty",e[e.IsCommand=16]="IsCommand",e[e.IsPropertyCommand=48]="IsPropertyCommand",e[e.IsEventCommand=80]="IsEventCommand",e[e.DelegationStrategyDelta=6]="DelegationStrategyDelta",e[e.Command=15]="Command",e[e.OneTimeCommand=49]="OneTimeCommand",e[e.ToViewCommand=50]="ToViewCommand",e[e.FromViewCommand=51]="FromViewCommand",e[e.TwoWayCommand=52]="TwoWayCommand",e[e.BindCommand=53]="BindCommand",e[e.TriggerCommand=4182]="TriggerCommand",e[e.CaptureCommand=4183]="CaptureCommand",e[e.DelegateCommand=4184]="DelegateCommand",e[e.CallCommand=153]="CallCommand",e[e.OptionsCommand=26]="OptionsCommand",e[e.ForCommand=539]="ForCommand",e[e.CustomCommand=284]="CustomCommand"}(fi||(fi={}));const gi=new class{constructor(e){this.input=e,this.index=0,this.startIndex=0,this.lastIndex=0,this.currentToken=1572864,this.tokenValue="",this.assignable=!0,this.length=e.length,this.currentChar=e.charCodeAt(0)}get tokenRaw(){return this.input.slice(this.startIndex,this.index)}}("");var mi,bi;function vi(e,t,n,i){if(284===i)return new Pt(e.input);if(0===e.index){if(2048&i)return function(e){const t=[],n=[],r=e.length;let i="";for(;e.index<r;){switch(e.currentChar){case 36:if(123===e.input.charCodeAt(e.index+1)){t.push(i),i="",e.index+=2,e.currentChar=e.input.charCodeAt(e.index),Ai(e);const r=vi(e,0,61,2048);n.push(r);continue}i+="$";break;case 92:i+=String.fromCharCode(oi(wi(e)));break;default:i+=String.fromCharCode(e.currentChar)}wi(e)}if(n.length)return t.push(i),new sn(t,n);return null}(e);if(Ai(e),1048576&e.currentToken)throw r.j.error(100,{state:e})}e.assignable=448>n;let s=void 0;if(32768&e.currentToken){const n=ji[63&e.currentToken];Ai(e),s=new Wt(n,vi(e,t,449,i)),e.assignable=!1}else{e:switch(e.currentToken){case 3078:e.assignable=!1;do{if(Ai(e),t++,!Si(e,16393)){if(524288&e.currentToken){const e=511&t;s=0===e?hi:1===e?pi:new $t(e),t=512;break e}throw r.j.error(103,{state:e})}if(16393===e.currentToken)throw r.j.error(102,{state:e});if(1572864===e.currentToken)throw r.j.error(105,{state:e})}while(3078===e.currentToken);case 1024:512&i?s=new tn(e.tokenValue):(s=new Ft(e.tokenValue,511&t),t=1024),e.assignable=!0,Ai(e);break;case 3076:e.assignable=!1,Ai(e),s=hi,t=512;break;case 3077:e.assignable=!1,Ai(e),s=di,t=512;break;case 671751:Ai(e),s=vi(e,0,62,i),Oi(e,1835019),t=0;break;case 671757:s=function(e,t,n){Ai(e);const r=new Array;for(;1835022!==e.currentToken;)if(Si(e,1572876)){if(r.push(ui),1835022===e.currentToken)break}else{if(r.push(vi(e,t,62,-513&n)),!Si(e,1572876))break;if(1835022===e.currentToken)break}return Oi(e,1835022),512&n?new Xt(r):(e.assignable=!1,new Qt(r))}(e,t,i),t=0;break;case 131080:s=function(e,t){const n=new Array,i=new Array;Ai(e);for(;1835018!==e.currentToken;){if(n.push(e.tokenValue),12288&e.currentToken)Ai(e),Oi(e,1572879),i.push(vi(e,0,62,-513&t));else{if(!(3072&e.currentToken))throw r.j.error(107,{state:e});{const{currentChar:n,currentToken:r,index:s}=e;Ai(e),Si(e,1572879)?i.push(vi(e,0,62,-513&t)):(e.currentChar=n,e.currentToken=r,e.index=s,i.push(vi(e,0,450,-513&t)))}}1835018!==e.currentToken&&Oi(e,1572876)}return Oi(e,1835018),512&t?new en(n,i):(e.assignable=!1,new Gt(n,i))}(e,i),t=0;break;case 540714:s=new Jt([e.tokenValue]),e.assignable=!1,Ai(e),t=0;break;case 540715:s=yi(e,t,i,s,!1),t=0;break;case 4096:case 8192:s=new Kt(e.tokenValue),e.assignable=!1,Ai(e),t=0;break;case 2050:case 2051:case 2049:case 2048:s=ji[63&e.currentToken],e.assignable=!1,Ai(e),t=0;break;default:throw e.index>=e.length?r.j.error(104,{state:e}):r.j.error(101,{state:e})}if(512&i)return function(e,t){if(0==(65536&t.$kind))throw r.j.error(106,{state:e});if(1051180!==e.currentToken)throw r.j.error(106,{state:e});Ai(e);const n=t,i=vi(e,0,61,0);return new rn(n,i)}(e,s);if(449<n)return s;let o=e.tokenValue;for(;(16384&e.currentToken)>0;){const n=[];let a;switch(e.currentToken){case 16393:if(e.assignable=!0,Ai(e),0==(3072&e.currentToken))throw r.j.error(105,{state:e});if(o=e.tokenValue,Ai(e),t=(1536&t)<<1|2048&t|(4096&t)>>1,671751===e.currentToken){0===t&&(t=2048);continue}s=1024&t?new Ft(o,s.ancestor,s===di):new Lt(s,o);continue;case 671757:e.assignable=!0,Ai(e),t=4096,s=new _t(s,vi(e,0,62,i)),Oi(e,1835022);break;case 671751:for(e.assignable=!1,Ai(e);1835019!==e.currentToken&&(n.push(vi(e,0,62,i)),Si(e,1572876)););Oi(e,1835019),s=1024&t?new Ut(o,n,s.ancestor,s===di):2048&t?new qt(s,o,n):new Ht(s,n),t=0;break;case 540714:e.assignable=!1,a=[e.tokenValue],s=new Zt(a,a,s),Ai(e);break;case 540715:s=yi(e,t,i,s,!0)}}}if(448<n)return s;for(;(65536&e.currentToken)>0;){const r=e.currentToken;if((448&r)<=n)break;Ai(e),s=new zt(ji[63&r],s,vi(e,t,448&r,i)),e.assignable=!1}if(63<n)return s;if(Si(e,1572880)){const n=vi(e,t,62,i);Oi(e,1572879),s=new Vt(s,n,vi(e,t,62,i)),e.assignable=!1}if(62<n)return s;if(Si(e,1048616)){if(!e.assignable)throw r.j.error(150,{state:e});s=new Nt(s,vi(e,t,62,i))}if(61<n)return s;for(;Si(e,1572884);){if(1572864===e.currentToken)throw r.j.error(112);const n=e.tokenValue;Ai(e);const o=new Array;for(;Si(e,1572879);)o.push(vi(e,t,62,i));s=new Mt(s,n,o)}for(;Si(e,1572883);){if(1572864===e.currentToken)throw r.j.error(113);const n=e.tokenValue;Ai(e);const o=new Array;for(;Si(e,1572879);)o.push(vi(e,t,62,i));s=new Dt(s,n,o)}if(1572864!==e.currentToken){if(2048&i)return s;if("of"===e.tokenRaw)throw r.j.error(151,{state:e});throw r.j.error(101,{state:e})}return s}function yi(e,t,n,r,i){const s=[e.tokenValue];Oi(e,540715);const o=[vi(e,t,62,n)];for(;540714!==(e.currentToken=xi(e));)s.push(e.tokenValue),Oi(e,540715),o.push(vi(e,t,62,n));return s.push(e.tokenValue),e.assignable=!1,i?(Ai(e),new Zt(s,s,r,o)):(Ai(e),new Jt(s,o))}function Ai(e){for(;e.index<e.length;)if(e.startIndex=e.index,null!=(e.currentToken=Vi[e.currentChar](e)))return;e.currentToken=1572864}function wi(e){return e.currentChar=e.input.charCodeAt(++e.index)}function Ci(e,t){let n=e.currentChar;if(!1===t){do{n=wi(e)}while(n<=57&&n>=48);if(46!==n)return e.tokenValue=parseInt(e.tokenRaw,10),8192;if(n=wi(e),e.index>=e.length)return e.tokenValue=parseInt(e.tokenRaw.slice(0,-1),10),8192}if(n<=57&&n>=48)do{n=wi(e)}while(n<=57&&n>=48);else e.currentChar=e.input.charCodeAt(--e.index);return e.tokenValue=parseFloat(e.tokenRaw),8192}function ki(e){let t=!0,n="";for(;96!==wi(e);)if(36===e.currentChar){if(e.index+1<e.length&&123===e.input.charCodeAt(e.index+1)){e.index++,t=!1;break}n+="$"}else if(92===e.currentChar)n+=String.fromCharCode(oi(wi(e)));else{if(e.index>=e.length)throw r.j.error(109,{state:e});n+=String.fromCharCode(e.currentChar)}return wi(e),e.tokenValue=n,t?540714:540715}function xi(e){if(e.index>=e.length)throw r.j.error(109,{state:e});return e.index--,ki(e)}function Si(e,t){return e.currentToken===t&&(Ai(e),!0)}function Oi(e,t){if(e.currentToken!==t)throw r.j.error(110,{state:e,expected:t});Ai(e)}!function(e){e[e.InvalidExpressionStart=100]="InvalidExpressionStart",e[e.UnconsumedToken=101]="UnconsumedToken",e[e.DoubleDot=102]="DoubleDot",e[e.InvalidMemberExpression=103]="InvalidMemberExpression",e[e.UnexpectedEndOfExpression=104]="UnexpectedEndOfExpression",e[e.ExpectedIdentifier=105]="ExpectedIdentifier",e[e.InvalidForDeclaration=106]="InvalidForDeclaration",e[e.InvalidObjectLiteralPropertyDefinition=107]="InvalidObjectLiteralPropertyDefinition",e[e.UnterminatedQuote=108]="UnterminatedQuote",e[e.UnterminatedTemplate=109]="UnterminatedTemplate",e[e.MissingExpectedToken=110]="MissingExpectedToken",e[e.UnexpectedCharacter=111]="UnexpectedCharacter",e[e.MissingValueConverter=112]="MissingValueConverter",e[e.MissingBindingBehavior=113]="MissingBindingBehavior"}(mi||(mi={})),function(e){e[e.NotAssignable=150]="NotAssignable",e[e.UnexpectedForOf=151]="UnexpectedForOf"}(bi||(bi={}));const ji=[ai,ci,li,ui,"$this","$host","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!",540714,540715,"of"],Ti=Object.create(null);Ti.true=2049,Ti.null=2050,Ti.false=2048,Ti.undefined=2051,Ti.$this=3076,Ti.$host=3077,Ti.$parent=3078,Ti.in=1640799,Ti.instanceof=1640800,Ti.typeof=34851,Ti.void=34852,Ti.of=1051180;const Ri=[36,0,48,58,65,91,95,0,97,123],Bi=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],Ii=[48,58],Ei=[0,33,127,161];function Pi(e,t,n,r){const i=n.length;for(let s=0;s<i;s+=2){const i=n[s];let o=n[s+1];if(o=o>0?o:i+1,e&&e.fill(r,i,o),t)for(let e=i;e<o;e++)t.add(e)}}function Di(e){return t=>(wi(t),e)}const Mi=e=>{throw r.j.error(111,{state:e})};Mi.notMapped=!0;Pi(null,new Set,Ri,!0);const Ni=new Uint8Array(65535);Pi(Ni,null,Bi,1),Pi(Ni,null,Ii,1);const Vi=new Array(65535);Vi.fill(Mi,0,65535),Pi(Vi,null,Ei,e=>(wi(e),null)),Pi(Vi,null,Bi,(function(e){for(;Ni[wi(e)];);const t=Ti[e.tokenValue=e.tokenRaw];return void 0===t?1024:t})),Pi(Vi,null,Ii,e=>Ci(e,!1)),Vi[34]=Vi[39]=e=>function(e){const t=e.currentChar;wi(e);let n=0;const i=new Array;let s=e.index;for(;e.currentChar!==t;)if(92===e.currentChar)i.push(e.input.slice(s,e.index)),wi(e),n=oi(e.currentChar),wi(e),i.push(String.fromCharCode(n)),s=e.index;else{if(e.index>=e.length)throw r.j.error(108,{state:e});wi(e)}const o=e.input.slice(s,e.index);wi(e),i.push(o);const a=i.join("");return e.tokenValue=a,4096}(e),Vi[96]=e=>ki(e),Vi[33]=e=>61!==wi(e)?32809:61!==wi(e)?1638680:(wi(e),1638682),Vi[61]=e=>61!==wi(e)?1048616:61!==wi(e)?1638679:(wi(e),1638681),Vi[38]=e=>38!==wi(e)?1572883:(wi(e),1638614),Vi[124]=e=>124!==wi(e)?1572884:(wi(e),1638549),Vi[46]=e=>wi(e)<=57&&e.currentChar>=48?Ci(e,!0):16393,Vi[60]=e=>61!==wi(e)?1638747:(wi(e),1638749),Vi[62]=e=>61!==wi(e)?1638748:(wi(e),1638750),Vi[37]=Di(1638886),Vi[40]=Di(671751),Vi[41]=Di(1835019),Vi[42]=Di(1638885),Vi[43]=Di(623009),Vi[44]=Di(1572876),Vi[45]=Di(623010),Vi[47]=Di(1638887),Vi[58]=Di(1572879),Vi[63]=Di(1572880),Vi[91]=Di(671757),Vi[93]=Di(1835022),Vi[123]=Di(131080),Vi[125]=Di(1835018);var $i=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Fi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{toView:Li,oneTime:_i}=D,Ui={reusable:!1,preempt:!0};class qi{constructor(e,t,n,r,i,s){this.observerLocator=e,this.interpolation=t,this.target=n,this.targetProperty=r,this.mode=i,this.locator=s,this.interceptor=this,this.isBound=!1,this.$scope=void 0;const o=t.expressions,a=this.parts=Array(o.length);for(let c=0,l=o.length;c<l;++c)a[c]=new Hi(o[c],t,n,r,i,e,s,0===c)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t;const r=this.parts;for(let i=0,s=r.length;i<s;++i)r[i].interceptor.$bind(e,t,n)}$unbind(e){if(!this.isBound)return;this.isBound=!1,this.$scope=void 0;const t=this.parts;for(let n=0,r=t.length;n<r;++n)t[n].interceptor.$unbind(e)}dispose(){this.interceptor=void 0,this.interpolation=void 0,this.locator=void 0,this.target=void 0}}let Hi=(()=>{let e=class{constructor(e,t,n,r,i,s,o,a){this.sourceExpression=e,this.interpolation=t,this.target=n,this.targetProperty=r,this.mode=i,this.observerLocator=s,this.locator=o,this.isFirst=a,this.interceptor=this,this.$hostScope=null,this.task=null,this.isBound=!1,vt.assignIdTo(this),this.$scheduler=o.get(pn.a),this.targetObserver=s.getAccessor(0,n,r)}updateTarget(e,t){this.targetObserver.setValue(e,8|t)}handleChange(e,t,n){var r,i;if(!this.isBound)return;const s=this.targetObserver,o=0==(32&n)&&(64&s.type)>0,a=this.interpolation.evaluate(n,this.$scope,this.$hostScope,this.locator),c=s.getValue(),l=this.interceptor;a!==c&&(o&&(n|=4096,null===(r=this.task)||void 0===r||r.cancel(),null===(i=s.task)||void 0===i||i.cancel(),s.task=this.task=this.$scheduler.queueRenderTask(()=>{var e,t;null===(t=(e=s).flushChanges)||void 0===t||t.call(e,n),this.task=s.task=null},Ui)),l.updateTarget(a,n)),0==(this.mode&_i)&&(this.version++,this.sourceExpression.connect(n,this.$scope,this.$hostScope,l),l.unobserve(!1))}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(e)}this.isBound=!0,this.$scope=t,this.$hostScope=n;const r=this.sourceExpression;r.hasBind&&r.bind(e,t,n,this.interceptor);const i=this.targetObserver,s=this.mode;s!==D.oneTime&&i.bind&&i.bind(e),this.isFirst&&this.interceptor.updateTarget(this.interpolation.evaluate(e,t,n,this.locator),e),(s&Li)>0&&r.connect(e,t,n,this.interceptor)}$unbind(e){if(!this.isBound)return;this.isBound=!1;const t=this.sourceExpression;t.hasUnbind&&t.unbind(e,this.$scope,this.$hostScope,this.interceptor);const n=this.targetObserver,r=this.task;n.unbind&&n.unbind(e),null!=r&&(r.cancel(),r===n.task&&(n.task=null),this.task=null),this.$scope=void 0,this.interceptor.unobserve(!0)}dispose(){this.interceptor=void 0,this.sourceExpression=void 0,this.locator=void 0,this.targetObserver=void 0}};return e=$i([vt(),Fi("design:paramtypes",[Object,sn,Object,String,Number,Object,Object,Boolean])],e),e})();var zi=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Wi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ki=(()=>{let e=class{constructor(e,t,n,r,i=!1){this.sourceExpression=e,this.targetProperty=t,this.observerLocator=n,this.locator=r,this.toBindingContext=i,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null,this.task=null,this.target=null,vt.assignIdTo(this),this.$lifecycle=r.get(Qe)}handleChange(e,t,n){if(this.isBound){if(!(8&n))throw new Error("Unexpected handleChange context in LetBinding");{const e=this.target,t=this.targetProperty,r=e[t],i=this.sourceExpression.evaluate(n,this.$scope,this.$hostScope,this.locator);i!==r&&(e[t]=i)}}}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(32|e)}this.$scope=t,this.$hostScope=n,this.target=this.toBindingContext?(null!=n?n:t).bindingContext:(null!=n?n:t).overrideContext;const r=this.sourceExpression;r.hasBind&&r.bind(e,t,n,this.interceptor),this.target[this.targetProperty]=this.sourceExpression.evaluate(32|e,t,n,this.locator),this.sourceExpression.connect(e,t,n,this.interceptor),this.isBound=!0}$unbind(e){if(!this.isBound)return;const t=this.sourceExpression;t.hasUnbind&&t.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.interceptor.unobserve(!0),this.isBound=!1}dispose(){this.interceptor=void 0,this.sourceExpression=void 0,this.locator=void 0,this.target=void 0}};return e=zi([vt(),Wi("design:paramtypes",[Object,String,Object,Object,Boolean])],e),e})();class Yi{constructor(e,t,n){this.sourceExpression=e,this.target=t,this.locator=n,this.interceptor=this,this.isBound=!1,this.$scope=void 0,this.$hostScope=null}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(32|e)}this.$scope=t,this.$hostScope=n,this.sourceExpression.hasBind&&this.sourceExpression.bind(e,t,n,this),this.sourceExpression.assign(16|e,this.$scope,n,this.locator,this.target),this.isBound=!0}$unbind(e){if(!this.isBound)return;let t=this.sourceExpression;t.evaluate(e,this.$scope,this.$hostScope,this.locator)===this.target&&t.assign(e,this.$scope,this.$hostScope,this.locator,null),t=this.sourceExpression,t.hasUnbind&&t.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=void 0,this.isBound=!1}observeProperty(e,t,n){}handleChange(e,t,n){}dispose(){this.interceptor=void 0,this.sourceExpression=void 0,this.locator=void 0,this.target=void 0}}var Qi=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Gi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ji=(()=>{let e=class{constructor(e,t,n,i,s,o){this.lifecycle=e,this.obj=n,this.propertyKey=i,this.$set=o,this.currentValue=void 0,this.oldValue=void 0,this.inBatch=!1,this.type=4;let a=!1;Fe.isProxy(n)&&(a=!0,n.$observer.subscribe(this,i),this.obj=n.$raw),this.callback=this.obj[s];const c=this.propertyChangedCallback=this.obj.propertyChanged,l=this.hasPropertyChangedCallback="function"==typeof c,u=this.shouldInterceptSet=o!==r.g.noop;if(void 0!==this.callback||l||u){this.observing=!0;const e=n[i];this.currentValue=u&&void 0!==e?o(e):e,a||this.createGetterSetter()}else this.observing=!1;this.persistentFlags=31751&t}handleChange(e,t,n){this.setValue(e,n)}getValue(){return this.currentValue}setValue(e,t){if(this.shouldInterceptSet&&(e=this.$set(e)),this.observing){const n=this.currentValue;if(Object.is(e,n))return;if(this.currentValue=e,0===this.lifecycle.batch.depth){if(this.callSubscribers(e,n,this.persistentFlags|t),0==(32&t)||(16&t)>0){const r=this.callback;void 0!==r&&r.call(this.obj,e,n,this.persistentFlags|t),this.hasPropertyChangedCallback&&this.propertyChangedCallback.call(this.obj,this.propertyKey,e,n,this.persistentFlags|t)}}else this.inBatch||(this.inBatch=!0,this.oldValue=n,this.lifecycle.batch.add(this))}else this.obj[this.propertyKey]=e}subscribe(e){if(!1===this.observing){this.observing=!0;const e=this.obj[this.propertyKey];this.currentValue=this.shouldInterceptSet?this.$set(e):e,this.createGetterSetter()}this.addSubscriber(e)}createGetterSetter(){Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.currentValue,set:e=>{this.setValue(e,0)}})||r.j.write(1,this.propertyKey,this.obj)}};return e=Qi([be(),Gi("design:paramtypes",[Object,Number,Object,String,String,Function])],e),e})();var Zi=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Xi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class es{constructor(e){this.mode=e,this.originalModes=new WeakMap}bind(e,t,n){this.originalModes.set(n,n.mode),n.mode=this.mode}unbind(e,t,n){n.mode=this.originalModes.get(n)}}let ts=(()=>{let e=class extends es{constructor(){super(D.oneTime)}};return e=Zi([kt("oneTime"),Xi("design:paramtypes",[])],e),e})(),ns=(()=>{let e=class extends es{constructor(){super(D.toView)}};return e=Zi([kt("toView"),Xi("design:paramtypes",[])],e),e})(),rs=(()=>{let e=class extends es{constructor(){super(D.fromView)}};return e=Zi([kt("fromView"),Xi("design:paramtypes",[])],e),e})(),is=(()=>{let e=class extends es{constructor(){super(D.twoWay)}};return e=Zi([kt("twoWay"),Xi("design:paramtypes",[])],e),e})();var ss=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},os=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let as=(()=>{let e=class extends Ot{constructor(e,t){super(e,t),this.opts={delay:0},this.firstArg=null,this.task=null,this.taskQueue=e.locator.get(pn.a).getPostRenderTaskQueue(),t.args.length>0&&(this.firstArg=t.args[0])}callSource(e){this.queueTask(()=>this.binding.callSource(e))}handleChange(e,t,n){this.queueTask(()=>this.binding.handleChange(e,t,n))}queueTask(e){null!==this.task&&this.task.cancel(),this.task=this.taskQueue.queueTask(e,this.opts)}$bind(e,t,n){if(null!==this.firstArg){const r=Number(this.firstArg.evaluate(e,t,n,this.locator));isNaN(r)||(this.opts.delay=r)}this.binding.$bind(e,t,n)}};return e=ss([kt("debounce"),os("design:paramtypes",[Object,Dt])],e),e})();var cs=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},ls=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},us=function(e,t){return function(n,r){t(n,r,e)}};let hs=(()=>{let e=class{constructor(e){this.signaler=e}bind(e,t,n,...i){if(!n.updateTarget)throw r.j.error(11);if(4===arguments.length){const e=i[0];this.signaler.addSignalListener(e,n),n.signal=e}else{if(!(arguments.length>4))throw r.j.error(12);{const e=Array.prototype.slice.call(i.length+3,3);let t=e.length;for(;t--;){const r=e[t];this.signaler.addSignalListener(r,n)}n.signal=e}}}unbind(e,t,n){const r=n.signal;if(n.signal=null,Array.isArray(r)){const e=r;let t=e.length;for(;t--;)this.signaler.removeSignalListener(e[t],n)}else this.signaler.removeSignalListener(r,n)}};return e=cs([kt("signal"),us(0,ct),ls("design:paramtypes",[Object])],e),e})();var ds=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},ps=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let fs=(()=>{let e=class extends Ot{constructor(e,t){super(e,t),this.opts={delay:0},this.firstArg=null,this.task=null,this.lastCall=0,this.taskQueue=e.locator.get(pn.a).getPostRenderTaskQueue(),this.now=e.locator.get(pn.b),t.args.length>0&&(this.firstArg=t.args[0])}callSource(e){this.queueTask(()=>this.binding.callSource(e))}handleChange(e,t,n){this.queueTask(()=>this.binding.handleChange(e,t,n))}queueTask(e){const t=this.opts,n=this.now,r=this.lastCall+t.delay-n();r>0?(null!==this.task&&this.task.cancel(),t.delay=r,this.task=this.taskQueue.queueTask(()=>{this.lastCall=n(),e()},t)):(this.lastCall=n(),e())}$bind(e,t,n){if(null!==this.firstArg){const r=Number(this.firstArg.evaluate(e,t,n,this.locator));isNaN(r)||(this.opts.delay=r)}this.binding.$bind(e,t,n)}};return e=ds([kt("throttle"),ps("design:paramtypes",[Object,Dt])],e),e})();function gs(e,t){let n;function i(e,t){arguments.length>1&&(n.property=t),r.f.define(bs.name,vs.create(t,n),e.constructor,t),r.h.annotation.appendTo(e.constructor,bs.keyFrom(t))}return arguments.length>1?(n={},void i(e,t)):"string"==typeof e?(n={},i):(n=void 0===e?{}:e,i)}function ms(e){return e.startsWith(bs.name)}const bs={name:r.h.annotation.keyFor("bindable"),keyFrom:e=>`${bs.name}:${e}`,from(...e){const t={},n=Array.isArray;function r(e){t[e]=vs.create(e)}return e.forEach((function(e){n(e)?e.forEach(r):e instanceof vs?t[e.property]=e:void 0!==e&&Object.keys(e).forEach(n=>function(e,n){t[e]=n instanceof vs?n:vs.create(e,n)}(n,e[n]))})),t},for(e){let t;const n={add(i){let s,o;return"string"==typeof i?(s=i,o={property:s}):(s=i.property,o=i),t=vs.create(s,o),r.f.hasOwn(bs.name,e,s)||r.h.annotation.appendTo(e,bs.keyFrom(s)),r.f.define(bs.name,t,e,s),n},mode:e=>(t.mode=e,n),callback:e=>(t.callback=e,n),attribute:e=>(t.attribute=e,n),primary:()=>(t.primary=!0,n),set:e=>(t.set=e,n)};return n},getAll(e){const t=bs.name.length+1,n=[],i=Object(r.t)(e);let s,o,a,c=i.length,l=0;for(;--c>=0;){a=i[c],s=r.h.annotation.getKeys(a).filter(ms),o=s.length;for(let e=0;e<o;++e)n[l++]=r.f.getOwn(bs.name,a,s[e].slice(t))}return n}};class vs{constructor(e,t,n,r,i,s){this.attribute=e,this.callback=t,this.mode=n,this.primary=r,this.property=i,this.set=s}static create(e,t={}){return new vs(Object(r.p)(t.attribute,Object(r.z)(e)),Object(r.p)(t.callback,e+"Changed"),Object(r.p)(t.mode,D.toView),Object(r.p)(t.primary,!1),Object(r.p)(t.property,e),Object(r.p)(t.set,r.g.noop))}}function ys(e){return function(t){return Cs.define(e,t)}}function As(e){return function(t){return Cs.define("string"==typeof e?{isTemplateController:!0,name:e}:{isTemplateController:!0,...e},t)}}class ws{constructor(e,t,n,r,i,s,o,a,c,l){this.Type=e,this.name=t,this.aliases=n,this.key=r,this.defaultBindingMode=i,this.isTemplateController=s,this.bindables=o,this.strategy=a,this.hooks=c,this.noMultiBindings=l}static create(e,t){let n,i;return"string"==typeof e?(n=e,i={name:n}):(n=e.name,i=e),new ws(t,Object(r.p)(Cs.getAnnotation(t,"name"),n),Object(r.A)(Cs.getAnnotation(t,"aliases"),i.aliases,t.aliases),Cs.keyFrom(n),Object(r.p)(Cs.getAnnotation(t,"defaultBindingMode"),i.defaultBindingMode,t.defaultBindingMode,D.toView),Object(r.p)(Cs.getAnnotation(t,"isTemplateController"),i.isTemplateController,t.isTemplateController,!1),bs.from(...bs.getAll(t),Cs.getAnnotation(t,"bindables"),t.bindables,i.bindables),Object(r.p)(Cs.getAnnotation(t,"strategy"),i.strategy,t.strategy,1),Object(r.p)(Cs.getAnnotation(t,"hooks"),i.hooks,t.hooks,new T(t.prototype)),Object(r.p)(Cs.getAnnotation(t,"noMultiBindings"),i.noMultiBindings,t.noMultiBindings,!1))}register(e){const{Type:t,key:n,aliases:i}=this;r.i.transient(n,t).register(e),r.i.aliasTo(n,t).register(e),R(i,Cs,n,e)}}const Cs={name:r.h.resource.keyFor("custom-attribute"),keyFrom:e=>`${Cs.name}:${e}`,isType:e=>"function"==typeof e&&r.f.hasOwn(Cs.name,e),for:(e,t)=>r.f.getOwn(Cs.keyFrom(t),e),define(e,t){const n=ws.create(e,t);return r.f.define(Cs.name,n,n.Type),r.f.define(Cs.name,n,n),r.h.resource.appendTo(t,Cs.name),n.Type},getDefinition(e){const t=r.f.getOwn(Cs.name,e);if(void 0===t)throw new Error("No definition found for type "+e.name);return t},annotate(e,t,n){r.f.define(r.h.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>r.f.getOwn(r.h.annotation.keyFor(t),e)},ks=r.a.createInterface("INode").noDefault(),xs=r.a.createInterface("IRenderLocation").noDefault(),Ss=r.a.createInterface("IDOM").noDefault(),Os=function(...e){throw r.j.error(1e3)},js={addEventListener:Os,appendChild:Os,cloneNode:Os,convertToRenderLocation:Os,createDocumentFragment:Os,createNodeSequence:Os,createElement:Os,createCustomEvent:Os,dispatchEvent:Os,createNodeObserver:Os,createTemplate:Os,createTextNode:Os,getEffectiveParentNode:Os,setEffectiveParentNode:Os,insertBefore:Os,isMarker:Os,isNodeInstance:Os,isRenderLocation:Os,makeTarget:Os,registerElementResolver:Os,remove:Os,removeEventListener:Os,setAttribute:Os},Ts={...js,scheduler:void 0,get isInitialized(){return!0===Reflect.get(this,"$initialized")},initialize(e){if(this.isInitialized)throw r.j.error(1001);const t={},n=[e];let i=Object.getPrototypeOf(e);for(;i&&i!==Object.prototype;)n.unshift(i),i=Object.getPrototypeOf(i);for(i of n)Object.assign(t,Object.getOwnPropertyDescriptors(i));const s=[];let o,a;for(o in t)a=t[o],a.configurable&&a.writable&&(Reflect.defineProperty(this,o,a),s.push(o));Reflect.set(this,"$domKeys",s),Reflect.set(this,"$initialized",!0)},destroy(){if(!this.isInitialized)throw r.j.error(1002);Reflect.get(this,"$domKeys").forEach(e=>{Reflect.deleteProperty(this,e)}),Object.assign(this,js),Reflect.set(this,"$domKeys",r.g.emptyArray),Reflect.set(this,"$initialized",!1)}};r.g.emptyArray;var Rs=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Bs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Is=function(e,t){return function(n,r){t(n,r,e)}};class Es{constructor(e,t,n){this.factory=e,this.flags=n,this.id=Object(r.B)("au$component"),this.view=this.factory.create(),this.view.setLocation(t,1)}afterAttach(e,t,n){const{$controller:r}=this;return this.view.activate(e,r,n|this.flags,r.scope,r.hostScope)}afterUnbind(e,t,n){return this.view.deactivate(e,this.$controller,n)}onCancel(e,t,n){var r;null===(r=this.view)||void 0===r||r.cancel(e,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}}let Ps=(()=>{let e=class extends Es{constructor(e,t){super(e,t,4096)}};return e=Rs([As("infrequent-mutations"),Is(0,Ye),Is(1,xs),Bs("design:paramtypes",[Object,Object])],e),e})(),Ds=(()=>{let e=class extends Es{constructor(e,t){super(e,t,8192)}};return e=Rs([As("frequent-mutations"),Is(0,Ye),Is(1,xs),Bs("design:paramtypes",[Object,Object])],e),e})(),Ms=(()=>{let e=class extends Es{constructor(e,t){super(e,t,2048)}};return e=Rs([As("observe-shallow"),Is(0,Ye),Is(1,xs),Bs("design:paramtypes",[Object,Object])],e),e})();var Ns=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Vs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$s=function(e,t){return function(n,r){t(n,r,e)}};let Fs=(()=>{let e=class{constructor(e,t){this.ifFactory=e,this.location=t,this.id=Object(r.B)("au$component"),this.elseFactory=void 0,this.elseView=void 0,this.ifView=void 0,this.view=void 0,this.value=!1}afterAttach(e,t,n){const r=this.view=this.updateView(this.value,n);if(void 0!==r){const{$controller:t}=this;return r.activate(e,t,n,t.scope,t.hostScope)}}afterUnbind(e,t,n){if(void 0!==this.view)return this.view.deactivate(e,this.$controller,n)}valueChanged(e,t,n){var i;const{$controller:s}=this;if(!s.isActive)return;const o=Object(r.C)(null===(i=this.view)||void 0===i?void 0:i.deactivate(this.view,s,n),()=>{const e=this.view=this.updateView(this.value,n);if(void 0!==e)return e.activate(e,s,n,s.scope,s.hostScope)});o instanceof Promise&&o.catch(e=>{throw e})}updateView(e,t){return e?this.ifView=this.ensureView(this.ifView,this.ifFactory,t):null!=this.elseFactory?this.elseView=this.ensureView(this.elseView,this.elseFactory,t):void 0}ensureView(e,t,n){return void 0===e&&(e=t.create(n)),e.setLocation(this.location,1),e}onCancel(e,t,n){var r;null===(r=this.view)||void 0===r||r.cancel(e,this.$controller,n)}dispose(){void 0!==this.ifView&&(this.ifView.dispose(),this.ifView=void 0),void 0!==this.elseView&&(this.elseView.dispose(),this.elseView=void 0),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};return Ns([gs,Vs("design:type",Boolean)],e.prototype,"value",void 0),e=Ns([As("if"),$s(0,Ye),$s(1,xs),Vs("design:paramtypes",[Object,Object])],e),e})(),Ls=(()=>{let e=class{constructor(e){this.factory=e,this.id=Object(r.B)("au$component")}link(e){if(e instanceof Fs)e.elseFactory=this.factory;else{if(!(e.viewModel instanceof Fs))throw new Error("Unsupported IfBehavior");e.viewModel.elseFactory=this.factory}}};return e=Ns([As("else"),$s(0,Ye),Vs("design:paramtypes",[Object])],e),e})();var _s=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Us=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qs=function(e,t){return function(n,r){t(n,r,e)}};function Hs(e){e.dispose()}let zs=(()=>{let e=class{constructor(e,t,n){this.location=e,this.renderable=t,this.factory=n,this.id=Object(r.B)("au$component"),this.hasPendingInstanceMutation=!1,this.observer=void 0,this.views=[],this.key=void 0,this.normalizedItems=void 0}beforeBind(e,t,n){this.checkCollectionObserver(n);const r=this.renderable.bindings;let i=void 0;for(let e=0,t=r.length;e<t;++e)if(i=r[e],i.target.id===this.id&&"items"===i.targetProperty){this.forOf=i.sourceExpression;break}this.local=this.forOf.declaration.evaluate(n,this.$controller.scope,null,i.locator)}afterAttach(e,t,n){return this.normalizeToArray(n),this.activateAllViews(e,n)}afterUnbind(e,t,n){return this.checkCollectionObserver(n),this.deactivateAllViews(e,n)}itemsChanged(e){const{$controller:t}=this;if(!t.isActive)return;e|=t.flags,this.checkCollectionObserver(e),e|=8,this.normalizeToArray(e);const n=Object(r.C)(this.deactivateAllViews(null,e),()=>this.activateAllViews(null,e));n instanceof Promise&&n.catch(e=>{throw e})}handleCollectionChange(e,t){const{$controller:n}=this;if(n.isActive)if(t|=n.flags,t|=8,this.normalizeToArray(t),void 0===e){const e=Object(r.C)(this.deactivateAllViews(null,t),()=>this.activateAllViews(null,t));e instanceof Promise&&e.catch(e=>{throw e})}else{const n=this.views.length;if(function(e){let t=0,n=0;const r=e.length;for(let i=0;i<r;++i){for(;e.deletedItems[n]<=i-t;)++n,--t;-2===e[i]?++t:e[i]+=t}}(e),e.deletedItems.length>0){e.deletedItems.sort(r.o);const i=Object(r.C)(this.deactivateAndRemoveViewsByKey(e,t),()=>this.createAndActivateAndSortViewsByKey(n,e,t));i instanceof Promise&&i.catch(e=>{throw e})}else this.createAndActivateAndSortViewsByKey(n,e,t)}}checkCollectionObserver(e){const t=this.observer;if(64&e)void 0!==t&&t.unsubscribeFromCollection(this);else if(this.$controller.isActive){const n=this.observer=Hr(e,this.$controller.lifecycle,this.items);t!==n&&t&&t.unsubscribeFromCollection(this),n&&n.subscribeToCollection(this)}}normalizeToArray(e){const t=this.items;if(t instanceof Array)return void(this.normalizedItems=t);if(void 0===this.forOf)return;const n=[];this.forOf.iterate(e,t,(e,t,r)=>{n[t]=r}),this.normalizedItems=n}activateAllViews(e,t){let n,r,i,s=void 0;const{$controller:o,factory:a,local:c,location:l,items:u}=this,h=o.scope,d=o.hostScope,p=this.forOf.count(t,u),f=this.views=Array(p);if(this.forOf.iterate(t,u,(u,g,m)=>{r=f[g]=a.create(t),r.setLocation(l,1),r.nodes.unlink(),i=ot.fromParent(t,h,it.create(t,c,m)),Qs(i.overrideContext,g,p),n=r.activate(null!=e?e:r,o,t,i,d),n instanceof Promise&&(null!=s?s:s=[]).push(n)}),void 0!==s)return 1===s.length?s[0]:Promise.all(s)}deactivateAllViews(e,t){let n,r,i=void 0;const{views:s,$controller:o}=this;for(let a=0,c=s.length;a<c;++a)r=s[a],r.release(),n=r.deactivate(null!=e?e:r,o,t),n instanceof Promise&&(null!=i?i:i=[]).push(n);if(void 0!==i)return 1===i.length?i[0]:Promise.all(i)}deactivateAndRemoveViewsByKey(e,t){let n,r,i=void 0;const{$controller:s,views:o}=this,a=e.deletedItems,c=a.length;let l=0;for(;l<c;++l)r=o[a[l]],r.release(),n=r.deactivate(r,s,t),n instanceof Promise&&(null!=i?i:i=[]).push(n);l=0;let u=0;for(;l<c;++l)u=a[l]-l,o.splice(u,1);if(void 0!==i)return 1===i.length?i[0]:Promise.all(i)}createAndActivateAndSortViewsByKey(e,t,n){var r;let i,s,o,a=void 0;const{$controller:c,factory:l,local:u,normalizedItems:h,location:d,views:p}=this,f=t.length;for(let e=0;e<f;++e)-2===t[e]&&(s=l.create(n),p.splice(e,0,s));if(p.length!==f)throw new Error(`viewsLen=${p.length}, mapLen=${f}`);const g=c.scope,m=c.hostScope,b=t.length;!function(e,t){const n=e.slice(),r=t.length;let i=0,s=0;for(;i<r;)s=t[i],-2!==s&&(e[i]=n[s]),++i}(p,t);const v=function(e){const t=e.length;t>Ws&&(Ws=t,Ks=new Int32Array(t),Ys=new Int32Array(t));let n=0,r=0,i=0,s=0,o=0,a=0,c=0,l=0;for(;s<t;s++)if(r=e[s],-2!==r){if(o=Ks[n],i=e[o],-2!==i&&i<r){Ys[s]=o,Ks[++n]=s;continue}for(a=0,c=n;a<c;)l=a+c>>1,i=e[Ks[l]],-2!==i&&i<r?a=l+1:c=l;i=e[Ks[a]],(r<i||-2===i)&&(a>0&&(Ys[s]=Ks[a-1]),Ks[a]=s)}s=++n;const u=new Int32Array(s);r=Ks[n-1];for(;n-- >0;)u[n]=r,r=Ys[r];for(;s-- >0;)Ks[s]=0;return u}(t),y=v.length;let A,w=y-1,C=b-1;for(;C>=0;--C)s=p[C],A=p[C+1],s.nodes.link(null!==(r=null==A?void 0:A.nodes)&&void 0!==r?r:d),-2===t[C]?(o=ot.fromParent(n,g,it.create(n,u,h[C])),Qs(o.overrideContext,C,b),s.setLocation(d,1),i=s.activate(s,c,n,o,m),i instanceof Promise&&(null!=a?a:a=[]).push(i)):w<0||1===y||C!==v[w]?(Qs(s.scope.overrideContext,C,b),s.nodes.insertBefore(s.location)):(e!==b&&Qs(s.scope.overrideContext,C,b),--w);if(void 0!==a)return 1===a.length?a[0]:Promise.all(a)}onCancel(e,t,n){this.views.forEach(t=>{t.cancel(e,this.$controller,n)})}dispose(){this.views.forEach(Hs),this.views=void 0}accept(e){const{views:t}=this;if(void 0!==t)for(let n=0,r=t.length;n<r;++n)if(!0===t[n].accept(e))return!0}};return _s([gs,Us("design:type",Object)],e.prototype,"items",void 0),e=_s([As("repeat"),qs(0,xs),qs(1,We),qs(2,Ye),Us("design:paramtypes",[Object,Object,Object])],e),e})(),Ws=16,Ks=new Int32Array(Ws),Ys=new Int32Array(Ws);function Qs(e,t,n){const r=0===t,i=t===n-1,s=t%2==0;e.$index=t,e.$first=r,e.$last=i,e.$middle=!r&&!i,e.$even=s,e.$odd=!s,e.$length=n}var Gs=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Js=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Zs=function(e,t){return function(n,r){t(n,r,e)}};let Xs=(()=>{let e=class{constructor(e,t){this.factory=e,this.location=t,this.id=Object(r.B)("au$component"),this.id=Object(r.B)("au$component"),this.view=this.factory.create(),this.view.setLocation(t,1)}valueChanged(e,t,n){this.$controller.isActive&&this.activateView(this.view,32)}afterAttach(e,t,n){return this.activateView(e,n)}afterUnbind(e,t,n){return this.view.deactivate(e,this.$controller,n)}activateView(e,t){const{$controller:n,value:r}=this,i=ot.fromParent(t,n.scope,void 0===r?{}:r);return this.view.activate(e,n,t,i,n.hostScope)}onCancel(e,t,n){var r;null===(r=this.view)||void 0===r||r.cancel(e,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};return Gs([gs,Js("design:type",Object)],e.prototype,"value",void 0),e=Gs([As("with"),Zs(0,Ye),Zs(1,xs),Js("design:paramtypes",[Object,Object])],e),e})();var eo=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},to=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function no(e){return e.startsWith(ro.name)}const ro={name:r.h.annotation.keyFor("children-observer"),keyFrom:e=>`${ro.name}:${e}`,from(...e){const t={},n=Array.isArray;function r(e){t[e]=io.create(e)}return e.forEach((function(e){n(e)?e.forEach(r):e instanceof io?t[e.property]=e:void 0!==e&&Object.keys(e).forEach(n=>function(e,n){t[e]=io.create(e,n)}(n,e))})),t},getAll(e){const t=ro.name.length+1,n=[],i=Object(r.t)(e);let s,o,a,c=i.length,l=0;for(;--c>=0;){a=i[c],s=r.h.annotation.getKeys(a).filter(no),o=s.length;for(let e=0;e<o;++e)n[l++]=r.f.getOwn(ro.name,a,s[e].slice(t))}return n}};class io{constructor(e,t,n,r,i,s){this.callback=e,this.property=t,this.options=n,this.query=r,this.filter=i,this.map=s}static create(e,t={}){return new io(Object(r.p)(t.callback,e+"Changed"),Object(r.p)(t.property,e),t.options,t.query,t.filter,t.map)}}let so=(()=>{let e=class{constructor(e,t,n,r,i,s=oo,o=ao,a=co,c){this.controller=e,this.obj=t,this.propertyKey=r,this.query=s,this.filter=o,this.map=a,this.options=c,this.observing=!1,this.children=void 0,this.callback=t[i],this.persistentFlags=31751&n,this.createGetterSetter()}getValue(){return this.tryStartObserving(),this.children}setValue(e){}subscribe(e){this.tryStartObserving(),this.addSubscriber(e)}tryStartObserving(){if(!this.observing){this.observing=!0;const e=this.controller.projector;this.children=uo(e,this.query,this.filter,this.map),e.subscribeToChildrenChange(()=>{this.onChildrenChanged()},this.options)}}onChildrenChanged(){this.children=uo(this.controller.projector,this.query,this.filter,this.map),void 0!==this.callback&&this.callback.call(this.obj),this.callSubscribers(this.children,void 0,8|this.persistentFlags)}createGetterSetter(){Reflect.defineProperty(this.obj,this.propertyKey,{enumerable:!0,configurable:!0,get:()=>this.getValue(),set:()=>{}})||r.j.write(1,this.propertyKey,this.obj)}};return e=eo([be(),to("design:paramtypes",[Object,Object,Number,String,String,Object,Object,Object,Object])],e),e})();function oo(e){return e.children}function ao(e,t,n){return!!n}function co(e,t,n){return n}const lo={optional:!0};function uo(e,t,n,r){var i;const s=t(e),o=[];for(let e=0,t=s.length;e<t;++e){const t=s[e],a=mo.for(t,lo),c=null!==(i=null==a?void 0:a.viewModel)&&void 0!==i?i:null;n(t,a,c)&&o.push(r(t,a,c))}return o}function ho(e){return function(t){return mo.define(e,t)}}const po=new WeakMap;class fo{constructor(e,t,n,r,i,s,o,a,c,l,u,h,d,p,f,g,m,b,v,y,A){this.Type=e,this.name=t,this.aliases=n,this.key=r,this.cache=i,this.template=s,this.instructions=o,this.dependencies=a,this.injectable=c,this.needsCompile=l,this.surrogates=u,this.bindables=h,this.childrenObservers=d,this.containerless=p,this.isStrictBinding=f,this.shadowOptions=g,this.hasSlots=m,this.strategy=b,this.hooks=v,this.enhance=y,this.projectionsMap=A}static create(e,t=null){if(null===t){const n=e;if("string"==typeof n)throw new Error("Cannot create a custom element definition with only a name and no type: "+e);const i=Object(r.s)("name",n,mo.generateName);return t="function"==typeof n.Type?n.Type:mo.generateType(Object(r.D)(i)),new fo(t,i,Object(r.A)(n.aliases),Object(r.s)("key",n,()=>mo.keyFrom(i)),Object(r.s)("cache",n,()=>0),Object(r.s)("template",n,()=>null),Object(r.A)(n.instructions),Object(r.A)(n.dependencies),Object(r.s)("injectable",n,()=>null),Object(r.s)("needsCompile",n,()=>!0),Object(r.A)(n.surrogates),bs.from(n.bindables),ro.from(n.childrenObservers),Object(r.s)("containerless",n,()=>!1),Object(r.s)("isStrictBinding",n,()=>!1),Object(r.s)("shadowOptions",n,()=>null),Object(r.s)("hasSlots",n,()=>!1),Object(r.s)("strategy",n,()=>1),Object(r.s)("hooks",n,()=>T.none),Object(r.s)("enhance",n,()=>!1),Object(r.s)("projectionsMap",n,()=>new Map))}if("string"==typeof e)return new fo(t,e,Object(r.A)(mo.getAnnotation(t,"aliases"),t.aliases),mo.keyFrom(e),Object(r.r)("cache",t,()=>0),Object(r.r)("template",t,()=>null),Object(r.A)(mo.getAnnotation(t,"instructions"),t.instructions),Object(r.A)(mo.getAnnotation(t,"dependencies"),t.dependencies),Object(r.r)("injectable",t,()=>null),Object(r.r)("needsCompile",t,()=>!0),Object(r.A)(mo.getAnnotation(t,"surrogates"),t.surrogates),bs.from(...bs.getAll(t),mo.getAnnotation(t,"bindables"),t.bindables),ro.from(...ro.getAll(t),mo.getAnnotation(t,"childrenObservers"),t.childrenObservers),Object(r.r)("containerless",t,()=>!1),Object(r.r)("isStrictBinding",t,()=>!1),Object(r.r)("shadowOptions",t,()=>null),Object(r.r)("hasSlots",t,()=>!1),Object(r.r)("strategy",t,()=>1),Object(r.r)("hooks",t,()=>new T(t.prototype)),Object(r.r)("enhance",t,()=>!1),Object(r.r)("projectionsMap",t,()=>new Map));const n=Object(r.s)("name",e,mo.generateName);return new fo(t,n,Object(r.A)(mo.getAnnotation(t,"aliases"),e.aliases,t.aliases),mo.keyFrom(n),Object(r.q)("cache",e,t,()=>0),Object(r.q)("template",e,t,()=>null),Object(r.A)(mo.getAnnotation(t,"instructions"),e.instructions,t.instructions),Object(r.A)(mo.getAnnotation(t,"dependencies"),e.dependencies,t.dependencies),Object(r.q)("injectable",e,t,()=>null),Object(r.q)("needsCompile",e,t,()=>!0),Object(r.A)(mo.getAnnotation(t,"surrogates"),e.surrogates,t.surrogates),bs.from(...bs.getAll(t),mo.getAnnotation(t,"bindables"),t.bindables,e.bindables),ro.from(...ro.getAll(t),mo.getAnnotation(t,"childrenObservers"),t.childrenObservers,e.childrenObservers),Object(r.q)("containerless",e,t,()=>!1),Object(r.q)("isStrictBinding",e,t,()=>!1),Object(r.q)("shadowOptions",e,t,()=>null),Object(r.q)("hasSlots",e,t,()=>!1),Object(r.q)("strategy",e,t,()=>1),Object(r.r)("hooks",t,()=>new T(t.prototype)),Object(r.q)("enhance",e,t,()=>!1),Object(r.q)("projectionsMap",e,t,()=>new Map))}static getOrCreate(e){if(e instanceof fo)return e;if(po.has(e))return po.get(e);const t=fo.create(e);return po.set(e,t),r.f.define(mo.name,t,t.Type),t}register(e){const{Type:t,key:n,aliases:i}=this;r.i.transient(n,t).register(e),r.i.aliasTo(n,t).register(e),R(i,mo,n,e)}}const go={name:void 0,searchParents:!1,optional:!1},mo={name:r.h.resource.keyFor("custom-element"),keyFrom:e=>`${mo.name}:${e}`,isType:e=>"function"==typeof e&&r.f.hasOwn(mo.name,e),for(e,t=go){if(void 0===t.name&&!0!==t.searchParents){const n=r.f.getOwn(mo.name,e);if(void 0===n){if(!0===t.optional)return null;throw new Error("The provided node is not a custom element or containerless host.")}return n}if(void 0!==t.name){if(!0!==t.searchParents){const n=r.f.getOwn(mo.name,e);if(void 0===n)throw new Error("The provided node is not a custom element or containerless host.");return n.is(t.name)?n:void 0}let n=e,i=!1;for(;null!==n;){const e=r.f.getOwn(mo.name,n);if(void 0!==e&&(i=!0,e.is(t.name)))return e;n=Ts.getEffectiveParentNode(n)}if(i)return;throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")}let n=e;for(;null!==n;){const e=r.f.getOwn(mo.name,n);if(void 0!==e)return e;n=Ts.getEffectiveParentNode(n)}throw new Error("The provided node does does not appear to be part of an Aurelia app DOM tree, or it was added to the DOM in a way that Aurelia cannot properly resolve its position in the component tree.")},define(e,t){const n=fo.create(e,t);return r.f.define(mo.name,n,n.Type),r.f.define(mo.name,n,n),r.h.resource.appendTo(n.Type,mo.name),n.Type},getDefinition(e){const t=r.f.getOwn(mo.name,e);if(void 0===t)throw new Error("No definition found for type "+e.name);return t},annotate(e,t,n){r.f.define(r.h.annotation.keyFor(t),n,e)},getAnnotation:(e,t)=>r.f.getOwn(r.h.annotation.keyFor(t),e),generateName:function(){let e=0;return function(){return"unnamed-"+ ++e}}(),createInjectable(){const e=function(t,n,i){return r.a.getOrCreateAnnotationParamTypes(t)[i]=e,t};return e.register=function(t){return{resolve:(t,n)=>n.has(e,!0)?n.get(e):null}},e},generateType:function(){const e={value:"",writable:!1,enumerable:!1,configurable:!0},t={};return function(n,r=t){const i=class{};return e.value=n,Reflect.defineProperty(i,"name",e),r!==t&&Object.assign(i.prototype,r),i}}()},bo=r.a.createInterface("IProjectorLocator").noDefault();var vo=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},yo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ao=function(e,t){return function(n,r){t(n,r,e)}};r.a.createInterface("IProjections").noDefault();var wo;!function(e){e[e.Projection=0]="Projection",e[e.Fallback=1]="Fallback"}(wo||(wo={}));class Co{constructor(e,t,n){this.name=e,this.type=t,this.projectionContext=n}}class ko{constructor(e,t=null){this.content=e,this.scope=t}}class xo{constructor(e,t){this.scope=e,this.projections=t}}const So=r.a.createInterface("IProjectionProvider").noDefault(),Oo=new WeakMap;class jo{static register(e){return e.register(r.i.singleton(So,jo))}registerProjections(e,t){for(const[n,r]of e)Oo.set(n,new xo(t,r))}getProjectionFor(e){var t;return null!==(t=Oo.get(e))&&void 0!==t?t:null}}let To=(()=>{let e=class{constructor(e,t){this.factory=e,this.hostScope=null,this.view=e.create(),this.view.setLocation(t,1),this.isProjection=e.contentType===wo.Projection,this.outerScope=e.projectionScope}beforeBind(e,t,n){this.hostScope=this.$controller.scope.parentScope}afterAttach(e,t,n){var r;const{$controller:i}=this;return this.view.activate(e,i,n,null!==(r=this.outerScope)&&void 0!==r?r:this.hostScope,this.hostScope)}afterUnbind(e,t,n){return this.view.deactivate(e,this.$controller,n)}onCancel(e,t,n){this.view.cancel(e,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};return e=vo([ho({name:"au-slot",template:null,containerless:!0}),Ao(0,Ye),Ao(1,xs),yo("design:paramtypes",[Object,Object])],e),e})();var Ro=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Bo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Io=function(e,t){return function(n,r){t(n,r,e)}};const Eo=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Po=r.a.createInterface("ISanitizer").withDefault(e=>e.singleton(class{sanitize(e){return e.replace(Eo,"")}}));let Do=(()=>{let e=class{constructor(e){this.sanitizer=e}toView(e){return null==e?null:this.sanitizer.sanitize(e)}};return e=Ro([Tt("sanitize"),Io(0,Po),Bo("design:paramtypes",[Object])],e),e})();var Mo=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},No=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Vo=function(e,t){return function(n,r){t(n,r,e)}};const $o=r.a.createInterface("ITemplateCompiler").noDefault(),Fo=r.a.createInterface("IInstructionRenderer").noDefault(),Lo=r.a.createInterface("IRenderer").noDefault();function _o(e){return function(t){const n=function(...n){const r=new t(...n);return r.instructionType=e,r};n.register=function(e){r.i.singleton(Fo,n).register(e)};const i=r.f.getOwnKeys(t);for(const e of i)r.f.define(e,r.f.getOwn(e,t),n);const s=Object.getOwnPropertyDescriptors(t);return Object.keys(s).filter(e=>"prototype"!==e).forEach(e=>{Reflect.defineProperty(n,e,s[e])}),n}}let Uo=(()=>{let e=class{constructor(e){const t=this.instructionRenderers={};e.forEach(e=>{t[e.instructionType]=e.render.bind(e)})}static register(e){return r.i.singleton(Lo,this).register(e)}render(e,t,n,r,i,s){const o=i.instructions;if(r.length!==o.length)throw new Error(`The compiled template is not aligned with the render instructions. There are ${r.length} targets and ${o.length} instructions.`);for(let i=0,s=r.length;i<s;++i)this.renderInstructions(e,t,o[i],n,r[i]);null!=s&&this.renderInstructions(e,t,i.surrogates,n,s)}renderInstructions(e,t,n,r,i){const s=this.instructionRenderers;let o;for(let a=0,c=n.length;a<c;++a)o=n[a],s[o.type](e,t,r,i,o)}};return e=Mo([Vo(0,Object(r.l)(Fo)),No("design:paramtypes",[Array])],e),e})();function qo(e,t,n){return"string"==typeof t?e.parse(t,n):t}function Ho(e){return void 0!==e.bindingContext?e.bindingContext:e}let zo=(()=>{let e=class{render(e,t,n,r,i){const s=Ho(r);void 0!==s.$observers&&void 0!==s.$observers[i.to]?s.$observers[i.to].setValue(i.value,32):s[i.to]=i.value}};return e=Mo([_o("re")],e),e})(),Wo=(()=>{let e=class{render(e,t,n,i,s){let o;const a=s.slotInfo;if(null!==a){const e=a.projectionContext;o=ca(e.content,t).getViewFactory(void 0,a.type,e.scope)}const c=t.getComponentFactory(n,i,s,o,i),l=mo.keyFrom(s.res),u=c.createComponent(l),h=t.get(Qe),d=Ta.forCustomElement(u,h,i,t,t.getProjectionFor(s),e);e=d.flags,r.f.define(l,d,i),t.renderInstructions(e,s.instructions,n,d),n.addController(d),c.dispose()}};return e=Mo([_o("ra")],e),e})(),Ko=(()=>{let e=class{render(e,t,n,i,s){const o=t.getComponentFactory(n,i,s,void 0,void 0),a=Cs.keyFrom(s.res),c=o.createComponent(a),l=t.get(Qe),u=Ta.forCustomAttribute(c,l,i,e);r.f.define(a,u,i),t.renderInstructions(e,s.instructions,n,u),n.addController(u),o.dispose()}};return e=Mo([_o("rb")],e),e})(),Yo=(()=>{let e=class{render(e,t,n,i,s){const o=ca(s.def,t).getViewFactory(),a=t.dom.convertToRenderLocation(i),c=t.getComponentFactory(n,i,s,o,a),l=Cs.keyFrom(s.res),u=c.createComponent(l),h=t.get(Qe),d=Ta.forCustomAttribute(u,h,i,e);if(r.f.define(l,d,a),s.link){const e=n.children;u.link(e[e.length-1])}t.renderInstructions(e,s.instructions,n,d),n.addController(d),c.dispose()}};return e=Mo([_o("rc")],e),e})(),Qo=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){t.dom.remove(r);const s=i.instructions,o=i.toBindingContext;let a,c,l;for(let e=0,r=s.length;e<r;++e)a=s[e],c=qo(this.parser,a.from,48),l=ra(new Ki(c,a.to,this.observerLocator,t,o),c,t),n.addBinding(l)}};return e=Mo([_o("rd"),Vo(0,ei),Vo(1,Lr),No("design:paramtypes",[Object,Object])],e),e})(),Go=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){const s=qo(this.parser,i.from,153),o=ra(new Xr(s,Ho(r),i.to,this.observerLocator,t),s,t);n.addBinding(o)}};return e=Mo([_o("rh"),Vo(0,ei),Vo(1,Lr),No("design:paramtypes",[Object,Object])],e),e})(),Jo=(()=>{let e=class{constructor(e){this.parser=e}render(e,t,n,r,i){const s=qo(this.parser,i.from,5376),o=ra(new Yi(s,function(e,t){if("element"===t)return e;switch(t){case"controller":return mo.for(e);case"view":throw new Error("Not supported API");case"view-model":return mo.for(e).viewModel;default:{const n=Cs.for(e,t);if(void 0!==n)return n.viewModel;const r=mo.for(e,{name:t});if(void 0===r)throw new Error(`Attempted to reference "${t}", but it was not found amongst the target's API.`);return r.viewModel}}}(r,i.to),t),s,t);n.addBinding(o)}};return e=Mo([_o("rj"),Vo(0,ei),No("design:paramtypes",[Object])],e),e})(),Zo=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){let s;const o=qo(this.parser,i.from,2048);s=o.isMulti?ra(new qi(this.observerLocator,o,Ho(r),i.to,D.toView,t),o,t):ra(new Hi(o.firstExpression,o,Ho(r),i.to,D.toView,this.observerLocator,t,!0),o,t),n.addBinding(s)}};return e=Mo([_o("rf"),Vo(0,ei),Vo(1,Lr),No("design:paramtypes",[Object,Object])],e),e})(),Xo=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){const s=qo(this.parser,i.from,48|i.mode),o=ra(new Zr(s,Ho(r),i.to,i.mode,this.observerLocator,t),s,t);n.addBinding(o)}};return e=Mo([_o("rg"),Vo(0,ei),Vo(1,Lr),No("design:paramtypes",[Object,Object])],e),e})(),ea=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){const s=qo(this.parser,i.from,539),o=ra(new Zr(s,Ho(r),i.to,D.toView,this.observerLocator,t),s,t);n.addBinding(o)}};return e=Mo([_o("rk"),Vo(0,ei),Vo(1,Lr),No("design:paramtypes",[Object,Object])],e),e})(),ta=0;const na=[];function ra(e,t,n){for(;t instanceof Dt;)na[ta++]=t,t=t.expression;for(;ta>0;){const t=na[--ta],r=n.get(t.behaviorKey);r instanceof St&&(e=r.construct(e,t))}return na.length=0,e}const ia=new WeakMap,sa=new WeakMap,oa=new WeakMap;function aa(e){return e instanceof la}function ca(e,t,n){const r=fo.getOrCreate(e);if(null!==r.injectable)return new la(r,t);if(null==n){let e=ia.get(r);void 0===e&&ia.set(r,e=new WeakMap);let n=e.get(t);return void 0===n&&e.set(t,n=new la(r,t)),n}let i=sa.get(r);void 0===i&&sa.set(r,i=new WeakMap);let s=i.get(t);void 0===s&&i.set(t,s=new WeakMap);let o=s.get(n);return void 0===o&&s.set(n,o=new la(r,t)),o}class la{constructor(e,t){this.definition=e,this.parentContainer=t,this.viewModelProvider=void 0,this.fragment=null,this.factory=void 0,this.isCompiled=!1,this.compiledDefinition=void 0;const n=this.container=t.createChild();this.renderer=n.get(Lo),this.projectionProvider=n.get(So),n.registerResolver(Ye,this.factoryProvider=new ua,!0),n.registerResolver(We,this.parentControllerProvider=new r.e,!0),n.registerResolver(j,this.instructionProvider=new r.e,!0),n.registerResolver(xs,this.renderLocationProvider=new r.e,!0),(this.dom=n.get(Ss)).registerElementResolver(n,this.elementProvider=new r.e),n.register(...e.dependencies)}has(e,t){return this.container.has(e,t)}get(e){return this.container.get(e)}getAll(e){return this.container.getAll(e)}register(...e){return this.container.register(...e)}registerResolver(e,t){return this.container.registerResolver(e,t)}registerTransformer(e,t){return this.container.registerTransformer(e,t)}getResolver(e,t){return this.container.getResolver(e,t)}getFactory(e){return this.container.getFactory(e)}registerFactory(e,t){this.container.registerFactory(e,t)}createChild(){return this.container.createChild()}disposeResolvers(){this.container.disposeResolvers()}compile(e){let t;if(this.isCompiled)return this;this.isCompiled=!0;const n=this.definition;if(n.needsCompile){const r=this.container,i=r.get($o);t=this.compiledDefinition=i.compile(n,r,e)}else t=this.compiledDefinition=n;if(t.register(this),oa.has(t))this.fragment=oa.get(t);else{const e=t.template;null===e?oa.set(t,null):oa.set(t,this.fragment=this.definition.enhance?e:this.dom.createDocumentFragment(e))}return this}getViewFactory(e,t,n){let r=this.factory;if(void 0===r){void 0===e&&(e=this.definition.name);const i=this.parentContainer.get(Qe);r=this.factory=new Ma(e,this,i,t,n)}return r}beginChildComponentOperation(e){const t=this.definition;return null!==t.injectable&&(void 0===this.viewModelProvider&&this.container.registerResolver(t.injectable,this.viewModelProvider=new r.e),this.viewModelProvider.prepare(e)),this}createNodes(){return this.dom.createNodeSequence(this.fragment,!this.definition.enhance)}getComponentFactory(e,t,n,r,i){return void 0!==e&&this.parentControllerProvider.prepare(e),void 0!==t&&this.elementProvider.prepare(t),void 0!==n&&this.instructionProvider.prepare(n),void 0!==i&&this.renderLocationProvider.prepare(i),void 0!==r&&this.factoryProvider.prepare(r),this}createComponent(e){return this.container.get(e)}render(e,t,n,r,i){this.renderer.render(e,this,t,n,r,i)}renderInstructions(e,t,n,r){this.renderer.renderInstructions(e,this,t,n,r)}dispose(){this.elementProvider.dispose(),this.container.disposeResolvers()}registerProjections(e,t){this.projectionProvider.registerProjections(e,t)}getProjectionFor(e){return this.projectionProvider.getProjectionFor(e)}}class ua{constructor(){this.factory=null}prepare(e){this.factory=e}get $isResolver(){return!0}resolve(e,t){const n=this.factory;if(null===n)throw r.j.error(50);if("string"!=typeof n.name||0===n.name.length)throw r.j.error(51);return n}dispose(){this.factory=null}}var ha=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},da=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pa=function(e,t){return function(n,r){t(n,r,e)}};const fa={done:{done:!0,wait:()=>Promise.resolve()}};var ga;!function(e){e[e.beforeCreate=0]="beforeCreate",e[e.beforeRender=1]="beforeRender",e[e.beforeCompileChildren=2]="beforeCompileChildren",e[e.beforeBind=3]="beforeBind",e[e.afterAttach=4]="afterAttach"}(ga||(ga={}));const ma=r.a.createInterface("IStartTask").noDefault();var ba;!function(e){e[e.with=0]="with",e[e.from=1]="from"}(ba||(ba={}));const va=class e{constructor(e){this.type=e,this._slot=void 0,this._promiseOrTask=void 0,this._container=void 0,this._key=void 0,this._callback=void 0,this._task=void 0}get slot(){if(void 0===this._slot)throw new Error("StartTask.slot is not set");return this._slot}get promiseOrTask(){if(void 0===this._promiseOrTask)throw new Error("StartTask.promiseOrTask is not set");return this._promiseOrTask}get container(){if(void 0===this._container)throw new Error("StartTask.container is not set");return this._container}get key(){if(void 0===this._key)throw new Error("StartTask.key is not set");return this._key}get callback(){if(void 0===this._callback)throw new Error("StartTask.callback is not set");return this._callback}get task(){if(void 0===this._task)throw new Error("StartTask.task is not set");return this._task}static with(t){const n=new e(0);return n._key=t,n}static from(t){const n=new e(1);return n._promiseOrTask=t,n}beforeCreate(){return this.at(0)}beforeRender(){return this.at(1)}beforeCompileChildren(){return this.at(2)}beforeBind(){return this.at(3)}afterAttach(){return this.at(4)}at(e){return this._slot=e,this}call(e){return this._callback=e,this}register(e){return this._container=e.register(r.i.instance(ma,this))}resolveTask(){if(void 0===this._task)switch(this.type){case 0:this._task=new wa(this.container,this.key,this.callback);break;case 1:this._task=new ka(this.promiseOrTask)}return this.task}},ya=r.a.createInterface("IStartTaskManager").noDefault();let Aa=(()=>{let e=class{constructor(e){this.locator=e,this.beforeCompileChildrenQueued=!1}static register(e){return r.i.singleton(ya,this).register(e)}enqueueBeforeCompileChildren(){if(this.beforeCompileChildrenQueued)throw new Error("BeforeCompileChildren already queued");this.beforeCompileChildrenQueued=!0}runBeforeCreate(e=this.locator){return this.run(0,e)}runBeforeRender(e=this.locator){return this.run(1,e)}runBeforeCompileChildren(e=this.locator){return this.beforeCompileChildrenQueued?(this.beforeCompileChildrenQueued=!1,this.run(2,e)):fa.done}runBeforeBind(e=this.locator){return this.run(3,e)}runAfterAttach(e=this.locator){return this.run(4,e)}run(e,t=this.locator){const n=t.getAll(ma).filter(t=>t.slot===e).map(e=>e.resolveTask()).filter(e=>!e.done);return 0===n.length?fa.done:new xa(n)}};return e=ha([pa(0,r.d),da("design:paramtypes",[Object])],e),e})();class wa{constructor(e,t,n){this.container=e,this.key=t,this.callback=n,this.done=!1}wait(){if(void 0===this.promise){const e=this.container.get(this.key),t=this.callback.call(void 0,e);this.promise=void 0===t?Promise.resolve():t.then instanceof Function?t:t.wait(),this.promise=this.promise.then(()=>{this.done=!0,this.container=void 0,this.key=void 0,this.callback=void 0}).catch(e=>{throw e})}return this.promise}}class Ca{constructor(e,t,n,...r){this.done=!1;const i=e.then instanceof Function?e:e.wait();this.promise=i.then(()=>{const e=t.call(n,...r);if(void 0!==e){return(e.then instanceof Function?e:e.wait()).then(()=>{this.done=!0})}this.done=!0})}wait(){return this.promise}}class ka{constructor(e){this.done=!1,this.promise=e.then instanceof Function?e:e.wait(),this.promise.then(()=>{this.done=!0}).catch(e=>{throw e})}wait(){return this.promise}}class xa{constructor(e){this.done=!1,this.promise=Promise.all(e.map(e=>e.wait())).then(()=>{this.done=!0})}wait(){return this.promise}}function Sa(e){return!(void 0===e||!0===e.done)}function Oa(e){e.dispose()}const ja=new WeakMap;class Ta{constructor(e,t,n,i,s,o,a,c,l){this.vmKind=e,this.flags=t,this.lifecycle=n,this.definition=i,this.hooks=s,this.viewFactory=o,this.viewModel=a,this.bindingContext=c,this.host=l,this.id=Object(r.B)("au$component"),this.head=null,this.tail=null,this.next=null,this.parent=null,this.bindings=void 0,this.children=void 0,this.hasLockedScope=!1,this.isStrictBinding=!1,this.scope=void 0,this.hostScope=null,this.projector=void 0,this.nodes=void 0,this.context=void 0,this.location=void 0,this.mountStrategy=1,this.state=0,this.promise=void 0,this.resolve=void 0,this.reject=void 0,this.logger=null,this.debug=!1,this.fullyNamed=!1,this.canceling=!1}get isActive(){return(15&this.state)>0&&0==(16&this.state)}get name(){var e,t,n,r,i;let s=null!==(t=null===(e=this.parent)||void 0===e?void 0:e.name)&&void 0!==t?t:"";switch(s=s.length>0?s+" -> ":"",this.vmKind){case 1:return`${s}Attribute<${null===(n=this.viewModel)||void 0===n?void 0:n.constructor.name}>`;case 0:return`${s}Element<${null===(r=this.viewModel)||void 0===r?void 0:r.constructor.name}>`;case 2:return`${s}View<${null===(i=this.viewFactory)||void 0===i?void 0:i.name}>`}}static getCached(e){return ja.get(e)}static getCachedOrThrow(e){const t=Ta.getCached(e);if(void 0===t)throw new Error("There is no cached controller for the provided ViewModel: "+String(e));return t}static forCustomElement(e,t,n,r,i,s=0,o=!0,a){if(ja.has(e))return ja.get(e);s|=(a=null!=a?a:mo.getDefinition(e.constructor)).strategy;const c=new Ta(0,s,t,a,a.hooks,void 0,e,Ra(s,e),n);return ja.set(e,c),o&&c.hydrateCustomElement(r,i),c}static forCustomAttribute(e,t,n,r=0){if(ja.has(e))return ja.get(e);const i=Cs.getDefinition(e.constructor);r|=i.strategy;const s=new Ta(1,r,t,i,i.hooks,void 0,e,Ra(r,e),n);return ja.set(e,s),s.hydrateCustomAttribute(),s}static forSyntheticView(e,t,n,r=0){const i=new Ta(2,r,t,void 0,T.none,e,void 0,void 0,void 0);return i.hydrateSynthetic(n),i}hydrateCustomElement(e,t){this.logger=e.get(r.c).root,this.debug=this.logger.config.level<=1,this.debug&&(this.logger=this.logger.scopeTo(this.name));let n=this.definition;const i=this.flags|=n.strategy,s=this.viewModel;Ia(this.lifecycle,n,i,s),function(e,t,n,r){const i=t.childrenObservers,s=Object.getOwnPropertyNames(i),o=s.length;if(o>0){const t=Ba(r);let a;for(let c=0;c<o;++c)if(a=s[c],null==t[a]){const s=i[a];t[a]=new so(e,r,n,a,s.callback,s.query,s.filter,s.map,s.options)}}}(this,n,i,s);const o=this.scope=ot.create(i,this.bindingContext,null),a=this.hooks;if(a.hasCreate){this.debug&&this.logger.trace("invoking create() hook");const t=s.create(this,e,n);void 0!==t&&t!==n&&(n=fo.getOrCreate(t))}const c=this.context=ca(n,e,null==t?void 0:t.projections);n.register(c),null!==n.injectable&&c.beginChildComponentOperation(s),a.hasBeforeCompile&&(this.debug&&this.logger.trace("invoking hasBeforeCompile() hook"),s.beforeCompile(this));const l=c.compile(t),u=l.compiledDefinition;l.registerProjections(u.projectionsMap,o),u.projectionsMap.clear(),this.isStrictBinding=u.isStrictBinding;const h=e.get(bo);this.projector=h.getElementProjector(c.dom,this,this.host,u),s.$controller=this;const d=this.nodes=l.createNodes();a.hasAfterCompile&&(this.debug&&this.logger.trace("invoking hasAfterCompile() hook"),s.afterCompile(this));e.get(ya).runBeforeCompileChildren(e);const p=d.findTargets();l.render(this.flags,this,p,u,this.host),a.hasAfterCompileChildren&&(this.debug&&this.logger.trace("invoking afterCompileChildren() hook"),s.afterCompileChildren(this))}hydrateCustomAttribute(){const e=this.definition,t=this.flags|e.strategy,n=this.viewModel;Ia(this.lifecycle,e,t,n),n.$controller=this}hydrateSynthetic(e){this.context=e;const t=e.compile(null),n=t.compiledDefinition;this.isStrictBinding=n.isStrictBinding;const r=(this.nodes=t.createNodes()).findTargets();t.render(this.flags,this,r,n,void 0)}cancel(e,t,n){var r,i,s,o;if(!this.canceling)if(this.canceling=!0,1==(1&this.state)){if(this.state=1^this.state|16,null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.onCancel)||void 0===i||i.call(r,e,t,n),4==(4&this.state)&&void 0!==this.children)for(const r of this.children)r.cancel(e,t,n)}else if(16==(16&this.state)&&(this.state=16^this.state|1,null===(o=null===(s=this.bindingContext)||void 0===s?void 0:s.onCancel)||void 0===o||o.call(s,e,t,n),64==(64&this.state)&&void 0!==this.children))for(const r of this.children)r.cancel(e,t,n)}activate(e,t,n,i,s){switch(this.canceling=!1,this.state){case 0:case 224:if(null!==t&&!t.isActive)return;this.state=1;break;case 14:return;case 512:throw new Error(this.name+" trying to activate a controller that is disposed.");default:if(1==(1&this.state))return this.promise;if(16==(16&this.state))return this.state=16^this.state|1,64==(64&this.state)&&void 0!==this.children?Object(r.E)(this.onResolve(this.$activateChildren(e,t,n)),this.promise):this.promise;throw new Error(`${this.name} unexpected state: ${ze(this.state)}.`)}switch(this.parent=t,this.debug&&!this.fullyNamed&&(this.fullyNamed=!0,this.logger=this.context.get(r.c).root.scopeTo(this.name),this.logger.trace("activate()")),this.hostScope=null!=s?s:null,n|=32,this.vmKind){case 0:this.scope.parentScope=void 0===i?null:i;break;case 1:this.scope=i;break;case 2:if(null==i)throw new Error("Scope is null or undefined");this.hasLockedScope||(this.scope=i)}return this.isStrictBinding&&(n|=4),this.beforeBind(e,t,n)}beforeBind(e,t,n){var r,i;return this.debug&&this.logger.trace("beforeBind()"),this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.beforeBind)||void 0===i?void 0:i.call(r,e,t,n),()=>this.bind(e,t,n))}bind(e,t,n){if(this.debug&&this.logger.trace("bind()"),this.state|=2,16==(16&this.state))return this.afterUnbind(e,t,n);if(void 0!==this.bindings){const{scope:e,hostScope:t,bindings:r}=this;for(let i=0,s=r.length;i<s;++i)r[i].$bind(n,e,t)}return this.afterBind(e,t,n)}afterBind(e,t,n){var r,i;return this.debug&&this.logger.trace("afterBind()"),this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.afterBind)||void 0===i?void 0:i.call(r,e,t,n),()=>this.attach(e,t,n))}attach(e,t,n){if(this.debug&&this.logger.trace("attach()"),16==(16&this.state))return this.beforeUnbind(e,t,n);switch(this.vmKind){case 0:this.projector.project(this.nodes);break;case 2:switch(this.mountStrategy){case 2:this.nodes.appendTo(this.location);break;case 1:this.nodes.insertBefore(this.location)}}return this.afterAttach(e,t,n)}afterAttach(e,t,n){var r,i;return this.debug&&this.logger.trace("afterAttach()"),this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.afterAttach)||void 0===i?void 0:i.call(r,e,t,n),()=>this.activateChildren(e,t,n))}activateChildren(e,t,n){return this.debug&&this.logger.trace("activateChildren()"),this.state|=4,this.onResolve(this.$activateChildren(e,t,n),()=>this.endActivate(e,t,n))}$activateChildren(e,t,n){if(void 0!==this.children){const{children:t,scope:i,hostScope:s}=this;return Object(r.E)(...t.map(t=>t.activate(e,this,n,i,s)))}}endActivate(e,t,n){if(this.debug&&this.logger.trace("afterAttachChildren()"),this.state^=4,16==(16&this.state))return Ea(e),this.beforeDetach(e,t,n);if(32==(32&this.state))return this.state^=32,void this.resolvePromise();let r,i=void 0;if(null===e.head?e.head=this:e.tail.next=this,e.tail=this,e===this){if(null!==e.head){let s,o=e.head;e.head=e.tail=null;do{r=o.afterAttachChildren(e,t,n),r instanceof Promise&&(null!=i?i:i=[]).push(r),s=o.next,o.next=null,o=s}while(null!==o);if(void 0!==i){return(1===i.length?i[0]:Promise.all(i)).then(()=>{this.resolvePromise()})}}this.resolvePromise()}}afterAttachChildren(e,t,n){var r,i;return this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.afterAttachChildren)||void 0===i?void 0:i.call(r,e,n),()=>{if(16==(16&this.state))return this.state=14,this.deactivate(this,t,n);this.state=14,e!==this&&this.resolvePromise()})}deactivate(e,t,n){switch(this.canceling=!1,-257&this.state){case 14:this.state=16;break;case 0:case 224:case 512:case 736:return;default:if(16==(16&this.state))return this.promise;if(1==(1&this.state))return this.state=1^this.state|16,4==(4&this.state)&&void 0!==this.children?Object(r.E)(this.onResolve(this.$deactivateChildren(e,t,n)),this.promise):this.promise;throw new Error(`${this.name} unexpected state: ${ze(this.state)}.`)}return this.debug&&this.logger.trace("deactivate()"),this.beforeDetach(e,t,n)}beforeDetach(e,t,n){var r,i;return this.debug&&this.logger.trace("beforeDetach()"),this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.beforeDetach)||void 0===i?void 0:i.call(r,e,t,n),()=>this.detach(e,t,n))}detach(e,t,n){if(this.debug&&this.logger.trace("detach()"),this.state|=32,1==(1&this.state))return this.afterAttach(e,t,n);switch(this.vmKind){case 0:this.projector.take(this.nodes);break;case 2:this.nodes.remove(),this.nodes.unlink()}return this.beforeUnbind(e,t,n)}beforeUnbind(e,t,n){var r,i;return this.debug&&this.logger.trace("beforeUnbind()"),this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.beforeUnbind)||void 0===i?void 0:i.call(r,e,t,n),()=>this.unbind(e,t,n))}unbind(e,t,n){if(this.debug&&this.logger.trace("unbind()"),1==(1&this.state))return this.afterBind(e,t,n);if(n|=64,void 0!==this.bindings){const{bindings:e}=this;for(let t=0,r=e.length;t<r;++t)e[t].$unbind(n)}return this.afterUnbind(e,t,n)}afterUnbind(e,t,n){var r,i;return this.debug&&this.logger.trace("afterUnbind()"),this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.afterUnbind)||void 0===i?void 0:i.call(r,e,t,n),()=>this.deactivateChildren(e,t,n))}deactivateChildren(e,t,n){return this.debug&&this.logger.trace("deactivateChildren()"),this.state|=64,this.onResolve(this.$deactivateChildren(e,t,n),()=>this.endDeactivate(e,t,n))}$deactivateChildren(e,t,n){if(void 0!==this.children){const{children:t}=this;return Object(r.E)(...t.map(t=>t.deactivate(e,this,n)))}}endDeactivate(e,t,n){if(this.debug&&this.logger.trace("afterUnbindChildren()"),this.state^=64,1==(1&this.state))return Ea(e),this.beforeBind(e,t,n);if(2==(2&this.state))return this.state^=2,void this.resolvePromise();let r,i=void 0;if(null===e.head?e.head=this:e.tail.next=this,e.tail=this,e===this){if(null!==e.head){let s,o=e.head;e.head=e.tail=null;do{r=o.afterUnbindChildren(e,t,n),r instanceof Promise&&(null!=i?i:i=[]).push(r),s=o.next,o.next=null,o=s}while(null!==o);if(void 0!==i){return(1===i.length?i[0]:Promise.all(i)).then(()=>{this.resolvePromise()})}}this.resolvePromise()}}afterUnbindChildren(e,t,n){var r,i;return this.onResolve(null===(i=null===(r=this.bindingContext)||void 0===r?void 0:r.afterUnbindChildren)||void 0===i?void 0:i.call(r,e,n),()=>{switch(this.parent=null,this.vmKind){case 1:this.scope=void 0;break;case 2:this.hasLockedScope||(this.scope=void 0),256!=(256&this.state)||this.viewFactory.tryReturnToCache(this)||this.dispose();break;case 0:this.scope.parentScope=null}if(1==(1&this.state))return this.state=512&this.state|224,this.activate(this,t,n);512==(512&n)&&this.dispose(),this.state=512&this.state|224,e!==this&&this.resolvePromise()})}onResolve(e,t){return e instanceof Promise?(void 0===this.promise&&(this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})),e=e.catch(e=>{var t;null===(t=this.logger)||void 0===t||t.error(e);const n=this.reject;throw this.promise=this.resolve=this.reject=void 0,n(e),e}),void 0===t?e:e.then(t)):void 0!==t?t():void 0}addBinding(e){void 0===this.bindings?this.bindings=[e]:this.bindings[this.bindings.length]=e}addController(e){void 0===this.children?this.children=[e]:this.children[this.children.length]=e}is(e){switch(this.vmKind){case 1:return Cs.getDefinition(this.viewModel.constructor).name===e;case 0:return mo.getDefinition(this.viewModel.constructor).name===e;case 2:return this.viewFactory.name===e}}lockScope(e){this.scope=e,this.hasLockedScope=!0}setLocation(e,t){this.location=e,this.mountStrategy=t}release(){this.state|=256}dispose(){this.debug&&this.logger.trace("dispose()"),512!=(512&this.state)&&(this.state|=512,this.hooks.hasDispose&&this.bindingContext.dispose(),void 0!==this.children&&(this.children.forEach(Oa),this.children=void 0),void 0!==this.bindings&&(this.bindings.forEach(Oa),this.bindings=void 0),this.scope=void 0,this.projector=void 0,this.nodes=void 0,this.context=void 0,this.location=void 0,this.viewFactory=void 0,void 0!==this.viewModel&&(ja.delete(this.viewModel),this.viewModel=void 0),this.bindingContext=void 0,this.host=void 0)}accept(e){if(!0===e(this))return!0;if(this.hooks.hasAccept&&!0===this.bindingContext.accept(e))return!0;if(void 0!==this.children){const{children:t}=this;for(let n=0,r=t.length;n<r;++n)if(!0===t[n].accept(e))return!0}}getTargetAccessor(e){const{bindings:t}=this;if(void 0!==t){const n=t.find(t=>t.targetProperty===e);if(void 0!==n)return n.targetObserver}}resolvePromise(){const e=this.resolve;void 0!==e&&(this.promise=this.resolve=this.reject=void 0,e())}}function Ra(e,t){return!0===t.noProxy||0==(2&e)?t:Fe.getOrCreate(t).proxy}function Ba(e){let t=e.$observers;return void 0===t&&Reflect.defineProperty(e,"$observers",{enumerable:!1,value:t={}}),t}function Ia(e,t,n,r){const i=t.bindables,s=Object.getOwnPropertyNames(i),o=s.length;if(o>0){let t,a;if((2&n)>0)for(let c=0;c<o;++c)t=s[c],a=i[t],new Ji(e,n,Fe.getOrCreate(r).proxy,t,a.callback,a.set);else{const c=Ba(r);for(let l=0;l<o;++l)t=s[l],void 0===c[t]&&(a=i[t],c[t]=new Ji(e,n,r,t,a.callback,a.set))}}}function Ea(e){let t,n=e.head;for(e.head=e.tail=null;null!==n;)t=n.next,n.next=null,n=t}function Pa(e){return e instanceof Ta&&0===e.vmKind}function Da(e){return Object(r.x)(e)&&mo.isType(e.constructor)}let Ma=(()=>{class e{constructor(e,t,n,r,i=null){this.name=e,this.context=t,this.lifecycle=n,this.contentType=r,this.projectionScope=i,this.isCaching=!1,this.cache=null,this.cacheSize=-1}setCacheSize(t,n){t&&("*"===t?t=e.maxCacheSize:"string"==typeof t&&(t=parseInt(t,10)),-1!==this.cacheSize&&n||(this.cacheSize=t)),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0}canReturnToCache(e){return null!=this.cache&&this.cache.length<this.cacheSize}tryReturnToCache(e){return!!this.canReturnToCache(e)&&(this.cache.push(e),!0)}create(e){const t=this.cache;let n;return null!=t&&t.length>0?(n=t.pop(),n):(n=Ta.forSyntheticView(this,this.lifecycle,this.context,e),n)}}return e.maxCacheSize=65535,e})();const Na=new WeakSet;function Va(e){return!Na.has(e)}function $a(e){return Na.add(e),fo.create(e)}const Fa={name:r.h.resource.keyFor("views"),has:e=>"function"==typeof e&&(r.f.hasOwn(Fa.name,e)||"$views"in e),get(e){if("function"==typeof e&&"$views"in e){const t=e.$views.filter(Va).map($a);for(const n of t)Fa.add(e,n)}let t=r.f.getOwn(Fa.name,e);return void 0===t&&r.f.define(Fa.name,t=[],e),t},add(e,t){const n=fo.create(t);let i=r.f.getOwn(Fa.name,e);return void 0===i?r.f.define(Fa.name,i=[n],e):i.push(n),i}};const La=r.a.createInterface("IViewLocator").noDefault();var _a=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ua=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qa=function(e,t){return function(n,r){t(n,r,e)}};let Ha=(()=>{let e=class{constructor(e){this.viewLocator=e}toView(e,t){return this.viewLocator.getViewComponentForObject(e,t)}};return e=_a([Tt("view"),qa(0,La),Ua("design:paramtypes",[Object])],e),e})();const za=r.a.createInterface("IActivator").withDefault(e=>e.singleton(Wa));let Wa=(()=>{class e{constructor(e){this.taskManager=e}static register(e){return r.i.singleton(za,this).register(e)}activate(e,t,n,r=0,i){r=void 0===r?0:r;const s=this.taskManager;let o=s.runBeforeRender();return o.done?this.render(e,t,n,r):o=new Ca(o,this.render,this,e,t,n,r),o=o.done?s.runBeforeBind():new Ca(o,s.runBeforeBind,s),o=o.done?this.activateController(t,r,i):new Ca(o,this.activateController,this,t,r,i),o=o.done?s.runAfterAttach():new Ca(o,s.runAfterAttach,s),o}deactivate(e,t=0){const n=Ta.getCachedOrThrow(e),r=n.deactivate(n,null,t);return Sa(r)?new ka(r):fa.done}render(e,t,n,r){const i=n.get(Qe);Ta.forCustomElement(t,i,e,n,null,r)}activateController(e,t,n){const r=Ta.getCachedOrThrow(e),i=r.activate(r,null,32|t,n);return Sa(i)?new ka(i):fa.done}}return e.inject=[ya],e})();class Ka{constructor(e,t,n,i=!1){if(this.config=e,n.prepare(this),null!=e.host)t.has(ks,!1)?this.container=t.createChild():this.container=t,r.i.instance(ks,e.host).register(this.container),this.host=e.host;else{if(!t.has(ks,!0))throw new Error("No host element found.");this.container=t,this.host=t.get(ks)}this.strategy=null!=e.strategy?e.strategy:1;const s=this.container.get(Qa);this.dom=s.initialize(e),this.lifecycle=this.container.get(Qe),this.activator=this.container.get(za);const o=this.container.get(ya).runBeforeCreate();if(i){const t=e.component;this.enhanceDefinition=mo.getDefinition(mo.isType(t)?mo.define({...mo.getDefinition(t),template:this.host,enhance:!0},t):mo.define({name:void 0,template:this.host,enhance:!0,hooks:new T(t)}))}o.done?(this.task=fa.done,this.create()):this.task=new Ca(o,this.create,this)}activate(e){const{task:t,host:n,viewModel:r,container:i,activator:s,strategy:o}=this,a=o;if(void 0===r)return void 0===this.createTask&&(this.createTask=new Ca(t,this.activate,this,e)),this.createTask;if(t.done)null==e||e.done?this.task=s.activate(n,r,i,a,void 0):this.task=new Ca(e,s.activate,s,n,r,i,a,void 0);else if(null==e||e.done)this.task=new Ca(t,s.activate,s,n,r,i,a,void 0);else{const o=new Ca(t,e.wait,e);this.task=new Ca(o,s.activate,s,n,r,i,a,void 0)}return this.task}deactivate(e){const{task:t,viewModel:n,activator:r,strategy:i}=this,s=i;if(void 0===n)return void 0===this.createTask&&(this.createTask=new Ca(t,this.deactivate,this,e)),this.createTask;if(t.done)null==e||e.done?this.task=r.deactivate(n,s):this.task=new Ca(e,r.deactivate,r,n,s);else if(null==e||e.done)this.task=new Ca(t,r.deactivate,r,n,s);else{const i=new Ca(t,e.wait,e);this.task=new Ca(i,r.deactivate,r,n,s)}return this.task}dispose(){var e;null===(e=this.controller)||void 0===e||e.dispose()}create(){const e=this.config,t=this.viewModel=mo.isType(e.component)?this.container.get(e.component):e.component,n=this.container,r=n.get(Qe);n.get(ya).enqueueBeforeCompileChildren(),this.controller=Ta.forCustomElement(t,r,this.host,n,null,this.strategy,!1,this.enhanceDefinition),this.controller.hydrateCustomElement(n,null)}}class Ya{constructor(e=r.a.createContainer()){if(e.has(Ya,!0))throw new Error("An instance of Aurelia is already registered with the container or an ancestor of it.");this.container=e,this.task=fa.done,this._isRunning=!1,this._isStarting=!1,this._isStopping=!1,this._root=void 0,this.next=void 0,r.i.instance(Ya,this).register(e),e.registerResolver(Ka,this.rootProvider=new r.e)}get isRunning(){return this._isRunning}get isStarting(){return this._isStarting}get isStopping(){return this._isStopping}get root(){if(null==this._root){if(null==this.next)throw new Error("root is not defined");return this.next}return this._root}register(...e){return this.container.register(...e),this}app(e){return this.configureRoot(e)}enhance(e){return this.configureRoot(e,!0)}start(e=this.next){if(null==e)throw new Error("There is no composition root");return this.stop(e),this.task.done?this.onBeforeStart(e):this.task=new Ca(this.task,this.onBeforeStart,this,e),this.task=this.root.activate(this.task),this.task.done?this.task=this.onAfterStart(e):this.task=new Ca(this.task,this.onAfterStart,this,e),this.task}stop(e=this._root){return this._isRunning&&null!=e&&(this.task.done?this.onBeforeStop(e):this.task=new Ca(this.task,this.onBeforeStop,this,e),this.task=e.deactivate(this.task),this.task.done?this.task=this.onAfterStop(e):this.task=new Ca(this.task,this.onAfterStop,this,e)),this.task}wait(){return this.task.wait()}dispose(){var e;if(this._isRunning||this._isStopping)throw new Error("The aurelia instance must be fully stopped before it can be disposed");null===(e=this._root)||void 0===e||e.dispose(),this._root=void 0,this.container.dispose()}configureRoot(e,t){return this.next=new Ka(e,this.container,this.rootProvider,t),this.isRunning&&this.start(),this}onBeforeStart(e){Reflect.set(e.host,"$aurelia",this),this.rootProvider.prepare(this._root=e),this._isStarting=!0}onAfterStart(e){return this._isRunning=!0,this._isStarting=!1,this.dispatchEvent(e,"aurelia-composed",e.dom),this.dispatchEvent(e,"au-started",e.host),fa.done}onBeforeStop(e){this._isRunning=!1,this._isStopping=!0}onAfterStop(e){return Reflect.deleteProperty(e.host,"$aurelia"),this._root=void 0,this.rootProvider.dispose(),this._isStopping=!1,this.dispatchEvent(e,"au-stopped",e.host),fa.done}dispatchEvent(e,t,n){(n="dispatchEvent"in n?n:e.dom).dispatchEvent(e.dom.createCustomEvent(t,{detail:this,bubbles:!0,cancelable:!0}))}}r.g.global.Aurelia=Ya;const Qa=r.a.createInterface("IDOMInitializer").noDefault(),Ga=[S,x],Ja=[fe,ue,de,he,pe,ge,me],Za=[ti,qr,Je,Uo,Aa,class{constructor(){this.modelInstanceToBoundComponent=new WeakMap,this.modelTypeToUnboundComponent=new Map}static register(e){return r.i.singleton(La,this).register(e)}getViewComponentForObject(e,t){if(e){const n=Fa.has(e.constructor)?Fa.get(e.constructor):[],r="function"==typeof t?t(e,n):this.getViewName(n,t);return this.getOrCreateBoundComponent(e,n,r)}return null}getOrCreateBoundComponent(e,t,n){let r,i=this.modelInstanceToBoundComponent.get(e);if(void 0===i?(i={},this.modelInstanceToBoundComponent.set(e,i)):r=i[n],void 0===r){const s=this.getOrCreateUnboundComponent(e,t,n);r=mo.define(mo.getDefinition(s),class extends s{constructor(){super(e)}}),i[n]=r}return r}getOrCreateUnboundComponent(e,t,n){let r,i=this.modelTypeToUnboundComponent.get(e.constructor);if(void 0===i?(i={},this.modelTypeToUnboundComponent.set(e.constructor,i)):r=i[n],void 0===r){r=mo.define(this.getView(t,n),class{constructor(e){this.viewModel=e}create(e,t,n){const r=this.viewModel;if(e.scope=ot.fromParent(e.flags,e.scope,r),void 0!==r.create)return r.create(e,t,n)}});const s=r.prototype;"beforeCompile"in e&&(s.beforeCompile=function(e){this.viewModel.beforeCompile(e)}),"afterCompile"in e&&(s.afterCompile=function(e){this.viewModel.afterCompile(e)}),"afterCompileChildren"in e&&(s.afterCompileChildren=function(e){this.viewModel.afterCompileChildren(e)}),"beforeBind"in e&&(s.beforeBind=function(e,t,n){return this.viewModel.beforeBind(e,t,n)}),"afterBind"in e&&(s.afterBind=function(e,t,n){return this.viewModel.afterBind(e,t,n)}),"afterAttach"in e&&(s.afterAttach=function(e,t,n){return this.viewModel.afterAttach(e,t,n)}),"afterAttachChildren"in e&&(s.afterAttachChildren=function(e,t){return this.viewModel.afterAttachChildren(e,t)}),"beforeDetach"in e&&(s.beforeDetach=function(e,t,n){return this.viewModel.beforeDetach(e,t,n)}),"beforeUnbind"in e&&(s.beforeUnbind=function(e,t,n){return this.viewModel.beforeUnbind(e,t,n)}),"afterUnbind"in e&&(s.afterUnbind=function(e,t,n){return this.viewModel.afterUnbind(e,t,n)}),"afterUnbindChildren"in e&&(s.afterUnbindChildren=function(e,t){return this.viewModel.afterUnbindChildren(e,t)}),"dispose"in e&&(s.dispose=function(){this.viewModel.dispose()}),i[n]=r}return r}getViewName(e,t){return t||(1===e.length?e[0].name:"default-view")}getView(e,t){const n=e.find(e=>e.name===t);if(void 0===n)throw new Error("Could not find view: "+t);return n}},pn.b,jo],Xa=[Ds,Ps,Ms,Fs,Ls,zs,Xs,Do,Ha,as,ts,ns,rs,hs,fs,is,To],ec=[Xo,ea,Go,Jo,Zo,zo,Wo,Ko,Yo,Qo],tc={register:e=>e.register(...Za,...Xa,...ec,...Ga,...Ja),createContainer(){return this.register(r.a.createContainer())}};class nc{constructor(e,t){this.propName=e,this.mode=t}}class rc{constructor(e,t){this.name=e,this.containerless=t,this.bindables=Object.create(null)}static from(e){const t=new rc(e.name,e.containerless),n=e.bindables,i=D.toView;let s,o,a,c;for(o in n)s=n[o],void 0!==s.property&&(o=s.property),a=void 0!==s.attribute?s.attribute:Object(r.z)(o),c=void 0!==s.mode&&s.mode!==D.default?s.mode:i,t.bindables[a]=new nc(o,c);return t}}class ic{constructor(e,t,n){this.name=e,this.isTemplateController=t,this.noMultiBindings=n,this.bindables=Object.create(null),this.bindable=null}static from(e){const t=new ic(e.name,e.isTemplateController,e.noMultiBindings),n=e.bindables,r=void 0!==e.defaultBindingMode&&e.defaultBindingMode!==D.default?e.defaultBindingMode:D.toView;let i,s,o,a,c=!1,l=!1;for(s in n){if(i=n[s],void 0!==i.property&&(s=i.property),o=void 0!==i.mode&&i.mode!==D.default?i.mode:r,l=!0===i.primary,a=t.bindables[s]=new nc(s,o),l){if(c)throw new Error("primary already exists");c=!0,t.bindable=a}null===t.bindable&&(t.bindable=a)}return null===t.bindable&&(t.bindable=new nc("value",r)),t}}const sc=new WeakMap;class oc{constructor(e){this.elementLookup=Object.create(null),this.attributeLookup=Object.create(null),this.commandLookup=Object.create(null),this.container=e;const t=e.root;this.resourceResolvers=e.resourceResolvers,this.rootResourceResolvers=t.resourceResolvers}static getOrCreate(e){let t=sc.get(e);return void 0===t&&sc.set(e,t=new oc(e)),t}getElementInfo(e){let t=this.elementLookup[e];if(void 0===t){const n=this.find(mo,e);this.elementLookup[e]=t=null===n?null:rc.from(n)}return t}getAttributeInfo(e){let t=this.attributeLookup[e.target];if(void 0===t){const n=this.find(Cs,e.target);this.attributeLookup[e.target]=t=null===n?null:ic.from(n)}return t}getBindingCommand(e,t){const n=e.command;if(null===n)return null;let r=this.commandLookup[n];if(void 0===r){if(r=this.create(E,n),null===r){if(t)return null;throw new Error("Unknown binding command: "+n)}this.commandLookup[n]=r}return r}find(e,t){const n=e.keyFrom(t);let i=this.resourceResolvers[n];if(void 0===i&&(i=this.rootResourceResolvers[n],void 0===i))return null;if(null===i)return null;if("function"==typeof i.getFactory){const t=i.getFactory(this.container);if(null==t)return null;const n=r.f.getOwn(e.name,t.Type);return void 0===n?null:n}return null}create(e,t){const n=e.keyFrom(t);let r=this.resourceResolvers[n];if(void 0===r&&(r=this.rootResourceResolvers[n],void 0===r))return null;if(null===r)return null;const i=r.resolve(this.container,this.container);return void 0===i?null:i}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return ne})),n.d(t,"g",(function(){return An})),n.d(t,"b",(function(){return Je})),n.d(t,"a",(function(){return Ze})),n.d(t,"d",(function(){return rt})),n.d(t,"f",(function(){return tt})),n.d(t,"e",(function(){return nt}));var r=n(0);const i=r.a.createInterface("IAttrSyntaxTransformer").noDefault();var s=n(1);class o{constructor(e){this.from=e,this.type="ha"}}class a{constructor(e,t){this.from=e,this.to=t,this.type="hb",this.preventDefault=!0,this.strategy=s.B.none}}class c{constructor(e,t){this.from=e,this.to=t,this.type="hb",this.preventDefault=!1,this.strategy=s.B.bubbling}}class l{constructor(e,t){this.from=e,this.to=t,this.type="hb",this.preventDefault=!1,this.strategy=s.B.capturing}}class u{constructor(e,t){this.value=e,this.to=t,this.type="he"}}class h{constructor(e){this.value=e,this.type="hf"}}class d{constructor(e){this.value=e,this.type="hg"}}class p{constructor(e,t,n){this.attr=e,this.from=t,this.to=n,this.type="hc"}}var f=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let g=(()=>{let e=class{constructor(){this.bindingType=4182}compile(e){return new a(e.expression,Object(s.Jb)(e,!1))}};return e=f([Object(s.Cb)("trigger")],e),e})(),m=(()=>{let e=class{constructor(){this.bindingType=4184}compile(e){return new c(e.expression,Object(s.Jb)(e,!1))}};return e=f([Object(s.Cb)("delegate")],e),e})(),b=(()=>{let e=class{constructor(){this.bindingType=4183}compile(e){return new l(e.expression,Object(s.Jb)(e,!1))}};return e=f([Object(s.Cb)("capture")],e),e})(),v=(()=>{let e=class{constructor(){this.bindingType=32}compile(e){const t=Object(s.Jb)(e,!1);return new p(t,e.expression,t)}};return e=f([Object(s.Cb)("attr")],e),e})(),y=(()=>{let e=class{constructor(){this.bindingType=32}compile(e){return new p("style",e.expression,Object(s.Jb)(e,!1))}};return e=f([Object(s.Cb)("style")],e),e})(),A=(()=>{let e=class{constructor(){this.bindingType=32}compile(e){return new p("class",e.expression,Object(s.Jb)(e,!1))}};return e=f([Object(s.Cb)("class")],e),e})(),w=(()=>{let e=class{constructor(){this.bindingType=4128}compile(e){return new s.mb(e.expression,Object(s.Jb)(e,!1))}};return e=f([Object(s.Cb)("ref")],e),e})();class C{constructor(e,t,n,r,i,s,o,a){this.dom=e,this.targetEvent=t,this.delegationStrategy=n,this.sourceExpression=r,this.target=i,this.preventDefault=s,this.eventManager=o,this.locator=a,this.interceptor=this,this.isBound=!1,this.$hostScope=null}callSource(e){const t=this.$scope.overrideContext;t.$event=e;const n=this.sourceExpression.evaluate(128,this.$scope,this.$hostScope,this.locator);return Reflect.deleteProperty(t,"$event"),!0!==n&&this.preventDefault&&e.preventDefault(),n}handleEvent(e){this.interceptor.callSource(e)}$bind(e,t,n){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(32|e)}this.$scope=t,this.$hostScope=n;const r=this.sourceExpression;r.hasBind&&r.bind(e,t,n,this.interceptor),this.handler=this.eventManager.addEventListener(this.dom,this.target,this.targetEvent,this,this.delegationStrategy),this.isBound=!0}$unbind(e){if(!this.isBound)return;const t=this.sourceExpression;t.hasUnbind&&t.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=null,this.handler.dispose(),this.handler=null,this.isBound=!1}observeProperty(e,t,n){}handleChange(e,t,n){}dispose(){this.interceptor=void 0,this.sourceExpression=void 0,this.locator=void 0,this.target=void 0}}var k=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},x=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let S=(()=>{let e=class{constructor(e,t,n,r,i,s){this.scheduler=e,this.observerLocator=n,this.obj=r,this.propertyKey=i,this.targetAttribute=s,this.currentValue=null,this.oldValue=null,this.hasChanges=!1,this.task=null,this.type=67,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue;switch(this.oldValue=e,this.targetAttribute){case"class":e?this.obj.classList.add(this.propertyKey):this.obj.classList.remove(this.propertyKey);break;case"style":{let t="",n=e;"string"==typeof n&&n.includes("!important")&&(t="important",n=n.replace("!important","")),this.obj.style.setProperty(this.propertyKey,n,t)}}}}handleMutation(e){let t=!1;for(let n=0,r=e.length;r>n;++n){const r=e[n];if("attributes"===r.type&&r.attributeName===this.propertyKey){t=!0;break}}if(t){let e;switch(this.targetAttribute){case"class":e=this.obj.classList.contains(this.propertyKey);break;case"style":e=this.obj.style.getPropertyValue(this.propertyKey);break;default:throw new Error("Unsupported targetAttribute: "+this.targetAttribute)}if(e!==this.currentValue){const{currentValue:t}=this;this.currentValue=this.oldValue=e,this.hasChanges=!1,this.callSubscribers(e,t,0)}}}subscribe(e){this.hasSubscribers()||(this.currentValue=this.oldValue=this.obj.getAttribute(this.propertyKey),O(this.obj,this)),this.addSubscriber(e)}unsubscribe(e){this.removeSubscriber(e),this.hasSubscribers()||j(this.obj,this)}};return e=k([Object(s.Ob)(),x("design:paramtypes",[Object,Number,Object,Object,String,String])],e),e})();const O=(e,t)=>{void 0===e.$eMObservers&&(e.$eMObservers=new Set),void 0===e.$mObserver&&(e.$mObserver=s.A.createNodeObserver(e,T,{attributes:!0})),e.$eMObservers.add(t)},j=(e,t)=>{const n=e.$eMObservers;return!(!n||!n.delete(t))&&(0===n.size&&(e.$mObserver.disconnect(),e.$mObserver=void 0),!0)},T=e=>{e[0].target.$eMObservers.forEach(R,e)};function R(e){e.handleMutation(this)}var B=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},I=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const{oneTime:E,toView:P,fromView:D}=s.o,M=P|E,N={reusable:!1,preempt:!0};let V=(()=>{let e=class{constructor(e,t,n,r,i,o,a){this.sourceExpression=e,this.targetAttribute=n,this.targetProperty=r,this.mode=i,this.observerLocator=o,this.locator=a,this.interceptor=this,this.isBound=!1,this.$scope=null,this.$hostScope=null,this.task=null,this.persistentFlags=0,this.target=t,s.Db.assignIdTo(this),this.$scheduler=a.get(s.R)}updateTarget(e,t){t|=this.persistentFlags,this.targetObserver.setValue(e,8|t)}updateSource(e,t){t|=this.persistentFlags,this.sourceExpression.assign(16|t,this.$scope,this.$hostScope,this.locator,e)}handleChange(e,t,n){var r,i;if(!this.isBound)return;n|=this.persistentFlags;const o=this.mode,a=this.interceptor,c=this.sourceExpression,l=this.$scope,u=this.locator;if(o===s.o.fromView&&(n&=-9,n|=16),8&n){const t=this.targetObserver,s=0==(32&n)&&(64&t.type)>0,h=t.getValue();return(10082!==c.$kind||this.observerSlots>1)&&(e=c.evaluate(n,l,this.$hostScope,u)),e!==h&&(s&&(n|=4096,null===(r=this.task)||void 0===r||r.cancel(),null===(i=t.task)||void 0===i||i.cancel(),t.task=this.task=this.$scheduler.queueRenderTask(()=>{var e,r;null===(r=(e=t).flushChanges)||void 0===r||r.call(e,n),this.task=t.task=null},N)),a.updateTarget(e,n)),void(0==(o&E)&&(this.version++,c.connect(n,l,this.$hostScope,a),a.unobserve(!1)))}if(!(16&n))throw new Error("Unexpected handleChange context in AttributeBinding");e!==this.sourceExpression.evaluate(n,l,this.$hostScope,u)&&a.updateSource(e,n)}$bind(e,t,n,r){if(this.isBound){if(this.$scope===t)return;this.interceptor.$unbind(32|e)}this.persistentFlags=31751&e,this.$scope=t,this.$hostScope=n,this.projection=r;let i=this.sourceExpression;i.hasBind&&i.bind(e,t,n,this.interceptor);let s=this.targetObserver;s||(s=this.targetObserver=new S(this.$scheduler,e,this.observerLocator,this.target,this.targetProperty,this.targetAttribute)),s.bind&&s.bind(e),i=this.sourceExpression;const o=this.mode,a=this.interceptor;o&M&&a.updateTarget(i.evaluate(e,t,this.$hostScope,this.locator),e),o&P&&i.connect(e,t,this.$hostScope,this),o&D&&(s[this.id]|=16,s.subscribe(a)),this.isBound=!0}$unbind(e){if(!this.isBound)return;this.persistentFlags=0,this.sourceExpression.hasUnbind&&this.sourceExpression.unbind(e,this.$scope,this.$hostScope,this.interceptor),this.$scope=null;const t=this.targetObserver,n=this.task;t.unbind&&t.unbind(e),t.unsubscribe&&(t.unsubscribe(this.interceptor),t[this.id]&=-17),null!=n&&(n.cancel(),n===t.task&&(t.task=null),this.task=null),this.interceptor.unobserve(!0),this.isBound=!1}connect(e){this.isBound&&(e|=this.persistentFlags,this.sourceExpression.connect(128|e,this.$scope,this.$hostScope,this.interceptor))}dispose(){this.interceptor=void 0,this.sourceExpression=void 0,this.locator=void 0,this.targetObserver=void 0,this.target=void 0}};return e=B([Object(s.Db)(),I("design:paramtypes",[Object,Object,String,String,Number,Object,Object])],e),e})();class ${constructor(e,t,n,r,i){this.scheduler=e,this.propertyKey=r,this.namespace=i,this.currentValue=null,this.oldValue=null,this.hasChanges=!1,this.task=null,this.type=66,this.obj=n,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue;this.oldValue=e,null==e?this.obj.removeAttributeNS(this.namespace,this.propertyKey):this.obj.setAttributeNS(this.namespace,this.propertyKey,e)}}bind(e){this.currentValue=this.oldValue=this.obj.getAttributeNS(this.namespace,this.propertyKey)}}var F=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},L=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const _=Object.prototype.toString;function U(e,t){return e===t}let q=(()=>{let e=class{constructor(e,t,n,r,i){this.scheduler=e,this.lifecycle=n,this.handler=r,this.obj=i,this.currentValue=void 0,this.oldValue=void 0,this.hasChanges=!1,this.task=null,this.type=67,this.collectionObserver=void 0,this.valueObserver=void 0,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const t=this.oldValue=this.currentValue;void 0===this.valueObserver&&(void 0!==this.obj.$observers&&(void 0!==this.obj.$observers.model?this.valueObserver=this.obj.$observers.model:void 0!==this.obj.$observers.value&&(this.valueObserver=this.obj.$observers.value)),void 0!==this.valueObserver&&this.valueObserver.subscribe(this)),void 0!==this.collectionObserver&&(this.collectionObserver.unsubscribeFromCollection(this),this.collectionObserver=void 0),"checkbox"===this.obj.type&&(this.collectionObserver=Object(s.Hb)(e,this.lifecycle,t),void 0!==this.collectionObserver&&this.collectionObserver.subscribeToCollection(this)),this.synchronizeElement()}}handleCollectionChange(e,t){const n=this.currentValue,r=this.oldValue;this.oldValue=n,this.synchronizeElement(),this.callSubscribers(n,r,t)}handleChange(e,t,n){this.synchronizeElement(),this.callSubscribers(e,t,n),this.flushChanges(n)}synchronizeElement(){const e=this.currentValue,t=this.obj,n=Object.prototype.hasOwnProperty.call(t,"model")?t.model:t.value,r="radio"===t.type,i=void 0!==t.matcher?t.matcher:U;if(r)t.checked=!!i(e,n);else if(!0===e)t.checked=!0;else{let r=!1;switch(_.call(e)){case"[object Array]":r=-1!==e.findIndex(e=>!!i(e,n));break;case"[object Set]":for(const t of e)if(i(t,n)){r=!0;break}break;case"[object Map]":for(const t of e){const e=t[0],s=t[1];if(i(e,n)&&!0===s){r=!0;break}}}t.checked=r}}handleEvent(){let e=this.oldValue=this.currentValue;const t=this.obj,n=Object.prototype.hasOwnProperty.call(t,"model")?t.model:t.value,r=t.checked,i=void 0!==t.matcher?t.matcher:U;if("checkbox"===t.type){const t=_.call(e);if("[object Array]"===t){const t=e.findIndex(e=>!!i(e,n));return void(r&&-1===t?e.push(n):r||-1===t||e.splice(t,1))}if("[object Set]"===t){const t={};let s=t;for(const t of e)if(!0===i(t,n)){s=t;break}return void(r&&s===t?e.add(n):r||s===t||e.delete(s))}if("[object Map]"===t){let t;for(const r of e){const e=r[0];if(!0===i(e,n)){t=e;break}}return void e.set(t,r)}e=r}else{if(!r)return;e=n}this.currentValue=e,this.callSubscribers(this.currentValue,this.oldValue,0)}bind(e){this.currentValue=this.obj.checked}unbind(e){void 0!==this.collectionObserver&&(this.collectionObserver.unsubscribeFromCollection(this),this.collectionObserver=void 0),void 0!==this.valueObserver&&this.valueObserver.unsubscribe(this)}subscribe(e){this.hasSubscribers()||this.handler.subscribe(this.obj,this),this.addSubscriber(e)}unsubscribe(e){this.removeSubscriber(e),this.hasSubscribers()||this.handler.dispose()}};return e=F([Object(s.Ob)(),L("design:paramtypes",[Object,Number,Object,Object,Object])],e),e})();class H{constructor(e,t,n){this.scheduler=e,this.currentValue="",this.oldValue="",this.doNotCache=!0,this.nameIndex={},this.version=0,this.hasChanges=!1,this.isActive=!1,this.task=null,this.type=66,this.obj=n,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue,t=this.nameIndex;let n=this.version;this.oldValue=e;const r=z(e);if(r.length>0&&this.addClassesAndUpdateIndex(r),this.version+=1,0===n)return;n-=1;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]===n&&this.obj.classList.remove(e)}}addClassesAndUpdateIndex(e){const t=this.obj;for(let n=0,r=e.length;n<r;n++){const r=e[n];0!==r.length&&(this.nameIndex[r]=this.version,t.classList.add(r))}}}function z(e){function t(e){const t=e.match(/\S+/g);return null===t?r.g.emptyArray:t}if("string"==typeof e)return t(e);if(e instanceof Array){const t=e.length;if(t>0){const n=[];for(let r=0;r<t;++r)n.push(...z(e[r]));return n}return r.g.emptyArray}if(e instanceof Object){const n=[];for(const r in e)Boolean(e[r])&&(r.includes(" ")?n.push(...t(r)):n.push(r));return n}return r.g.emptyArray}class W{constructor(e,t,n,r){this.scheduler=e,this.propertyKey=r,this.currentValue=null,this.oldValue=null,this.hasChanges=!1,this.task=null,this.type=66,this.obj=n,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue;this.oldValue=e,null==e?this.obj.removeAttribute(this.propertyKey):this.obj.setAttribute(this.propertyKey,e)}}bind(e){this.currentValue=this.oldValue=this.obj.getAttribute(this.propertyKey)}}class K{constructor(e,t,n,r){this.scheduler=e,this.obj=n,this.propertyKey=r,this.currentValue=void 0,this.oldValue=void 0,this.hasChanges=!1,this.task=null,this.type=66,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue;this.oldValue=e,this.obj[this.propertyKey]=e}}bind(e){this.currentValue=this.oldValue=this.obj[this.propertyKey]}}function Y(e){return e.composedPath&&e.composedPath()[0]||e.deepPath&&e.deepPath()[0]||e.path&&e.path[0]||e.target}function Q(){this.standardStopPropagation(),this.propagationStopped=!0}function G(e){e.propagationStopped=!1;let t=Y(e);const n=[];for(;t;){if(t.capturedCallbacks){const r=t.capturedCallbacks[e.type];r&&(e.stopPropagation!==Q&&(e.standardStopPropagation=e.stopPropagation,e.stopPropagation=Q),n.push(r))}t=t.parentNode}for(let t=n.length-1;t>=0&&!e.propagationStopped;t--){const r=n[t];"handleEvent"in r?r.handleEvent(e):r(e)}}function J(e){e.propagationStopped=!1;let t=Y(e);for(;t&&!e.propagationStopped;){if(t.delegatedCallbacks){const n=t.delegatedCallbacks[e.type];n&&(e.stopPropagation!==Q&&(e.standardStopPropagation=e.stopPropagation,e.stopPropagation=Q),"handleEvent"in n?n.handleEvent(e):n(e))}t=t.parentNode}}class Z{constructor(e,t,n,r){this.dom=e,this.eventName=t,this.listener=n,this.capture=r,this.count=0}increment(){this.count++,1===this.count&&this.dom.addEventListener(this.eventName,this.listener,null,this.capture)}decrement(){this.count--,0===this.count&&this.dom.removeEventListener(this.eventName,this.listener,null,this.capture)}dispose(){this.count>0&&(this.count=0,this.dom.removeEventListener(this.eventName,this.listener,null,this.capture))}}class X{constructor(e,t,n,r){this.entry=e,this.lookup=t,this.targetEvent=n,t[n]=r}dispose(){this.entry.decrement(),this.lookup[this.targetEvent]=null}}class ee{constructor(e,t,n,r){this.dom=e,this.target=t,this.targetEvent=n,this.callback=r,e.addEventListener(n,r,t)}dispose(){this.dom.removeEventListener(this.targetEvent,this.callback,this.target)}}class te{constructor(e,t){this.dom=e,this.events=t,this.target=null,this.handler=null}subscribe(e,t){this.target=e,this.handler=t;const n=this.dom.addEventListener,r=this.events;for(let i=0,s=r.length;s>i;++i)n(r[i],t,e)}dispose(){const e=this.target,t=this.handler,n=this.events,r=this.dom;for(let i=0,s=n.length;s>i;++i)r.removeEventListener(n[i],t,e);this.target=this.handler=null}}const ne=r.a.createInterface("IEventManager").withDefault(e=>e.singleton(re));class re{constructor(){this.delegatedHandlers={},this.capturedHandlers={}}addEventListener(e,t,n,r,i){let o,a,c;if(i===s.B.bubbling){o=this.delegatedHandlers,c=o[n]||(o[n]=new Z(e,n,J,!1)),c.increment();const i=t.delegatedCallbacks||(t.delegatedCallbacks={});return new X(c,i,n,r)}if(i===s.B.capturing){a=this.capturedHandlers,c=a[n]||(a[n]=new Z(e,n,G,!0)),c.increment();const i=t.capturedCallbacks||(t.capturedCallbacks={});return new X(c,i,n,r)}return new ee(e,t,n,r)}dispose(){let e;const{delegatedHandlers:t,capturedHandlers:n}=this;for(e in t)t[e].dispose();for(e in n)n[e].dispose()}}var ie=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},se=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const oe={childList:!0,subtree:!0,characterData:!0};function ae(e,t){return e===t}let ce=(()=>{let e=class{constructor(e,t,n,r,i,s){this.scheduler=e,this.observerLocator=n,this.dom=r,this.handler=i,this.obj=s,this.currentValue=void 0,this.oldValue=void 0,this.hasChanges=!1,this.task=null,this.type=67,this.arrayObserver=void 0,this.nodeObserver=void 0,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue,n=Array.isArray(t);if(this.oldValue=t,!n&&null!=t&&this.obj.multiple)throw new Error("Only null or Array instances can be bound to a multi-select.");this.arrayObserver&&(this.arrayObserver.unsubscribeFromCollection(this),this.arrayObserver=void 0),n&&(this.arrayObserver=this.observerLocator.getArrayObserver(e,t),this.arrayObserver.subscribeToCollection(this)),this.synchronizeOptions(),this.notify(e)}}handleCollectionChange(e,t){(32&t)>0||4096===this.persistentFlags?this.synchronizeOptions():this.hasChanges=!0,8192!==this.persistentFlags&&null===this.task&&(this.task=this.scheduler.queueRenderTask(()=>{this.flushChanges(t),this.task=null})),this.callSubscribers(this.currentValue,this.oldValue,t)}handleChange(e,t,n){(32&n)>0||4096===this.persistentFlags?this.synchronizeOptions():this.hasChanges=!0,8192!==this.persistentFlags&&null===this.task&&(this.task=this.scheduler.queueRenderTask(()=>{this.flushChanges(n),this.task=null})),this.callSubscribers(e,t,n)}notify(e){if((32&e)>0||4096===this.persistentFlags)return;const t=this.oldValue,n=this.currentValue;n!==t&&this.callSubscribers(n,t,e)}handleEvent(){this.synchronizeValue()&&this.callSubscribers(this.currentValue,this.oldValue,0)}synchronizeOptions(e){const{currentValue:t,obj:n}=this,r=Array.isArray(t),i=void 0!==n.matcher?n.matcher:ae,s=n.options;let o=s.length;for(;o-- >0;){const e=s[o],n=Object.prototype.hasOwnProperty.call(e,"model")?e.model:e.value;r?e.selected=-1!==t.findIndex(e=>!!i(n,e)):e.selected=!!i(n,t)}}synchronizeValue(){const e=this.obj,t=e.options,n=t.length,r=this.currentValue;let i=0;if(e.multiple){if(!Array.isArray(r))return!0;let s;const o=e.matcher||ae,a=[];for(;i<n;)s=t[i],s.selected&&a.push(Object.prototype.hasOwnProperty.call(s,"model")?s.model:s.value),++i;for(i=0;i<r.length;){const e=r[i];-1===a.findIndex(t=>!!o(e,t))?r.splice(i,1):++i}for(i=0;i<a.length;){const e=a[i];-1===r.findIndex(t=>!!o(e,t))&&r.push(e),++i}return!1}let s=null;for(;i<n;){const e=t[i];if(e.selected){s=Object.prototype.hasOwnProperty.call(e,"model")?e.model:e.value;break}++i}return this.oldValue=this.currentValue,this.currentValue=s,!0}bind(e){this.nodeObserver=this.dom.createNodeObserver(this.obj,this.handleNodeChange,oe)}unbind(e){this.nodeObserver.disconnect(),this.nodeObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribeFromCollection(this),this.arrayObserver=null)}handleNodeChange(){this.synchronizeOptions();this.synchronizeValue()&&this.notify(0)}subscribe(e){this.hasSubscribers()||this.handler.subscribe(this.obj,this),this.addSubscriber(e)}unsubscribe(e){this.removeSubscriber(e),this.hasSubscribers()||this.handler.dispose()}};return ie([r.m,se("design:type",Function),se("design:paramtypes",[]),se("design:returntype",void 0)],e.prototype,"handleNodeChange",null),e=ie([Object(s.Ob)(),se("design:paramtypes",[Object,Number,Object,Object,Object,Object])],e),e})();class le{constructor(e,t,n){this.scheduler=e,this.currentValue="",this.oldValue="",this.styles={},this.version=0,this.hasChanges=!1,this.task=null,this.type=66,this.obj=n,this.persistentFlags=12295&t}getValue(){return this.obj.style.cssText}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}getStyleTuplesFromString(e){const t=[],n=/\s*([\w-]+)\s*:\s*((?:(?:[\w-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w-]+\(\s*(?:[^"](?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^)]*)\),?|[^)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g;let r,i;for(;null!==(r=n.exec(e));)i=r[1],0!==i.length&&t.push([i,r[2]]);return t}getStyleTuplesFromObject(e){let t;const n=[];for(const i in e)t=e[i],null!=t&&("string"!=typeof t?n.push(...this.getStyleTuples(t)):n.push([Object(r.z)(i),t]));return n}getStyleTuplesFromArray(e){const t=e.length;if(t>0){const n=[];for(let r=0;r<t;++r)n.push(...this.getStyleTuples(e[r]));return n}return r.g.emptyArray}getStyleTuples(e){return"string"==typeof e?this.getStyleTuplesFromString(e):e instanceof Array?this.getStyleTuplesFromArray(e):e instanceof Object?this.getStyleTuplesFromObject(e):r.g.emptyArray}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const e=this.currentValue,t=this.styles,n=this.getStyleTuples(e);let r,i,s,o,a=this.version;this.oldValue=e;const c=n.length;for(let e=0;e<c;++e)i=n[e],s=i[0],o=i[1],this.setProperty(s,o),t[s]=a;if(this.styles=t,this.version+=1,0===a)return;for(r in a-=1,t)Object.prototype.hasOwnProperty.call(t,r)&&t[r]===a&&this.obj.style.removeProperty(r)}}setProperty(e,t){let n="";null!=t&&"function"==typeof t.indexOf&&t.includes("!important")&&(n="important",t=t.replace("!important","")),this.obj.style.setProperty(e,t,n)}bind(e){this.currentValue=this.oldValue=this.obj.style.cssText}}const ue=r.a.createInterface("ISVGAnalyzer").withDefault(e=>e.singleton(class{isStandardSvgAttribute(e,t){return!1}}));var he=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},de=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let pe=(()=>{let e=class{constructor(e,t,n,r,i){this.scheduler=e,this.handler=n,this.obj=r,this.propertyKey=i,this.currentValue="",this.oldValue="",this.hasChanges=!1,this.task=null,this.type=67,this.persistentFlags=12295&t}getValue(){return this.currentValue}setValue(e,t){this.currentValue=e,this.hasChanges=e!==this.oldValue,0==(4096&t)&&this.flushChanges(t)}flushChanges(e){if(this.hasChanges){this.hasChanges=!1;const t=this.currentValue,n=this.oldValue;this.oldValue=t,this.obj[this.propertyKey]=null==t?"":t,0==(32&e)&&this.callSubscribers(t,n,e)}}handleEvent(){const e=this.oldValue=this.currentValue,t=this.currentValue=this.obj[this.propertyKey];e!==t&&(this.oldValue=t,this.callSubscribers(t,e,0))}subscribe(e){this.hasSubscribers()||(this.handler.subscribe(this.obj,this),this.currentValue=this.oldValue=this.obj[this.propertyKey]),this.addSubscriber(e)}unsubscribe(e){this.removeSubscriber(e),this.hasSubscribers()||this.handler.dispose()}};return e=he([Object(s.Ob)(),de("design:paramtypes",[Object,Number,Object,Object,String])],e),e})();var fe=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},ge=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},me=function(e,t){return function(n,r){t(n,r,e)}};const be="http://www.w3.org/1999/xlink",ve="http://www.w3.org/XML/1998/namespace",ye="http://www.w3.org/2000/xmlns/",Ae=Object.assign(Object.create(null),{"xlink:actuate":["actuate",be],"xlink:arcrole":["arcrole",be],"xlink:href":["href",be],"xlink:role":["role",be],"xlink:show":["show",be],"xlink:title":["title",be],"xlink:type":["type",be],"xml:lang":["lang",ve],"xml:space":["space",ve],xmlns:["xmlns",ye],"xmlns:xlink":["xlink",ye]}),we=["change","input"],Ce=["change"],ke=["change","input","blur","keyup","paste"],xe=["scroll"],Se=Object.assign(Object.create(null),{class:!0,style:!0,css:!0,checked:!0,value:!0,model:!0,"xlink:actuate":!0,"xlink:arcrole":!0,"xlink:href":!0,"xlink:role":!0,"xlink:show":!0,"xlink:title":!0,"xlink:type":!0,"xml:lang":!0,"xml:space":!0,xmlns:!0,"xmlns:xlink":!0});let Oe=(()=>{let e=class{constructor(e,t){this.dom=e,this.svgAnalyzer=t}static register(e){return r.i.singleton(s.T,this).register(e)}getObserver(e,t,n,r,i,o){switch(o){case"checked":return new q(t,e,n,new te(this.dom,we),i);case"value":return"SELECT"===i.tagName?new ce(t,e,r,this.dom,new te(this.dom,Ce),i):new pe(t,e,new te(this.dom,we),i,o);case"files":return new pe(t,e,new te(this.dom,we),i,o);case"textContent":case"innerHTML":return new pe(t,e,new te(this.dom,ke),i,o);case"scrollTop":case"scrollLeft":return new pe(t,e,new te(this.dom,xe),i,o);case"class":return new H(t,e,i);case"style":case"css":return new le(t,e,i);case"model":return new s.qb(n,e,i,o);case"role":return new W(t,e,i,o);default:if(void 0!==Ae[o]){const n=Ae[o];return new $(t,e,i,n[0],n[1])}if(Re(i,o,this.svgAnalyzer))return new W(t,e,i,o)}return null}overridesAccessor(e,t,n){return!0===Se[n]}handles(e,t){return this.dom.isNodeInstance(t)}};return e=fe([me(0,s.J),me(1,ue),ge("design:paramtypes",[Object,Object])],e),e})(),je=(()=>{let e=class{constructor(e,t){this.dom=e,this.svgAnalyzer=t}static register(e){return r.i.singleton(s.S,this).register(e)}getAccessor(e,t,n,r,i){switch(i){case"textContent":return new K(t,e,r,i);case"class":return new H(t,e,r);case"style":case"css":return new le(t,e,r);case"src":case"href":case"role":return new W(t,e,r,i);default:if(void 0!==Ae[i]){const n=Ae[i];return new $(t,e,r,n[0],n[1])}return Re(r,i,this.svgAnalyzer)?new W(t,e,r,i):new K(t,e,r,i)}}handles(e,t){return this.dom.isNodeInstance(t)}};return e=fe([me(0,s.J),me(1,ue),ge("design:paramtypes",[Object,Object])],e),e})();const Te={};function Re(e,t,n){if(!0===Te[t])return!0;const r=t.slice(0,5);return Te[t]="aria-"===r||"data-"===r||n.isStandardSvgAttribute(e,t)}var Be=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let Ie=(()=>{let e=class{bind(e,t,n,r){r.targetObserver=new W(r.locator.get(s.R),e,r.target,r.targetProperty)}unbind(e,t,n,r){}};return e=Be([Object(s.Bb)("attr")],e),e})();var Ee=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};function Pe(e){const t=Y(e);if(this.target===t)return this.selfEventCallSource(e)}let De=(()=>{let e=class{bind(e,t,n,i){if(!i.callSource||!i.targetEvent)throw r.j.error(8);i.selfEventCallSource=i.callSource,i.callSource=Pe}unbind(e,t,n,r){r.callSource=r.selfEventCallSource,r.selfEventCallSource=null}};return e=Ee([Object(s.Bb)("self")],e),e})();var Me=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ne=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ve=function(e,t){return function(n,r){t(n,r,e)}};let $e=(()=>{let e=class{constructor(e){this.observerLocator=e}bind(e,t,n,i,...o){if(0===o.length)throw r.j.error(9);if(i.mode!==s.o.twoWay&&i.mode!==s.o.fromView)throw r.j.error(10);this.persistentFlags=31751&e;const a=this.observerLocator.getObserver(this.persistentFlags|e,i.target,i.targetProperty);if(!a.handler)throw r.j.error(10);i.targetObserver=a,a.originalHandler=i.targetObserver.handler,a.handler=new te(i.locator.get(s.J),o)}unbind(e,t,n,r){r.targetObserver.handler.dispose(),r.targetObserver.handler=r.targetObserver.originalHandler,r.targetObserver.originalHandler=null}};return e=Me([Object(s.Bb)("updateTrigger"),Ve(0,s.O),Ne("design:paramtypes",[Object])],e),e})();const Fe=Object.freeze({applyTo:r.g.noop}),Le=r.a.createInterface("IShadowDOMStyles").noDefault(),_e=r.a.createInterface("IShadowDOMGlobalStyles").withDefault(e=>e.instance(Fe));class Ue{constructor(e,t,n,r=null){this.sharedStyles=r,this.styleSheets=t.map(t=>{let r;return t instanceof e.CSSStyleSheet?r=t:(r=n.get(t),r||(r=new e.CSSStyleSheet,r.replaceSync(t),n.set(t,r))),r})}static supported(e){return"adoptedStyleSheets"in e.ShadowRoot.prototype}applyTo(e){null!==this.sharedStyles&&this.sharedStyles.applyTo(e),e.adoptedStyleSheets=[...e.adoptedStyleSheets,...this.styleSheets]}}class qe{constructor(e,t,n=null){this.dom=e,this.localStyles=t,this.sharedStyles=n}applyTo(e){const t=this.localStyles,n=this.dom;for(let r=t.length-1;r>-1;--r){const i=n.createElement("style");i.innerHTML=t[r],e.prepend(i)}null!==this.sharedStyles&&this.sharedStyles.applyTo(e)}}const He={mode:"open"};const ze={childList:!0};class We{constructor(e,t,n,i){let o;this.dom=e,this.$controller=t,this.host=n,o=i.shadowOptions instanceof Object&&"mode"in i.shadowOptions?i.shadowOptions:He,this.shadowRoot=n.attachShadow(o),r.f.define(s.x.name,t,this.host),r.f.define(s.x.name,t,this.shadowRoot)}get children(){return this.host.childNodes}subscribeToChildrenChange(e,t=ze){this.dom.createNodeObserver(this.host,e,t)}provideEncapsulationSource(){return this.shadowRoot}project(e){const t=this.$controller.context;(t.has(Le,!1)?t.get(Le):t.get(_e)).applyTo(this.shadowRoot),e.appendTo(this.shadowRoot)}take(e){e.remove(),e.unlink()}}class Ke{constructor(e,t,n){n.childNodes.length?this.childNodes=Object(r.F)(n.childNodes):this.childNodes=r.g.emptyArray,this.host=e.convertToRenderLocation(n),r.f.define(s.x.name,t,this.host)}get children(){return this.childNodes}subscribeToChildrenChange(e){}provideEncapsulationSource(){return this.host.getRootNode()}project(e){e.insertBefore(this.host)}take(e){e.remove(),e.unlink()}}class Ye{constructor(e,t,n){this.host=t,this.enhance=n,r.f.define(s.x.name,e,t)}get children(){return this.host.childNodes}subscribeToChildrenChange(e){}provideEncapsulationSource(){return this.host.getRootNode()}project(e){e.appendTo(this.host,this.enhance)}take(e){e.remove(),e.unlink()}}var Qe;!function(e){e[e.Element=1]="Element",e[e.Attr=2]="Attr",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection",e[e.EntityReference=5]="EntityReference",e[e.Entity=6]="Entity",e[e.ProcessingInstruction=7]="ProcessingInstruction",e[e.Comment=8]="Comment",e[e.Document=9]="Document",e[e.DocumentType=10]="DocumentType",e[e.DocumentFragment=11]="DocumentFragment",e[e.Notation=12]="Notation"}(Qe||(Qe={}));const Ge=new WeakMap;class Je{constructor(e,t,n,i,o,a,c,l){this.window=e,this.document=t,this.Node=n,this.Element=i,this.HTMLElement=o,this.CustomEvent=a,this.CSSStyleSheet=c,this.ShadowRoot=l,s.A.isInitialized&&(r.j.write(1001),s.A.destroy()),s.A.initialize(this),this.emptyNodes=new Xe(this,t.createDocumentFragment())}static register(e){return r.i.aliasTo(s.J,this).register(e)}addEventListener(e,t,n,r){(n||this.document).addEventListener(e,t,r)}appendChild(e,t){e.appendChild(t)}cloneNode(e,t){return e.cloneNode(!1!==t)}convertToRenderLocation(e){if(this.isRenderLocation(e))return e;if(null==e.parentNode)throw r.j.error(52);const t=this.document.createComment("au-end"),n=this.document.createComment("au-start");return e.parentNode.replaceChild(t,e),t.parentNode.insertBefore(n,t),t.$start=n,n.$nodes=null,t}createDocumentFragment(e){if(null==e)return this.document.createDocumentFragment();if(this.isNodeInstance(e)){if(void 0!==e.content)return e.content;const t=this.document.createDocumentFragment();return t.appendChild(e),t}return this.createTemplate(e).content}createNodeSequence(e,t=!0){return null===e?this.emptyNodes:new Xe(this,t?e.cloneNode(!0):e)}createElement(e){return this.document.createElement(e)}fetch(e,t){return this.window.fetch(e,t)}createCustomEvent(e,t){return new this.CustomEvent(e,t)}dispatchEvent(e){this.document.dispatchEvent(e)}createNodeObserver(e,t,n){if("undefined"==typeof MutationObserver)return{disconnect(){},observe(){},takeRecords:()=>r.g.emptyArray};const i=new MutationObserver(t);return i.observe(e,n),i}createTemplate(e){if(null==e)return this.document.createElement("template");const t=this.document.createElement("template");return t.innerHTML=e.toString(),t}createTextNode(e){return this.document.createTextNode(e)}getEffectiveParentNode(e){if(Ge.has(e))return Ge.get(e);let t=0,n=e.nextSibling;for(;null!==n;){if(8===n.nodeType)switch(n.textContent){case"au-start":++t;break;case"au-end":if(0==t--)return n}n=n.nextSibling}if(null===e.parentNode&&11===e.nodeType){const t=s.x.for(e);if(void 0===t)return null;const n=t.projector;if(n instanceof We)return this.getEffectiveParentNode(n.host)}return e.parentNode}setEffectiveParentNode(e,t){if(this.isNodeInstance(e))Ge.set(e,t);else{const n=e.childNodes;for(let e=0,r=n.length;e<r;++e)Ge.set(n[e],t)}}insertBefore(e,t){t.parentNode.insertBefore(e,t)}isMarker(e){return"AU-M"===e.nodeName}isNodeInstance(e){return null!=e&&e.nodeType>0}isRenderLocation(e){return"au-end"===e.textContent}makeTarget(e){e.className="au"}registerElementResolver(e,t){e.registerResolver(s.N,t),e.registerResolver(this.Node,t),e.registerResolver(this.Element,t),e.registerResolver(this.HTMLElement,t)}remove(e){e.remove?e.remove():e.parentNode.removeChild(e)}removeEventListener(e,t,n,r){(n||this.document).removeEventListener(e,t,r)}setAttribute(e,t,n){e.setAttribute(t,n)}}const Ze=s.A;class Xe{constructor(e,t){this.dom=e,this.fragment=t,this.isMounted=!1,this.isLinked=!1,this.next=void 0,this.refNode=void 0;const n=t.querySelectorAll(".au");let r=0,i=n.length;const s=this.targets=Array(i);for(;r<i;){const e=n[r];"AU-M"===e.nodeName?s[r]=this.dom.convertToRenderLocation(e):s[r]=e,++r}const o=t.childNodes;r=0,i=o.length;const a=this.childNodes=Array(i);for(;r<i;)a[r]=o[r],++r;this.firstChild=t.firstChild,this.lastChild=t.lastChild}findTargets(){return this.targets}insertBefore(e){if(this.isLinked&&this.refNode)this.addToLinked();else{const t=e.parentNode;if(this.isMounted){let n=this.firstChild;const r=this.lastChild;let i;for(;null!=n&&(i=n.nextSibling,t.insertBefore(n,e),n!==r);)n=i}else this.isMounted=!0,e.parentNode.insertBefore(this.fragment,e)}}appendTo(e,t=!1){if(this.isMounted){let t=this.firstChild;const n=this.lastChild;let r;for(;null!=t&&(r=t.nextSibling,e.appendChild(t),t!==n);)t=r}else this.isMounted=!0,t||e.appendChild(this.fragment)}remove(){if(this.isMounted){this.isMounted=!1;const e=this.fragment,t=this.lastChild;let n,r=this.firstChild;for(;null!==r&&(n=r.nextSibling,e.appendChild(r),r!==t);)r=n}}addToLinked(){const e=this.refNode,t=e.parentNode;if(this.isMounted){let n=this.firstChild;const r=this.lastChild;let i;for(;null!=n&&(i=n.nextSibling,t.insertBefore(n,e),n!==r);)n=i}else this.isMounted=!0,t.insertBefore(this.fragment,e)}unlink(){this.isLinked=!1,this.next=void 0,this.refNode=void 0}link(e){this.isLinked=!0,this.dom.isRenderLocation(e)?this.refNode=e:(this.next=e,this.obtainRefNode())}obtainRefNode(){void 0!==this.next?this.refNode=this.next.firstChild:this.refNode=void 0}}var et;(et=class{constructor(e){this.nextSibling=e,this.textContent=""}get parentNode(){return this.nextSibling.parentNode}remove(){}}.prototype).previousSibling=null,et.childNodes=r.g.emptyArray,et.nodeName="AU-M",et.nodeType=1;const tt=r.a.createInterface("IWindow").withDefault(e=>e.callback(e=>e.get(Je).window)),nt=r.a.createInterface("ILocation").withDefault(e=>e.callback(e=>e.get(tt).location)),rt=r.a.createInterface("IHistory").withDefault(e=>e.callback(e=>e.get(tt).history));var it=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},st=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ot=function(e,t){return function(n,r){t(n,r,e)}};const at=Symbol(),ct={passive:!0,capture:!0},lt={passive:!0},ut=new WeakMap;class ht{constructor(e,t){this.dom=e,this.scheduler=t,this.blurs=[],ut.set(e.document,this),this.handler=ft(this,this.blurs)}static createFor(e,t){return ut.get(e.document)||new ht(e,t)}register(e){const t=this.blurs;t.includes(e)||1!==t.push(e)||this.addListeners()}unregister(e){const t=this.blurs,n=t.indexOf(e);n>-1&&t.splice(n,1),0===t.length&&this.removeListeners()}addListeners(){const e=this.dom,t=e.document,n=e.window,r=this.handler;n.navigator.pointerEnabled&&t.addEventListener("pointerdown",r,ct),t.addEventListener("touchstart",r,ct),t.addEventListener("mousedown",r,ct),t.addEventListener("focus",r,ct),n.addEventListener("blur",r,lt)}removeListeners(){const e=this.dom,t=e.document,n=e.window,r=this.handler;n.navigator.pointerEnabled&&t.removeEventListener("pointerdown",r,ct),t.removeEventListener("touchstart",r,ct),t.removeEventListener("mousedown",r,ct),t.removeEventListener("focus",r,ct),n.removeEventListener("blur",r,lt)}}let dt=(()=>{let e=class{constructor(e,t,n){this.dom=t,this.element=e,this.linkedMultiple=!0,this.searchSubTree=!0,this.linkingContext=null,this.value=at,this.manager=ht.createFor(t,n)}afterAttachChildren(){this.manager.register(this)}beforeDetach(){this.manager.unregister(this)}handleEventTarget(e){if(!1===this.value)return;const t=this.dom;e!==t.window&&e!==t.document&&this.contains(e)||this.triggerBlur()}contains(e){if(!this.value)return!1;let t,n,i,s,o;const a=this.element;if(pt(a,e))return!0;if(!this.linkedWith)return!1;const c=this.dom.document,l=this.linkedWith,u=this.linkingContext,h=this.searchSubTree,d=this.linkedMultiple,p=Array.isArray(l)?l:[l],f=("string"==typeof u?c.querySelector(u):u)||c.body,g=p.length;for(n=0;g>n;++n)if(o=p[n],"string"==typeof o){if(h){if(d)t=f.querySelectorAll(o);else{const e=f.querySelector(o);t=null!==e?[e]:r.g.emptyArray}for(s=t.length,i=0;s>i;++i)if(t[i].contains(e))return!0}else for(t=f.children,s=t.length,i=0;s>i;++i)if(t[i].matches(o))return!0}else if(o&&o.contains(e))return!0;return!1}triggerBlur(){this.value=!1,"function"==typeof this.onBlur&&this.onBlur.call(null)}};return it([Object(s.Ab)(),st("design:type",Object)],e.prototype,"value",void 0),it([Object(s.Ab)(),st("design:type",Function)],e.prototype,"onBlur",void 0),it([Object(s.Ab)(),st("design:type",Object)],e.prototype,"linkedWith",void 0),it([Object(s.Ab)(),st("design:type",Boolean)],e.prototype,"linkedMultiple",void 0),it([Object(s.Ab)(),st("design:type",Boolean)],e.prototype,"searchSubTree",void 0),it([Object(s.Ab)(),st("design:type",Object)],e.prototype,"linkingContext",void 0),e=it([Object(s.Eb)("blur"),ot(0,s.N),ot(1,s.J),ot(2,s.R),st("design:paramtypes",[Object,Je,Object])],e),e})();const pt=(e,t)=>{if(e.contains(t))return!0;let n=null;for(;null!=t;){if(t===e)return!0;n=t.parentNode,null!==n||11!==t.nodeType?t=n:t=t.host}return!1},ft=(e,t)=>{let n=!1;const r=()=>{n=!1},i=()=>{n=!0,e.scheduler.queueRenderTask(r,{preempt:!0})},s=e=>{n||(o(e),i())},o=e=>{const n=e.composed?e.composedPath()[0]:e.target;if(null!==n)for(let e=0,r=t.length;e<r;++e)t[e].handleEventTarget(n)};return{onpointerdown:s,ontouchstart:s,onmousedown:s,onfocus:r=>{if(n)return;if(r.target===e.dom.window)for(let e=0,n=t.length;n>e;++e)t[e].triggerBlur();else o(r);i()},onblur:()=>{n=!1;for(let e=0,n=t.length;e<n;++e)t[e].triggerBlur()},handleEvent(e){this["on"+e.type](e)}}};var gt=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},mt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bt=function(e,t){return function(n,r){t(n,r,e)}};let vt=(()=>{let e=class{constructor(e,t){this.dom=t,this.needsApply=!1,this.element=e}beforeBind(){this.valueChanged()}valueChanged(){this.$controller.isActive?this.apply():this.needsApply=!0}afterAttachChildren(){this.needsApply&&(this.needsApply=!1,this.apply());const e=this.element;e.addEventListener("focus",this),e.addEventListener("blur",this)}afterDetachChildren(){const e=this.element;e.removeEventListener("focus",this),e.removeEventListener("blur",this)}handleEvent(e){"focus"===e.type?this.value=!0:this.dom.document.activeElement!==this.element&&(this.value=!1)}apply(){const e=this.element;this.value?e.focus():e.blur()}};return gt([Object(s.Ab)({mode:s.o.twoWay}),mt("design:type",Object)],e.prototype,"value",void 0),e=gt([Object(s.Eb)("focus"),bt(0,s.N),bt(1,s.J),mt("design:paramtypes",[Object,Je])],e),e})();var yt=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},At=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},wt=function(e,t){return function(n,r){t(n,r,e)}};let Ct=(()=>{let e=class{constructor(e,t,n){this.factory=e,this.originalLoc=t,this.dom=n,this.id=Object(r.B)("au$component"),this.strict=!1,this.currentTarget=n.createElement("div"),this.view=this.factory.create(),n.setEffectiveParentNode(this.view.nodes,t)}afterAttach(e,t,n){null==this.callbackContext&&(this.callbackContext=this.$controller.scope.bindingContext);const r=this.currentTarget=this.resolveTarget();return this.view.setLocation(r,2),this.$activating(e,r,n)}afterUnbind(e,t,n){return this.$deactivating(e,this.currentTarget,n)}targetChanged(){const{$controller:e}=this;if(!e.isActive)return;const t=this.currentTarget,n=this.currentTarget=this.resolveTarget();if(t===n)return;this.view.setLocation(n,2);const i=Object(r.C)(this.$deactivating(null,n,e.flags),()=>this.$activating(null,n,e.flags));i instanceof Promise&&i.catch(e=>{throw e})}$activating(e,t,n){const{activating:i,callbackContext:s,view:o}=this;return o.setLocation(t,2),Object(r.C)(null==i?void 0:i.call(s,t,o),()=>this.activate(e,t,n))}activate(e,t,n){const{$controller:i,view:s}=this;return null!==e?Object(r.C)(s.activate(null!=e?e:s,i,n,i.scope),()=>this.$activated(t)):(s.nodes.appendTo(t),this.$activated(t))}$activated(e){const{activated:t,callbackContext:n,view:r}=this;return null==t?void 0:t.call(n,e,r)}$deactivating(e,t,n){const{deactivating:i,callbackContext:s,view:o}=this;return Object(r.C)(null==i?void 0:i.call(s,t,o),()=>this.deactivate(e,t,n))}deactivate(e,t,n){const{$controller:i,view:s}=this;return null!==e?Object(r.C)(s.deactivate(e,i,n),()=>this.$deactivated(t)):(s.nodes.remove(),this.$deactivated(t))}$deactivated(e){const{deactivated:t,callbackContext:n,view:r}=this;return null==t?void 0:t.call(n,e,r)}resolveTarget(){const e=this.dom,t=e.document;let n=this.target,r=this.renderContext;if("string"==typeof n){let i=t;"string"==typeof r&&(r=t.querySelector(r)),e.isNodeInstance(r)&&(i=r),n=i.querySelector(n)}if(e.isNodeInstance(n))return n;if(null==n){if(this.strict)throw new Error("Render target not found");n=t.body}return n}onCancel(e,t,n){var r;null===(r=this.view)||void 0===r||r.cancel(e,this.$controller,n)}dispose(){this.view.dispose(),this.view=void 0,this.callbackContext=null}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};return yt([Object(s.Ab)({primary:!0}),At("design:type",Object)],e.prototype,"target",void 0),yt([Object(s.Ab)({callback:"targetChanged"}),At("design:type",Object)],e.prototype,"renderContext",void 0),yt([Object(s.Ab)(),At("design:type",Boolean)],e.prototype,"strict",void 0),yt([Object(s.Ab)(),At("design:type",Function)],e.prototype,"deactivating",void 0),yt([Object(s.Ab)(),At("design:type",Function)],e.prototype,"activating",void 0),yt([Object(s.Ab)(),At("design:type",Function)],e.prototype,"deactivated",void 0),yt([Object(s.Ab)(),At("design:type",Function)],e.prototype,"activated",void 0),yt([Object(s.Ab)(),At("design:type",Object)],e.prototype,"callbackContext",void 0),e=yt([Object(s.Pb)("portal"),wt(0,s.W),wt(1,s.Q),wt(2,s.J),At("design:paramtypes",[Object,Object,Je])],e),e})();var kt;function xt(e){const t=e.type;return"string"==typeof t&&2===t.length}function St(e,t,n,r){if("string"==typeof t)return function(e,t,n,r){const i=[],s=[],o=[],a=e.createElement(t);let c=!1;n&&Object.keys(n).forEach(t=>{const r=n[t];xt(r)?(c=!0,i.push(r)):e.setAttribute(a,t,r)});c&&(e.makeTarget(a),s.push(i));r&&jt(e,a,r,s,o);return new Ot(e,a,s,o)}(e,t,n,r);if(s.x.isType(t))return function(e,t,n,r){const i=s.x.getDefinition(t),o=i.name,a=[],c=[a],l=[],h=[],d=i.bindables,p=e.createElement(o);e.makeTarget(p),l.includes(t)||l.push(t);a.push(new s.F(o,h,null)),n&&Object.keys(n).forEach(e=>{const t=n[e];if(xt(t))h.push(t);else{void 0!==d[e]?h.push({type:"re",to:e,value:t}):h.push(new u(t,e))}});r&&jt(e,p,r,c,l);return new Ot(e,p,c,l)}(e,t,n,r);throw new Error("Invalid tagOrType.")}!function(e){e.textBinding="ha",e.listenerBinding="hb",e.attributeBinding="hc",e.stylePropertyBinding="hd",e.setAttribute="he",e.setClassAttribute="hf",e.setStyleAttribute="hg"}(kt||(kt={}));class Ot{constructor(e,t,n,r){this.dom=e,this.node=t,this.instructions=n,this.dependencies=r,this.lazyDefinition=void 0}get definition(){return void 0===this.lazyDefinition&&(this.lazyDefinition=s.y.create({name:s.x.generateName(),template:this.node,needsCompile:"string"==typeof this.node,instructions:this.instructions,dependencies:this.dependencies})),this.lazyDefinition}getContext(e){return Object(s.Ib)(this.definition,e)}createView(e){return this.getViewFactory(e).create()}getViewFactory(e){return this.getContext(e).getViewFactory()}mergeInto(e,t,n){this.dom.appendChild(e,this.node),t.push(...this.instructions),n.push(...this.dependencies)}}function jt(e,t,n,r,i){for(let s=0,o=n.length;s<o;++s){const o=n[s];switch(typeof o){case"string":e.appendChild(t,e.createTextNode(o));break;case"object":e.isNodeInstance(o)?e.appendChild(t,o):"mergeInto"in o&&o.mergeInto(t,r,i)}}}var Tt=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Rt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bt=function(e,t){return function(n,r){t(n,r,e)}};function It(e,t){const n=t.to;return void 0!==n&&"subject"!==n&&"composing"!==n&&(e[n]=t),e}let Et=(()=>{let e=class{constructor(e,t){this.dom=e,this.id=Object(r.B)("au$component"),this.subject=void 0,this.composing=!1,this.view=void 0,this.lastSubject=void 0,this.properties=t.instructions.reduce(It,{})}afterAttach(e,t,n){const{subject:r,view:i}=this;return void 0===i||this.lastSubject!==r?(this.lastSubject=r,this.composing=!0,this.compose(void 0,r,e,n)):this.compose(i,r,e,n)}afterUnbind(e,t,n){return this.deactivate(this.view,e,n)}subjectChanged(e,t,n){const{$controller:i}=this;if(!i.isActive)return;if(this.lastSubject===e)return;this.lastSubject=e,this.composing=!0,n|=i.flags;const s=Object(r.C)(this.deactivate(this.view,null,n),()=>this.compose(void 0,e,null,n));s instanceof Promise&&s.catch(e=>{throw e})}compose(e,t,n,i){return Object(r.C)(void 0===e?Object(r.C)(t,e=>this.resolveView(e,i)):e,e=>this.activate(e,n,i))}deactivate(e,t,n){return null==e?void 0:e.deactivate(null!=t?t:e,this.$controller,n)}activate(e,t,n){const{$controller:i}=this;return Object(r.C)(null==e?void 0:e.activate(null!=t?t:e,i,n,i.scope,i.hostScope),()=>{this.composing=!1})}resolveView(e,t){const n=this.provideViewFor(e,t);if(n)return n.setLocation(this.$controller.projector.host,1),n.lockScope(this.$controller.scope),n}provideViewFor(e,t){if(e){if(function(e){return"lockScope"in e}(e))return e;if("createView"in e)return e.createView(this.$controller.context);if("create"in e)return e.create(t);if("template"in e){const n=s.y.getOrCreate(e);return Object(s.Ib)(n,this.$controller.context).getViewFactory().create(t)}return St(this.dom,e,this.properties,void 0===this.$controller.projector?r.g.emptyArray:this.$controller.projector.children).createView(this.$controller.context)}}onCancel(e,t,n){var r;null===(r=this.view)||void 0===r||r.cancel(e,this.$controller,n)}dispose(){var e;null===(e=this.view)||void 0===e||e.dispose(),this.view=void 0}accept(e){var t;if(!0===(null===(t=this.view)||void 0===t?void 0:t.accept(e)))return!0}};return Tt([s.Ab,Rt("design:type",Object)],e.prototype,"subject",void 0),Tt([Object(s.Ab)({mode:s.o.fromView}),Rt("design:type",Boolean)],e.prototype,"composing",void 0),e=Tt([Object(s.Fb)({name:"au-compose",template:null,containerless:!0}),Bt(0,s.J),Bt(1,s.U),Rt("design:paramtypes",[Object,Object])],e),e})();const Pt=s.z,Dt=s.cb,Mt=s.hb,Nt=s.kb,Vt=s.ub,$t=s.wb,Ft=Object.assign(Object.create(null),{id:!0,"au-slot":!0}),Lt=Object.assign(Object.create(null),{"as-element":!0});function _t(e){const t=e.length;let n=0;for(let r=0;r<t;++r)if(n=e.charCodeAt(r),92===n)++r;else{if(58===n)return!0;if(36===n&&123===e.charCodeAt(r+1))return!1}return!1}function Ut(e,t){return e!==t}class qt{constructor(e,t,n,r,i){this.dom=e,this.resources=t,this.attrParser=n,this.exprParser=r,this.attrSyntaxTransformer=i}bind(e){const t=new Mt(this.dom,e),n=this.resources,r=this.attrSyntaxTransformer,i=e.attributes;let s=0;for(;s<i.length;){const o=i[s],a=this.attrParser.parse(o.name,o.value);if(!0===Ft[a.target])throw new Error("Invalid surrogate attribute: "+a.target);const c=n.getBindingCommand(a,!0);if(null===c||0==(4096&c.bindingType)){const i=n.getAttributeInfo(a);if(null===i)r.transform(e,a),this.bindPlainAttribute(a,o,t,t);else{if(i.isTemplateController)throw new Error("Cannot have template controller on surrogate element.");this.bindCustomAttribute(a,i,c,t)}}else r.transform(e,a),this.bindPlainAttribute(a,o,t,t);++s}return this.bindChildNodes(e,t,t,null,null),t}bindManifest(e,t,n,r,i,s){var o;let a=!1;switch(t.nodeName){case"LET":return void this.bindLetElement(e,t);case"SLOT":n.hasSlots=!0;break;case"AU-SLOT":a=!0}let c=t.getAttribute("as-element");null===c&&(c=t.nodeName.toLowerCase());const l=this.resources.getElementInfo(c);if(null===l)r=new Mt(this.dom,t);else{s=i;const e=new Pt(this.dom,t,l);a&&(e.flags=512,e.slotName=null!==(o=t.getAttribute("name"))&&void 0!==o?o:"default"),i=r=e}this.bindChildNodes(t,n,r,i,s),this.bindAttributes(t,e,n,r,i,s),i===r&&r.isContainerless?t.parentNode.replaceChild(r.marker,t):r.isTarget&&t.classList.add("au")}bindLetElement(e,t){const n=new Dt(this.dom,t);e.childNodes.push(n);const i=t.attributes;let o=0;for(;o<i.length;){const e=i[o];if("to-binding-context"===e.name){t.removeAttribute("to-binding-context"),n.toBindingContext=!0;continue}const a=this.attrParser.parse(e.name,e.value),c=this.resources.getBindingCommand(a,!1),l=null===c?2048:c.bindingType,u=this.exprParser.parse(a.rawValue,l),h=Object(r.n)(a.target),d=new s.l(h,s.o.toView);n.bindings.push(new s.p(c,d,u,a.rawValue,h)),++o}t.parentNode.replaceChild(n.marker,t)}bindAttributes(e,t,n,r,i,s){var o;let a=r,c=void 0,l=void 0;const u=e.attributes;let h=0;for(;h<u.length;){const t=u[h];if(++h,!0===Lt[t.name])continue;const i=this.attrParser.parse(t.name,t.value),s=this.resources.getBindingCommand(i,!0);if(null===s||0==(4096&s.bindingType)){const o=this.resources.getAttributeInfo(i);null===o?(this.attrSyntaxTransformer.transform(e,i),this.bindPlainAttribute(i,t,n,r)):o.isTemplateController?(l=r.templateController=this.declareTemplateController(i,o),a===r?(l.template=r,a=l):(l.templateController=c,l.template=c.template,c.template=l),c=l):this.bindCustomAttribute(i,o,s,r)}else this.attrSyntaxTransformer.transform(e,i),this.bindPlainAttribute(i,t,n,r)}if("INPUT"===e.tagName){const t=e.type;"checkbox"!==t&&"radio"!==t||this.ensureAttributeOrder(r)}let d=e.getAttribute("au-slot");""===d&&(d="default");const p=null!==d;if(p&&Ut(a,r))throw new Error(`Unsupported usage of [au-slot="${d}"] along with a template controller (if, else, repeat.for etc.) found (example: <some-el au-slot if.bind="true"></some-el>).`);const f=null===(o=e.parentNode)||void 0===o?void 0:o.nodeName.toLowerCase();if(p&&(null===i||void 0===f||null===this.resources.getElementInfo(f)))throw new Error(`Unsupported usage of [au-slot="${d}"]. It seems that projection is attempted, but not for a custom element.`);!function(e,t,n){const r=n.physicalNode;let i,s=t;for(;Ut(s,n);)s.template===n?(r.parentNode.replaceChild(s.marker,r),"TEMPLATE"===r.nodeName?(s.physicalNode=r,r.remove()):(i=s.physicalNode=e.createTemplate(),i.content.appendChild(r))):(i=s.physicalNode=e.createTemplate(),i.content.appendChild(s.marker)),r.removeAttribute(s.syntax.rawName),s=s.template}(this.dom,a,r);const g=r===i?s:i;p&&null!==g?p&&(g.projections.push(new Nt(d,a)),e.removeAttribute("au-slot"),e.remove()):t.childNodes.push(a)}ensureAttributeOrder(e){const t=e.plainAttributes;let n=void 0,r=void 0,i=0;for(let e=0;e<t.length&&i<3;e++)switch(t[e].syntax.target){case"model":case"value":case"matcher":n=e,i++;break;case"checked":r=e,i++}void 0!==r&&void 0!==n&&r<n&&([t[n],t[r]]=[t[r],t[n]])}bindChildNodes(e,t,n,r,i){let s,o;for(s="TEMPLATE"===e.nodeName?e.content.firstChild:e.firstChild;null!==s;)switch(s.nodeType){case 1:o=s.nextSibling,this.bindManifest(n,s,t,n,r,i),s=o;break;case 3:s=this.bindText(s,n).nextSibling;break;case 4:case 7:case 8:case 10:s=s.nextSibling;break;case 9:case 11:s=s.firstChild}}bindText(e,t){const n=this.exprParser.parse(e.wholeText,2048);if(null!==n){const r=new $t(this.dom,e,n);t.childNodes.push(r),function(e){const t=e.physicalNode,n=t.parentNode;for(;null!==t.nextSibling&&3===t.nextSibling.nodeType;)n.removeChild(t.nextSibling);t.textContent="",n.insertBefore(e.marker,t)}(r)}let r=e;for(;null!==r.nextSibling&&3===r.nextSibling.nodeType;)r=r.nextSibling;return r}declareTemplateController(e,t){let n;const r=e.rawValue,i=this.resources.getBindingCommand(e,!1);if(!1===t.noMultiBindings&&null===i&&_t(r))n=new Vt(this.dom,e,t),this.bindMultiAttribute(n,t,r);else{n=new Vt(this.dom,e,t);const o=null===i?2048:i.bindingType,a=this.exprParser.parse(r,o);n.bindings.push(new s.p(i,t.bindable,a,r,e.target))}return n}bindCustomAttribute(e,t,n,r){let i;const o=e.rawValue;if(!1===t.noMultiBindings&&null===n&&_t(o))i=new s.w(e,t),this.bindMultiAttribute(i,t,o);else{i=new s.w(e,t);const r=null===n?2048:n.bindingType,a=this.exprParser.parse(o,r);i.bindings.push(new s.p(n,t.bindable,a,o,e.target))}r.customAttributes.push(i),r.isTarget=!0}bindMultiAttribute(e,t,n){const i=t.bindables,o=n.length;let a=void 0,c=void 0,l=0,u=0;for(let t=0;t<o;++t)if(u=n.charCodeAt(t),92===u)++t;else if(58===u){for(a=n.slice(l,t);n.charCodeAt(++t)<=32;);for(l=t;t<o;++t)if(u=n.charCodeAt(t),92===u)++t;else if(59===u){c=n.slice(l,t);break}void 0===c&&(c=n.slice(l));const h=this.attrParser.parse(a,c),d=Object(r.n)(h.target),p=this.resources.getBindingCommand(h,!1),f=null===p?2048:p.bindingType,g=this.exprParser.parse(c,f);let m=i[d];for(void 0===m&&(m=i[d]=new s.l(d,s.o.toView)),e.bindings.push(new s.p(p,m,g,c,d));t<o&&n.charCodeAt(++t)<=32;);l=t,a=void 0,c=void 0}}bindPlainAttribute(e,t,n,i){const o=this.resources.getBindingCommand(e,!1),a=null===o?2048:o.bindingType,c=e.target,l=e.rawValue;let u;if(0===l.length&&(55|53&a)>0){if(!((55|53&a)>0))return;u=this.exprParser.parse(Object(r.n)(c),a)}else u=this.exprParser.parse(l,a);if((16&i.flags)>0){const t=i.bindables[c];null!=t?(i.bindings.push(new s.p(o,t,u,l,c)),i.isTarget=!0):null!=u&&(i.plainAttributes.push(new s.gb(e,o,u)),i.isTarget=!0)}else null!=u?(i.plainAttributes.push(new s.gb(e,o,u)),i.isTarget=!0):i===n&&i.plainAttributes.push(new s.gb(e,o,u));null==o&&null!=u&&(t.value="")}}var Ht=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},zt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wt=function(e,t){return function(n,r){t(n,r,e)}};const Kt=r.a.createInterface("ITemplateElementFactory").noDefault(),Yt={};let Qt=(()=>{let e=class{constructor(e){this.dom=e,this.template=e.createTemplate()}static register(e){return r.i.singleton(Kt,this).register(e)}createTemplate(e){if("string"==typeof e){let t=Yt[e];if(void 0===t){const n=this.template;n.innerHTML=e;const r=n.content.firstElementChild;null==r||"TEMPLATE"!==r.nodeName||null!=r.nextElementSibling?(this.template=this.dom.createTemplate(),t=n):(n.content.removeChild(r),t=r),Yt[e]=t}return t.cloneNode(!0)}if("TEMPLATE"!==e.nodeName){const t=this.dom.createTemplate();return t.content.appendChild(e),t}return null!=e.parentNode&&e.parentNode.removeChild(e),e}};return e=Ht([Wt(0,s.J),zt("design:paramtypes",[Object])],e),e})();var Gt,Jt=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Zt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xt=function(e,t){return function(n,r){t(n,r,e)}};class en{constructor(e,t,n){this.partialDefinition=e,this.surrogate=t,this.template=n,this.instructions=[],this.surrogates=[],this.projectionsMap=new Map}toDefinition(){const e=this.partialDefinition;return s.y.create({...e,instructions:Object(r.A)(e.instructions,this.instructions),surrogates:Object(r.A)(e.surrogates,this.surrogates),template:this.template,needsCompile:!1,hasSlots:this.surrogate.hasSlots,projectionsMap:this.projectionsMap})}}!function(e){e.property="property",e.attribute="attribute",e.mode="mode"}(Gt||(Gt={}));const tn=Object.freeze(["property","attribute","mode"]);let nn=(()=>{let e=class{constructor(e,t,n,r,i,s){this.factory=e,this.attrParser=t,this.exprParser=n,this.attrSyntaxModifier=r,this.dom=s,this.logger=i.scopeTo("TemplateCompiler")}get name(){return"default"}static register(e){return r.i.singleton(s.V,this).register(e)}compile(e,t,n){const i=s.y.getOrCreate(e);if(null===i.template||void 0===i.template)return i;const o=s.nb.getOrCreate(t),{attrParser:a,exprParser:c,attrSyntaxModifier:l,factory:u}=this,h=t.get(s.J),d=new qt(h,o,a,c,l),p=!0===i.enhance?i.template:u.createTemplate(i.template);!function(e,t,n,i,o){let a;if("TEMPLATE"===e.nodeName){if(e.hasAttribute("as-custom-element"))throw new Error("The root cannot be a local template itself.");a=e.content}else a=e;const c=Object(r.F)(a.querySelectorAll("template[as-custom-element]")),l=c.length;if(0===l)return;if(l===a.childElementCount)throw new Error("The custom element does not have any content other than local template(s).");const u=new Set;for(const e of c){if(e.parentNode!==a)throw new Error("Local templates needs to be defined directly under root.");const c=rn(e,u),l=class{},h=e.content,d=Object(r.F)(h.querySelectorAll("bindable")),p=s.k.for(l),f=new Set,g=new Set;for(const e of d){if(e.parentNode!==h)throw new Error("Bindable properties of local templates needs to be defined directly under root.");const t=e.getAttribute("property");if(null===t)throw new Error("The attribute 'property' is missing in "+e.outerHTML);const n=e.getAttribute("attribute");if(null!==n&&g.has(n)||f.has(t))throw new Error(`Bindable property and attribute needs to be unique; found property: ${t}, attribute: ${n}`);null!==n&&g.add(n),f.add(t),p.add({property:t,attribute:null!=n?n:void 0,mode:sn(e)});const r=e.getAttributeNames().filter(e=>!tn.includes(e));r.length>0&&o.warn(`The attribute(s) ${r.join(", ")} will be ignored for ${e.outerHTML}. Only ${tn.join(", ")} are processed.`),h.removeChild(e)}const m=i.createElement("div");m.appendChild(h);const b=s.x.define({name:c,template:m.innerHTML},l);t.dependencies.push(b),n.register(b),a.removeChild(e)}}(p,i,t,h,this.logger);const f=d.bind(p),g=this.compilation=new en(i,f,p),m=f.customAttributes,b=f.plainAttributes,v=m.length,y=b.length;if(v+y>0){let e=0;for(let t=0;v>t;++t)g.surrogates[e]=this.compileCustomAttribute(m[t]),e++;for(let t=0;t<y;++t)g.surrogates[e]=this.compilePlainAttribute(b[t],!0),e++}this.compileChildNodes(f,g.instructions,g.projectionsMap,n);const A=g.toDefinition();return this.compilation=null,A}compileChildNodes(e,t,n,r){if((16384&e.flags)>0){const i=e.childNodes,a=i.length;let c;for(let e=0;e<a;++e)if(c=i[e],(128&c.flags)>0)t.push([new o(c.interpolation)]);else if((32&c.flags)>0){const e=c.bindings,n=[];let r;const i=e.length;for(let t=0;t<i;++t)r=e[t],n[t]=new s.ab(r.expression,r.target);t.push([new s.bb(n,c.toBindingContext)])}else this.compileParentNode(c,t,n,r)}}compileCustomElement(e,t,n,r){var i;const o=(512&e.flags)>0,a=this.compileAttributes(e,1),c=e.slotName;let l=null;if(o){const t=null===(i=null==r?void 0:r.projections)||void 0===i?void 0:i[c];l=void 0!==t?new s.rb(c,s.h.Projection,new s.jb(t,null==r?void 0:r.scope)):new s.rb(c,s.h.Fallback,new s.jb(this.compileProjectionFallback(e,n,r)))}const u=a[0]=new s.F(e.res,this.compileBindings(e),l),h=this.compileProjections(e,n,r);null!==h&&n.set(u,h),t.push(a),o||this.compileChildNodes(e,t,n,r)}compilePlainElement(e,t,n,r){const i=this.compileAttributes(e,0);i.length>0&&t.push(i),this.compileChildNodes(e,t,n,r)}compileParentNode(e,t,n,r){switch(1023&e.flags){case 16:case 512:this.compileCustomElement(e,t,n,r);break;case 64:this.compilePlainElement(e,t,n,r);break;case 1:this.compileTemplateController(e,t,n,r)}}compileTemplateController(e,t,n,r){const i=this.compileBindings(e),o=[];this.compileParentNode(e.template,o,n,r);const a=s.y.create({name:e.res,template:e.physicalNode,instructions:o,needsCompile:!1});t.push([new s.G(a,e.res,i,"else"===e.res)])}compileBindings(e){let t;if((8192&e.flags)>0){const{bindings:n}=e,r=n.length;t=Array(r);let i=0;for(;i<r;++i)t[i]=this.compileBinding(n[i])}else t=r.g.emptyArray;return t}compileBinding(e){return null===e.command?null===e.expression?new s.pb(e.rawValue,e.bindable.propName):new s.Z(e.expression,e.bindable.propName):e.command.compile(e)}compileAttributes(e,t){let n;if((4096&e.flags)>0){const r=e.customAttributes,i=e.plainAttributes,s=r.length,o=i.length;n=Array(t+s+o);for(let e=0;s>e;++e)n[t]=this.compileCustomAttribute(r[e]),t++;for(let e=0;o>e;++e)n[t]=this.compilePlainAttribute(i[e],!1),t++}else n=t>0?Array(t):r.g.emptyArray;return n}compileCustomAttribute(e){const t=this.compileBindings(e);return new s.E(e.res,t)}compilePlainAttribute(e,t){if(null===e.command){const n=e.syntax;if(null===e.expression){const e=n.rawValue;if(t)switch(n.target){case"class":return new h(e);case"style":return new d(e)}return new u(e,n.target)}return new s.Z(e.expression,n.target)}return e.command.compile(e)}compileProjections(e,t,n){var r;if(0==(32768&e.flags))return null;const i=this.dom,o=Object.create(null),a=e.projections,c=a.length;for(let e=0;e<c;++e){const c=a[e],l=c.name,u=[];this.compileParentNode(c.template,u,t,n);const h=o[l];if(void 0===h){let e=c.template.physicalNode;if("TEMPLATE"!==e.tagName){const t=i.createTemplate();i.appendChild(t.content,e),e=t}o[l]=s.y.create({name:l,template:e,instructions:u,needsCompile:!1})}else i.appendChild(h.template.content,null===(r=c.template)||void 0===r?void 0:r.physicalNode),h.instructions.push(...u)}return o}compileProjectionFallback(e,t,n){const i=[];this.compileChildNodes(e,i,t,n);const o=this.dom.createTemplate();return o.content.append(...Object(r.F)(e.physicalNode.childNodes)),s.y.create({name:s.x.generateName(),template:o,instructions:i,needsCompile:!1})}};return e=Jt([Xt(0,Kt),Xt(1,s.H),Xt(2,s.L),Xt(3,i),Xt(4,r.c),Xt(5,s.J),Zt("design:paramtypes",[Object,Object,Object,Object,Object,Object])],e),e})();function rn(e,t){const n=e.getAttribute("as-custom-element");if(null===n||""===n)throw new Error('The value of "as-custom-element" attribute cannot be empty for local template');if(t.has(n))throw new Error("Duplicate definition of the local template named "+n);return t.add(n),n}function sn(e){switch(e.getAttribute("mode")){case"oneTime":return s.o.oneTime;case"toView":return s.o.toView;case"fromView":return s.o.fromView;case"twoWay":return s.o.twoWay;case"default":default:return s.o.default}}var on=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},an=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cn=function(e,t){return function(n,r){t(n,r,e)}};let ln=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){const o=r.nextSibling;let a;t.dom.isMarker(r)&&t.dom.remove(r);const c=Object(s.Gb)(this.parser,i.from,2048);a=c.isMulti?Object(s.zb)(new s.db(this.observerLocator,c,o,"textContent",s.o.toView,t),c,t):Object(s.zb)(new s.Y(c.firstExpression,c,o,"textContent",s.o.toView,this.observerLocator,t,!0),c,t),n.addBinding(a)}};return e=on([Object(s.Kb)("ha"),cn(0,s.L),cn(1,s.O),an("design:paramtypes",[Object,Object])],e),e})(),un=(()=>{let e=class{constructor(e,t){this.parser=e,this.eventManager=t}render(e,t,n,r,i){const o=Object(s.Gb)(this.parser,i.from,80|i.strategy+6),a=Object(s.zb)(new C(t.dom,i.to,i.strategy,o,r,i.preventDefault,this.eventManager,t),o,t);n.addBinding(a)}};return e=on([Object(s.Kb)("hb"),cn(0,s.L),cn(1,ne),an("design:paramtypes",[Object,Object])],e),e})(),hn=(()=>{let e=class{render(e,t,n,r,i){r.setAttribute(i.to,i.value)}};return e=on([Object(s.Kb)("he")],e),e})(),dn=(()=>{let e=class{render(e,t,n,r,i){!function(e,t){const n=t.length;let r=0;for(let i=0;i<n;++i)32===t.charCodeAt(i)?(i!==r&&e.add(t.slice(r,i)),r=i+1):i+1===n&&e.add(t.slice(r))}(r.classList,i.value)}};return e=on([Object(s.Kb)("hf")],e),e})(),pn=(()=>{let e=class{render(e,t,n,r,i){r.style.cssText+=i.value}};return e=on([Object(s.Kb)("hg")],e),e})(),fn=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){const o=Object(s.Gb)(this.parser,i.from,48|s.o.toView),a=Object(s.zb)(new s.lb(o,r.style,i.to,s.o.toView,this.observerLocator,t),o,t);n.addBinding(a)}};return e=on([Object(s.Kb)("hd"),cn(0,s.L),cn(1,s.O),an("design:paramtypes",[Object,Object])],e),e})(),gn=(()=>{let e=class{constructor(e,t){this.parser=e,this.observerLocator=t}render(e,t,n,r,i){const o=Object(s.Gb)(this.parser,i.from,48|s.o.toView),a=Object(s.zb)(new V(o,r,i.attr,i.to,s.o.toView,this.observerLocator,t),o,t);n.addBinding(a)}};return e=on([Object(s.Kb)("hc"),cn(0,s.L),cn(1,s.O),an("design:paramtypes",[Object,Object])],e),e})();const mn=[nn,Qt,class{static register(e){return r.i.singleton(i,this).register(e)}transform(e,t){"bind"===t.command&&function(e,t){switch(e.tagName){case"INPUT":switch(e.type){case"checkbox":case"radio":return"checked"===t.target;default:return"value"===t.target||"files"===t.target}case"TEXTAREA":case"SELECT":return"value"===t.target;default:switch(t.target){case"textcontent":case"innerhtml":return e.hasAttribute("contenteditable");case"scrolltop":case"scrollleft":return!0;default:return!1}}}(e,t)&&(t.command="two-way"),t.target=this.map(e.tagName,t.target)}map(e,t){switch(e){case"LABEL":switch(t){case"for":return"htmlFor";default:return t}case"IMG":switch(t){case"usemap":return"useMap";default:return t}case"INPUT":switch(t){case"maxlength":return"maxLength";case"minlength":return"minLength";case"formaction":return"formAction";case"formenctype":return"formEncType";case"formmethod":return"formMethod";case"formnovalidate":return"formNoValidate";case"formtarget":return"formTarget";case"inputmode":return"inputMode";default:return t}case"TEXTAREA":switch(t){case"maxlength":return"maxLength";default:return t}case"TD":case"TH":switch(t){case"rowspan":return"rowSpan";case"colspan":return"colSpan";default:return t}default:switch(t){case"accesskey":return"accessKey";case"contenteditable":return"contentEditable";case"tabindex":return"tabIndex";case"textcontent":return"textContent";case"innerhtml":return"innerHTML";case"scrolltop":return"scrollTop";case"scrollleft":return"scrollLeft";case"readonly":return"readOnly";default:return t}}}},class{static register(e){return r.i.singleton(s.P,this).register(e)}getElementProjector(e,t,n,i){if(i.shadowOptions||i.hasSlots){if(i.containerless)throw r.j.error(21);return new We(e,t,n,i)}return i.containerless?new Ke(e,t,n):new Ye(t,n,i.enhance)}},je,Oe],bn=[w,g,m,b,A,y,v],vn=[Ie,De,$e,Et,Ct,vt,dt],yn=[un,gn,hn,dn,pn,fn,ln],An={register:e=>s.ob.register(e).register(...mn,...vn,...bn,...yn),createContainer(){return this.register(r.a.createContainer())}};var wn=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Cn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},kn=function(e,t){return function(n,r){t(n,r,e)}};const xn=new WeakMap,Sn=r.a.createInterface("IShadowDOMStyleFactory").withDefault(e=>e.callback((e,t,n)=>{let r=xn.get(n);return void 0===r&&xn.set(n,r=On.createStyleFactory(e)),r}));class On{constructor(e){this.css=e}register(e){const t=e.get(_e),n=e.get(Sn);e.register(r.i.instance(Le,n.createStyles(this.css,t)))}static createStyleFactory(e){return Ue.supported(e.get(Je))?e.get(jn):e.get(Tn)}}let jn=(()=>{let e=class{constructor(e){this.dom=e,this.cache=new Map}createStyles(e,t){return new Ue(this.dom,e,this.cache,t)}};return e=wn([kn(0,s.J),Cn("design:paramtypes",[Je])],e),e})(),Tn=(()=>{let e=class{constructor(e){this.dom=e}createStyles(e,t){if(e.some(e=>"string"!=typeof e))throw new Error("Shadow DOM CSS must be a string.");return new qe(this.dom,e,t)}};return e=wn([kn(0,s.J),Cn("design:paramtypes",[Je])],e),e})()},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return C}));var r=n(0);const i=r.g.now.bind(r.g),s=r.a.createInterface("Now").withDefault(e=>e.instance(i));var o;!function(e){e[e.microTask=0]="microTask",e[e.render=1]="render",e[e.macroTask=2]="macroTask",e[e.postRender=3]="postRender",e[e.idle=4]="idle"}(o||(o={}));const a={delay:0,preempt:!1,priority:1,persistent:!1,reusable:!0,async:!1};let c,l;function u(e,t){c=e,l=t}function h(){const e=new Promise(u);return e.resolve=c,e.reject=l,e}const{enter:d,leave:p,trace:f}={enter:function(e,t){},leave:function(e,t){},trace:function(e,t){}};class g extends Error{constructor(e){super("Task was canceled."),this.task=e}}let m=0;class b{constructor(e,t,n,r,i,s,o,a){this.taskQueue=e,this.createdTime=t,this.queueTime=n,this.preempt=r,this.persistent=i,this.async=s,this.reusable=o,this.callback=a,this.id=++m,this.next=void 0,this.prev=void 0,this.resolve=void 0,this.reject=void 0,this._result=void 0,this._status="pending",this.priority=e.priority}get result(){const e=this._result;if(void 0===e)switch(this._status){case"pending":{const e=this._result=h();return this.resolve=e.resolve,this.reject=e.reject,e}case"running":throw new Error("Trying to await task from within task will cause a deadlock.");case"completed":return this._result=Promise.resolve();case"canceled":return this._result=Promise.reject(new g(this))}return e}get status(){return this._status}run(){if(d(this,"run"),"pending"!==this._status)throw p(this,"run error"),new Error(`Cannot run task in ${this._status} state`);const{persistent:e,reusable:t,taskQueue:n,callback:r,resolve:i,reject:s,createdTime:o,async:a}=this;n.remove(this),this._status="running";try{const c=r(n.now()-o);!0===a||"auto"===a&&c instanceof Promise?c.then(r=>{this.persistent?n.resetPersistentTask(this):(this._status=e?"canceled":"completed",this.dispose(),t&&n.returnToPool(this)),n.completeAsyncTask(this),p(this,"run async then"),void 0!==i&&i(r)}).catch(e=>{if(this.persistent||this.dispose(),n.completeAsyncTask(this),p(this,"run async catch"),void 0===s)throw e;s(e)}):(this.persistent?n.resetPersistentTask(this):(this._status=e?"canceled":"completed",this.dispose(),t&&n.returnToPool(this)),p(this,"run sync success"),void 0!==i&&i(c))}catch(e){if(this.persistent||this.dispose(),p(this,"run sync error"),void 0===s)throw e;s(e)}}cancel(){if(d(this,"cancel"),"pending"===this._status){const e=this.taskQueue,t=this.reusable,n=this.reject;return e.remove(this),e.isEmpty&&e.cancel(),this._status="canceled",this.dispose(),t&&e.returnToPool(this),void 0!==n&&n(new g(this)),p(this,"cancel true =pending"),!0}return"running"===this._status&&this.persistent?(this.persistent=!1,p(this,"cancel true =running+persistent"),!0):(p(this,"cancel false"),!1)}reset(e){d(this,"reset");const t=this.queueTime-this.createdTime;this.createdTime=e,this.queueTime=e+t,this._status="pending",this.resolve=void 0,this.reject=void 0,this._result=void 0,p(this,"reset")}reuse(e,t,n,r,i,s){d(this,"reuse"),this.createdTime=e,this.queueTime=e+t,this.preempt=n,this.persistent=r,this.async=i,this.callback=s,this._status="pending",p(this,"reuse")}dispose(){f(this,"dispose"),this.prev=void 0,this.next=void 0,this.callback=void 0,this.resolve=void 0,this.reject=void 0,this._result=void 0}}class v{constructor(e,t,n,r){this.now=e,this.priority=t,this.scheduler=n,this.processingSize=0,this.processingHead=void 0,this.processingTail=void 0,this.processingAsync=void 0,this.pendingSize=0,this.pendingHead=void 0,this.pendingTail=void 0,this.delayedSize=0,this.delayedHead=void 0,this.delayedTail=void 0,this.flushRequested=!1,this.yieldPromise=void 0,this.taskPool=[],this.taskPoolSize=0,this.lastRequest=0,this.microTaskRequestFlushTask=null,this.flushRequestor=r.create(this),this.requestFlush=this.requestFlush.bind(this)}get isEmpty(){return 0===this.processingSize&&0===this.pendingSize&&0===this.delayedSize}get hasNoMoreFiniteWork(){let e=this.processingHead;for(;void 0!==e;){if(!e.persistent)return!1;e=e.next}for(e=this.pendingHead;void 0!==e;){if(!e.persistent)return!1;e=e.next}for(e=this.delayedHead;void 0!==e;){if(!e.persistent)return!1;e=e.next}return!0}flush(){if(d(this,"flush"),null!==this.microTaskRequestFlushTask&&(this.microTaskRequestFlushTask.cancel(),this.microTaskRequestFlushTask=null),this.flushRequested=!1,void 0===this.processingAsync){let e;for(this.pendingSize>0&&this.movePendingToProcessing(),this.delayedSize>0&&this.moveDelayedToProcessing();this.processingSize>0;)if(e=this.processingHead,e.run(),"running"===e.status)return this.processingAsync=e,this.requestFlushClamped(),void p(this,"flush early async");if(this.pendingSize>0&&this.movePendingToProcessing(),this.delayedSize>0&&this.moveDelayedToProcessing(),this.processingSize>0?this.requestFlush():this.delayedSize>0&&this.requestFlushClamped(),void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const e=this.yieldPromise;this.yieldPromise=void 0,e.resolve()}}else this.requestFlushClamped();p(this,"flush full")}cancel(){d(this,"cancel"),null!==this.microTaskRequestFlushTask&&(this.microTaskRequestFlushTask.cancel(),this.microTaskRequestFlushTask=null),this.flushRequested&&(this.flushRequestor.cancel(),this.flushRequested=!1),p(this,"cancel")}async yield(){d(this,"yield"),this.isEmpty?p(this,"yield empty"):(void 0===this.yieldPromise&&(f(this,"yield - creating promise"),this.yieldPromise=h()),await this.yieldPromise,p(this,"yield task"))}queueTask(e,t){d(this,"queueTask");const{delay:n,preempt:r,persistent:i,reusable:s,async:o}={...a,...t};if(r){if(n>0)throw new Error("Invalid arguments: preempt cannot be combined with a greater-than-zero delay");if(i)throw new Error("Invalid arguments: preempt cannot be combined with persistent")}if(i&&0===this.priority)throw new Error("Invalid arguments: cannot queue persistent tasks on the micro task queue");0===this.processingSize&&this.requestFlush();const c=this.now();let l;if(s){const t=this.taskPool,a=this.taskPoolSize-1;a>=0?(l=t[a],t[a]=void 0,this.taskPoolSize=a,l.reuse(c,n,r,i,o,e)):l=new b(this,c,c+n,r,i,o,s,e)}else l=new b(this,c,c+n,r,i,o,s,e);return r?0==this.processingSize++?this.processingHead=this.processingTail=l:this.processingTail=(l.prev=this.processingTail).next=l:0===n?0==this.pendingSize++?this.pendingHead=this.pendingTail=l:this.pendingTail=(l.prev=this.pendingTail).next=l:0==this.delayedSize++?this.delayedHead=this.delayedTail=l:this.delayedTail=(l.prev=this.delayedTail).next=l,p(this,"queueTask"),l}take(e){if(d(this,"take"),"pending"!==e.status)throw p(this,"take error"),new Error("Can only take pending tasks.");0===this.processingSize&&this.requestFlush(),e.taskQueue.remove(e),e.preempt?this.addToProcessing(e):e.queueTime<=this.now()?this.addToPending(e):this.addToDelayed(e),p(this,"take")}remove(e){if(d(this,"remove"),e.preempt)return this.removeFromProcessing(e),void p(this,"remove processing fast");if(e.queueTime>this.now())return this.removeFromDelayed(e),void p(this,"remove delayed fast");let t=this.processingHead;for(;void 0!==t;){if(t===e)return this.removeFromProcessing(e),void p(this,"remove processing slow");t=t.next}for(t=this.pendingHead;void 0!==t;){if(t===e)return this.removeFromPending(e),void p(this,"remove pending slow");t=t.next}for(t=this.delayedHead;void 0!==t;){if(t===e)return this.removeFromDelayed(e),void p(this,"remove delayed slow");t=t.next}throw p(this,"remove error"),new Error(`Task #${e.id} could not be found`)}returnToPool(e){f(this,"returnToPool"),this.taskPool[this.taskPoolSize++]=e}resetPersistentTask(e){d(this,"resetPersistentTask"),e.reset(this.now()),e.createdTime===e.queueTime?0==this.pendingSize++?(this.pendingHead=this.pendingTail=e,e.prev=e.next=void 0):(this.pendingTail=(e.prev=this.pendingTail).next=e,e.next=void 0):0==this.delayedSize++?(this.delayedHead=this.delayedTail=e,e.prev=e.next=void 0):(this.delayedTail=(e.prev=this.delayedTail).next=e,e.next=void 0),p(this,"resetPersistentTask")}completeAsyncTask(e){var t;if(d(this,"completeAsyncTask"),this.processingAsync!==e)throw p(this,"completeAsyncTask error"),new Error(`Async task completion mismatch: processingAsync=${null===(t=this.processingAsync)||void 0===t?void 0:t.id}, task=${e.id}`);if(this.processingAsync=void 0,void 0!==this.yieldPromise&&this.hasNoMoreFiniteWork){const e=this.yieldPromise;this.yieldPromise=void 0,e.resolve()}this.isEmpty&&this.cancel(),p(this,"completeAsyncTask")}finish(e){d(this,"finish"),void 0!==e.next&&(e.next.prev=e.prev),void 0!==e.prev&&(e.prev.next=e.next),p(this,"finish")}removeFromProcessing(e){d(this,"removeFromProcessing"),this.processingHead===e&&(this.processingHead=e.next),this.processingTail===e&&(this.processingTail=e.prev),--this.processingSize,this.finish(e),p(this,"removeFromProcessing")}removeFromPending(e){d(this,"removeFromPending"),this.pendingHead===e&&(this.pendingHead=e.next),this.pendingTail===e&&(this.pendingTail=e.prev),--this.pendingSize,this.finish(e),p(this,"removeFromPending")}removeFromDelayed(e){d(this,"removeFromDelayed"),this.delayedHead===e&&(this.delayedHead=e.next),this.delayedTail===e&&(this.delayedTail=e.prev),--this.delayedSize,this.finish(e),p(this,"removeFromDelayed")}addToProcessing(e){d(this,"addToProcessing"),0==this.processingSize++?this.processingHead=this.processingTail=e:this.processingTail=(e.prev=this.processingTail).next=e,p(this,"addToProcessing")}addToPending(e){d(this,"addToPending"),0==this.pendingSize++?this.pendingHead=this.pendingTail=e:this.pendingTail=(e.prev=this.pendingTail).next=e,p(this,"addToPending")}addToDelayed(e){d(this,"addToDelayed"),0==this.delayedSize++?this.delayedHead=this.delayedTail=e:this.delayedTail=(e.prev=this.delayedTail).next=e,p(this,"addToDelayed")}movePendingToProcessing(){d(this,"movePendingToProcessing"),0===this.processingSize?(this.processingHead=this.pendingHead,this.processingTail=this.pendingTail,this.processingSize=this.pendingSize):(this.processingTail.next=this.pendingHead,this.processingTail=this.pendingTail,this.processingSize+=this.pendingSize),this.pendingHead=void 0,this.pendingTail=void 0,this.pendingSize=0,p(this,"movePendingToProcessing")}moveDelayedToProcessing(){d(this,"moveDelayedToProcessing");const e=this.now(),t=this.delayedHead;if(t.queueTime<=e){let n=t,r=n.next,i=1;for(;void 0!==r&&r.queueTime<=e;)n=r,r=n.next,++i;0===this.processingSize?(this.processingHead=t,this.processingTail=n,this.processingSize=i):(this.processingTail.next=t,this.processingTail=n,this.processingSize+=i),this.delayedHead=r,this.delayedSize-=i,0===this.delayedSize&&(this.delayedTail=void 0)}p(this,"moveDelayedToProcessing")}requestFlush(){d(this,"requestFlush"),null!==this.microTaskRequestFlushTask&&(this.microTaskRequestFlushTask.cancel(),this.microTaskRequestFlushTask=null),this.flushRequested||(this.flushRequested=!0,this.lastRequest=this.now(),this.flushRequestor.request()),p(this,"requestFlush")}requestFlushClamped(){d(this,"requestFlushClamped"),this.priority<=0?this.microTaskRequestFlushTask=this.scheduler.queueMacroTask(this.requestFlush,y):this.requestFlush(),p(this,"requestFlushClamped")}}const y={delay:0,preempt:!0,persistent:!1,reusable:!0,async:!1},A=new WeakMap,w=r.a.createInterface("IScheduler").noDefault();class C{constructor(e,t,n,r,i,s){this.taskQueues=[this.microtask=new v(e,0,this,t),this.render=new v(e,1,this,n),this.macroTask=new v(e,2,this,r),this.postRender=new v(e,3,this,i),this.idle=new v(e,4,this,s)],this.yieldMicroTask=this.yieldMicroTask.bind(this),this.yieldRenderTask=this.yieldRenderTask.bind(this),this.yieldMacroTask=this.yieldMacroTask.bind(this),this.yieldPostRenderTask=this.yieldPostRenderTask.bind(this),this.yieldIdleTask=this.yieldIdleTask.bind(this),this.yieldAll=this.yieldAll.bind(this)}static get(e){return A.get(e)}static set(e,t){A.set(e,t)}getTaskQueue(e){return this.taskQueues[e]}yield(e){return this.taskQueues[e].yield()}queueTask(e,t){const{delay:n,preempt:r,priority:i,persistent:s,reusable:o,async:c}={...a,...t};return this.taskQueues[i].queueTask(e,{delay:n,preempt:r,persistent:s,reusable:o,async:c})}getMicroTaskQueue(){return this.microtask}getRenderTaskQueue(){return this.render}getMacroTaskQueue(){return this.macroTask}getPostRenderTaskQueue(){return this.postRender}getIdleTaskQueue(){return this.idle}yieldMicroTask(){return this.microtask.yield()}yieldRenderTask(){return this.render.yield()}yieldMacroTask(){return this.macroTask.yield()}yieldPostRenderTask(){return this.postRender.yield()}yieldIdleTask(){return this.idle.yield()}async yieldAll(e=1){for(;e-- >0;)await this.yieldMicroTask(),await this.yieldRenderTask(),await this.yieldMacroTask(),await this.yieldPostRenderTask(),await this.yieldIdleTask()}queueMicroTask(e,t){return this.microtask.queueTask(e,t)}queueRenderTask(e,t){return this.render.queueTask(e,t)}queueMacroTask(e,t){return this.macroTask.queueTask(e,t)}queuePostRenderTask(e,t){return this.postRender.queueTask(e,t)}queueIdleTask(e,t){return this.idle.queueTask(e,t)}}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return p}));const i=function(){if(void 0!==e)return e;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(e){return{}}}(),s="undefined"!=typeof window&&void 0!==window.document,o="object"==typeof self&&null!=self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,a=void 0!==r&&null!=r.versions&&null!=r.versions.node,c=function(){var e,t;let n,r,s,o,a;if(null!=(null===(e=i.performance)||void 0===e?void 0:e.now)){const e=i.performance;return function(){return e.now()}}if(null!=(null===(t=i.process)||void 0===t?void 0:t.hrtime)){const e=function(){return(n()-o)/1e6};return r=i.process.hrtime,n=function(){const e=r();return 1e9*e[0]+e[1]},s=n(),a=1e9*i.process.uptime(),o=s-a,e}{const e=function(){return Date.now()-o};return o=Date.now(),e}}(),l=Object.prototype.hasOwnProperty,u=Object.freeze([]),h=Object.freeze({}),d={isBrowserLike:s,isWebWorkerLike:o,isNodeLike:a,global:i,emptyArray:u,emptyObject:h,noop:function(){},now:c,hasOwnProperty:l,restore(){Object.assign(p,d)}},p={...d}}).call(this,n(15),n(10))},function(e,t,n){var r;!function(i){"use strict";var s,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,l="[BigNumber Error] ",u=l+"Number primitive has more than 15 significant digits: ",h=1e14,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,s=e[0]+"";r<i;){for(n=14-(t=e[r++]+"").length;n--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function m(e,t){var n,r,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,l=t.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=c==l,!i||!s)return r?0:!i^n?1:-1;if(!r)return c>l^n?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return c==l?0:c>l^n?1:-1}function b(e,t,n,r){if(e<t||e>n||e!==c(e))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function v(e){var t=e.c.length-1;return f(e.e/14)==t&&e.c[t]%2!=0}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function A(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(s=function e(t){var n,r,i,s,w,C,k,x,S,O=F.prototype={constructor:F,toString:null,valueOf:null},j=new F(1),T=20,R=4,B=-7,I=21,E=-1e7,P=1e7,D=!1,M=1,N=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},$="0123456789abcdefghijklmnopqrstuvwxyz";function F(e,t){var n,s,a,l,h,d,p,f,g=this;if(!(g instanceof F))return new F(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>P?g.c=g.e=null:e.e<E?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,h=e;h>=10;h/=10,l++);return void(l>P?g.c=g.e=null:(g.e=l,g.c=[e]))}f=String(e)}else{if(!o.test(f=String(e)))return i(g,f,d);g.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(l=f.indexOf("."))>-1&&(f=f.replace(".","")),(h=f.search(/e/i))>0?(l<0&&(l=h),l+=+f.slice(h+1),f=f.substring(0,h)):l<0&&(l=f.length)}else{if(b(t,2,$.length,"Base"),10==t)return q(g=new F(e),T+g.e+1,R);if(f=String(e),d="number"==typeof e){if(0*e!=0)return i(g,f,d,t);if(g.s=1/e<0?(f=f.slice(1),-1):1,F.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else g.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=$.slice(0,t),l=h=0,p=f.length;h<p;h++)if(n.indexOf(s=f.charAt(h))<0){if("."==s){if(h>l){l=p;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,h=-1,l=0;continue}return i(g,String(e),d,t)}d=!1,(l=(f=r(f,t,10,g.s)).indexOf("."))>-1?f=f.replace(".",""):l=f.length}for(h=0;48===f.charCodeAt(h);h++);for(p=f.length;48===f.charCodeAt(--p););if(f=f.slice(h,++p)){if(p-=h,d&&F.DEBUG&&p>15&&(e>9007199254740991||e!==c(e)))throw Error(u+g.s*e);if((l=l-h-1)>P)g.c=g.e=null;else if(l<E)g.c=[g.e=0];else{if(g.e=l,g.c=[],h=(l+1)%14,l<0&&(h+=14),h<p){for(h&&g.c.push(+f.slice(0,h)),p-=14;h<p;)g.c.push(+f.slice(h,h+=14));h=14-(f=f.slice(h)).length}else h-=p;for(;h--;f+="0");g.c.push(+f)}}else g.c=[g.e=0]}function L(e,t,n,r){var i,s,o,a,c;if(null==n?n=R:b(n,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=g(e.c),c=1==r||2==r&&(o<=B||o>=I)?y(c,o):A(c,o,"0");else if(s=(e=q(new F(e),t,n)).e,a=(c=g(e.c)).length,1==r||2==r&&(t<=s||s<=B)){for(;a<t;c+="0",a++);c=y(c,s)}else if(t-=o,c=A(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function _(e,t){for(var n,r=1,i=new F(e[0]);r<e.length;r++){if(!(n=new F(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function U(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+14*n-1)>P?e.c=e.e=null:n<E?e.c=[e.e=0]:(e.e=n,e.c=t),e}function q(e,t,n,r){var i,s,o,l,u,p,f,g=e.c,m=d;if(g){e:{for(i=1,l=g[0];l>=10;l/=10,i++);if((s=t-i)<0)s+=14,o=t,f=(u=g[p=0])/m[i-o-1]%10|0;else if((p=a((s+1)/14))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));u=f=0,i=1,o=(s%=14)-14+1}else{for(u=l=g[p],i=1;l>=10;l/=10,i++);f=(o=(s%=14)-14+i)<0?0:u/m[i-o-1]%10|0}if(r=r||t<0||null!=g[p+1]||(o<0?u:u%m[i-o-1]),r=n<4?(f||r)&&(0==n||n==(e.s<0?3:2)):f>5||5==f&&(4==n||r||6==n&&(s>0?o>0?u/m[i-o]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=m[(14-t%14)%14],e.e=-t||0):g[0]=e.e=0,e;if(0==s?(g.length=p,l=1,p--):(g.length=p+1,l=m[14-s],g[p]=o>0?c(u/m[i-o]%m[o])*l:0),r)for(;;){if(0==p){for(s=1,o=g[0];o>=10;o/=10,s++);for(o=g[0]+=l,l=1;o>=10;o/=10,l++);s!=l&&(e.e++,g[0]==h&&(g[0]=1));break}if(g[p]+=l,g[p]!=h)break;g[p--]=0,l=1}for(s=g.length;0===g[--s];g.pop());}e.e>P?e.c=e.e=null:e.e<E&&(e.c=[e.e=0])}return e}function H(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=B||n>=I?y(t,n):A(t,n,"0"),e.s<0?"-"+t:t)}return F.clone=e,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(n=e[t],0,p,t),T=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(n=e[t],0,8,t),R=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(b(n[0],-p,0,t),b(n[1],0,p,t),B=n[0],I=n[1]):(b(n,-p,p,t),B=-(I=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)b(n[0],-p,-1,t),b(n[1],1,p,t),E=n[0],P=n[1];else{if(b(n,-p,p,t),!n)throw Error(l+t+" cannot be zero: "+n);E=-(P=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(l+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!n,Error(l+"crypto unavailable");D=n}else D=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(n=e[t],0,9,t),M=n),e.hasOwnProperty(t="POW_PRECISION")&&(b(n=e[t],0,p,t),N=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(l+t+" not an object: "+n);V=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(l+t+" invalid: "+n);$=n}}return{DECIMAL_PLACES:T,ROUNDING_MODE:R,EXPONENTIAL_AT:[B,I],RANGE:[E,P],CRYPTO:D,MODULO_MODE:M,POW_PRECISION:N,FORMAT:V,ALPHABET:$}},F.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!F.DEBUG)return!0;var t,n,r=e.c,i=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-p&&i<=p&&i===c(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=h||n!==c(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(l+"Invalid BigNumber: "+e)},F.maximum=F.max=function(){return _(arguments,O.lt)},F.minimum=F.min=function(){return _(arguments,O.gt)},F.random=(s=9007199254740992*Math.random()&2097151?function(){return c(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,o,u=0,h=[],f=new F(j);if(null==e?e=T:b(e,0,p),i=a(e/14),D)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));u<i;)(o=131072*t[u]+(t[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[u]=n[0],t[u+1]=n[1]):(h.push(o%1e14),u+=2);u=i/2}else{if(!crypto.randomBytes)throw D=!1,Error(l+"crypto unavailable");for(t=crypto.randomBytes(i*=7);u<i;)(o=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(h.push(o%1e14),u+=7);u=i/7}if(!D)for(;u<i;)(o=s())<9e15&&(h[u++]=o%1e14);for(e%=14,(i=h[--u])&&e&&(o=d[14-e],h[u]=c(i/o)*o);0===h[u];h.pop(),u--);if(u<0)h=[r=0];else{for(r=-1;0===h[0];h.splice(0,1),r-=14);for(u=1,o=h[0];o>=10;o/=10,u++);u<14&&(r-=14-u)}return f.e=r,f.c=h,f}),F.sum=function(){for(var e=1,t=arguments,n=new F(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){function e(e,t,n,r){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=r.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(t,r,i,s,o){var a,c,l,u,h,d,p,f,m=t.indexOf("."),b=T,v=R;for(m>=0&&(u=N,N=0,t=t.replace(".",""),d=(f=new F(r)).pow(t.length-m),N=u,f.c=e(A(g(d.c),d.e,"0"),10,i,"0123456789"),f.e=f.c.length),l=u=(p=e(t,r,i,o?(a=$,"0123456789"):(a="0123456789",$))).length;0==p[--u];p.pop());if(!p[0])return a.charAt(0);if(m<0?--l:(d.c=p,d.e=l,d.s=s,p=(d=n(d,f,b,v,i)).c,h=d.r,l=d.e),m=p[c=l+b+1],u=i/2,h=h||c<0||null!=p[c+1],h=v<4?(null!=m||h)&&(0==v||v==(d.s<0?3:2)):m>u||m==u&&(4==v||h||6==v&&1&p[c-1]||v==(d.s<0?8:7)),c<1||!p[0])t=h?A(a.charAt(1),-b,a.charAt(0)):a.charAt(0);else{if(p.length=c,h)for(--i;++p[--c]>i;)p[c]=0,c||(++l,p=[1].concat(p));for(u=p.length;!p[--u];);for(m=0,t="";m<=u;t+=a.charAt(p[m++]));t=A(t,l,a.charAt(0))}return t}}(),n=function(){function e(e,t,n){var r,i,s,o,a=0,c=e.length,l=t%1e7,u=t/1e7|0;for(e=e.slice();c--;)a=((i=l*(s=e[c]%1e7)+(r=u*s+(o=e[c]/1e7|0)*l)%1e7*1e7+a)/n|0)+(r/1e7|0)+u*o,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,s,o,a){var l,u,d,p,g,m,b,v,y,A,w,C,k,x,S,O,j,T=r.s==i.s?1:-1,R=r.c,B=i.c;if(!(R&&R[0]&&B&&B[0]))return new F(r.s&&i.s&&(R?!B||R[0]!=B[0]:B)?R&&0==R[0]||!B?0*T:T/0:NaN);for(y=(v=new F(T)).c=[],T=s+(u=r.e-i.e)+1,a||(a=h,u=f(r.e/14)-f(i.e/14),T=T/14|0),d=0;B[d]==(R[d]||0);d++);if(B[d]>(R[d]||0)&&u--,T<0)y.push(1),p=!0;else{for(x=R.length,O=B.length,d=0,T+=2,(g=c(a/(B[0]+1)))>1&&(B=e(B,g,a),R=e(R,g,a),O=B.length,x=R.length),k=O,w=(A=R.slice(0,O)).length;w<O;A[w++]=0);j=B.slice(),j=[0].concat(j),S=B[0],B[1]>=a/2&&S++;do{if(g=0,(l=t(B,A,O,w))<0){if(C=A[0],O!=w&&(C=C*a+(A[1]||0)),(g=c(C/S))>1)for(g>=a&&(g=a-1),b=(m=e(B,g,a)).length,w=A.length;1==t(m,A,b,w);)g--,n(m,O<b?j:B,b,a),b=m.length,l=1;else 0==g&&(l=g=1),b=(m=B.slice()).length;if(b<w&&(m=[0].concat(m)),n(A,m,w,a),w=A.length,-1==l)for(;t(B,A,O,w)<1;)g++,n(A,O<w?j:B,w,a),w=A.length}else 0===l&&(g++,A=[0]);y[d++]=g,A[0]?A[w++]=R[k]||0:(A=[R[k]],w=1)}while((k++<x||null!=A[0])&&T--);p=null!=A[0],y[0]||y.splice(0,1)}if(a==h){for(d=1,T=y[0];T>=10;T/=10,d++);q(v,s+(v.e=d+14*u-1)+1,o,p)}else v.e=u,v.r=+p;return v}}(),w=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,k=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,s=n?t:t.replace(S,"");if(x.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(w,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,s=s.replace(C,"$1").replace(k,"0.$1")),t!=s))return new F(s,i);if(F.DEBUG)throw Error(l+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},O.absoluteValue=O.abs=function(){var e=new F(this);return e.s<0&&(e.s=1),e},O.comparedTo=function(e,t){return m(this,new F(e,t))},O.decimalPlaces=O.dp=function(e,t){var n,r,i,s=this;if(null!=e)return b(e,0,p),null==t?t=R:b(t,0,8),q(new F(s),e+s.e+1,t);if(!(n=s.c))return null;if(r=14*((i=n.length-1)-f(this.e/14)),i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},O.dividedBy=O.div=function(e,t){return n(this,new F(e,t),T,R)},O.dividedToIntegerBy=O.idiv=function(e,t){return n(this,new F(e,t),0,1)},O.exponentiatedBy=O.pow=function(e,t){var n,r,i,s,o,u,h,d,p=this;if((e=new F(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+H(e));if(null!=t&&(t=new F(t)),o=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new F(Math.pow(+H(p),o?2-v(e):+H(e))),t?d.mod(t):d;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new F(NaN);(r=!u&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||o&&p.c[1]>=24e7:p.c[0]<8e13||o&&p.c[0]<=9999975e7)))return s=p.s<0&&v(e)?-0:0,p.e>-1&&(s=1/s),new F(u?1/s:s);N&&(s=a(N/14+2))}for(o?(n=new F(.5),u&&(e.s=1),h=v(e)):h=(i=Math.abs(+H(e)))%2,d=new F(j);;){if(h){if(!(d=d.times(p)).c)break;s?d.c.length>s&&(d.c.length=s):r&&(d=d.mod(t))}if(i){if(0===(i=c(i/2)))break;h=i%2}else if(q(e=e.times(n),e.e+1,1),e.e>14)h=v(e);else{if(0===(i=+H(e)))break;h=i%2}p=p.times(p),s?p.c&&p.c.length>s&&(p.c.length=s):r&&(p=p.mod(t))}return r?d:(u&&(d=j.div(d)),t?d.mod(t):s?q(d,N,R,void 0):d)},O.integerValue=function(e){var t=new F(this);return null==e?e=R:b(e,0,8),q(t,t.e+1,e)},O.isEqualTo=O.eq=function(e,t){return 0===m(this,new F(e,t))},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(e,t){return m(this,new F(e,t))>0},O.isGreaterThanOrEqualTo=O.gte=function(e,t){return 1===(t=m(this,new F(e,t)))||0===t},O.isInteger=function(){return!!this.c&&f(this.e/14)>this.c.length-2},O.isLessThan=O.lt=function(e,t){return m(this,new F(e,t))<0},O.isLessThanOrEqualTo=O.lte=function(e,t){return-1===(t=m(this,new F(e,t)))||0===t},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.minus=function(e,t){var n,r,i,s,o=this,a=o.s;if(t=(e=new F(e,t)).s,!a||!t)return new F(NaN);if(a!=t)return e.s=-t,o.plus(e);var c=o.e/14,l=e.e/14,u=o.c,d=e.c;if(!c||!l){if(!u||!d)return u?(e.s=-t,e):new F(d?o:NaN);if(!u[0]||!d[0])return d[0]?(e.s=-t,e):new F(u[0]?o:3==R?-0:0)}if(c=f(c),l=f(l),u=u.slice(),a=c-l){for((s=a<0)?(a=-a,i=u):(l=c,i=d),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(s=(a=u.length)<(t=d.length))?a:t,a=t=0;t<r;t++)if(u[t]!=d[t]){s=u[t]<d[t];break}if(s&&(i=u,u=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=u.length))>0)for(;t--;u[n++]=0);for(t=h-1;r>a;){if(u[--r]<d[r]){for(n=r;n&&!u[--n];u[n]=t);--u[n],u[r]+=h}u[r]-=d[r]}for(;0==u[0];u.splice(0,1),--l);return u[0]?U(e,u,l):(e.s=3==R?-1:1,e.c=[e.e=0],e)},O.modulo=O.mod=function(e,t){var r,i,s=this;return e=new F(e,t),!s.c||!e.s||e.c&&!e.c[0]?new F(NaN):!e.c||s.c&&!s.c[0]?new F(s):(9==M?(i=e.s,e.s=1,r=n(s,e,0,3),e.s=i,r.s*=i):r=n(s,e,0,M),(e=s.minus(r.times(e))).c[0]||1!=M||(e.s=s.s),e)},O.multipliedBy=O.times=function(e,t){var n,r,i,s,o,a,c,l,u,d,p,g,m,b,v=this,y=v.c,A=(e=new F(e,t)).c;if(!(y&&A&&y[0]&&A[0]))return!v.s||!e.s||y&&!y[0]&&!A||A&&!A[0]&&!y?e.c=e.e=e.s=null:(e.s*=v.s,y&&A?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=f(v.e/14)+f(e.e/14),e.s*=v.s,(c=y.length)<(d=A.length)&&(m=y,y=A,A=m,i=c,c=d,d=i),i=c+d,m=[];i--;m.push(0));for(b=h,1e7,i=d;--i>=0;){for(n=0,p=A[i]%1e7,g=A[i]/1e7|0,s=i+(o=c);s>i;)n=((l=p*(l=y[--o]%1e7)+(a=g*l+(u=y[o]/1e7|0)*p)%1e7*1e7+m[s]+n)/b|0)+(a/1e7|0)+g*u,m[s--]=l%b;m[s]=n}return n?++r:m.splice(0,1),U(e,m,r)},O.negated=function(){var e=new F(this);return e.s=-e.s||null,e},O.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new F(e,t)).s,!i||!t)return new F(NaN);if(i!=t)return e.s=-t,r.minus(e);var s=r.e/14,o=e.e/14,a=r.c,c=e.c;if(!s||!o){if(!a||!c)return new F(i/0);if(!a[0]||!c[0])return c[0]?e:new F(a[0]?r:0*i)}if(s=f(s),o=f(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=c.length)<0&&(n=c,c=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/h|0,a[t]=h===a[t]?0:a[t]%h;return i&&(a=[i].concat(a),++o),U(e,a,o)},O.precision=O.sd=function(e,t){var n,r,i,s=this;if(null!=e&&e!==!!e)return b(e,1,p),null==t?t=R:b(t,0,8),q(new F(s),e,t);if(!(n=s.c))return null;if(r=14*(i=n.length-1)+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&s.e+1>r&&(r=s.e+1),r},O.shiftedBy=function(e){return b(e,-9007199254740991,9007199254740991),this.times("1e"+e)},O.squareRoot=O.sqrt=function(){var e,t,r,i,s,o=this,a=o.c,c=o.s,l=o.e,u=T+4,h=new F("0.5");if(1!==c||!a||!a[0])return new F(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(c=Math.sqrt(+H(o)))||c==1/0?(((t=g(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),r=new F(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new F(c+""),r.c[0])for((c=(l=r.e)+u)<3&&(c=0);;)if(s=r,r=h.times(s.plus(n(o,s,u,1))),g(s.c).slice(0,c)===(t=g(r.c)).slice(0,c)){if(r.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(r,r.e+T+2,1),e=!r.times(r).eq(o));break}if(!i&&(q(s,s.e+T+2,0),s.times(s).eq(o))){r=s;break}u+=4,c+=4,i=1}return q(r,r.e+T+1,R,e)},O.toExponential=function(e,t){return null!=e&&(b(e,0,p),e++),L(this,e,t,1)},O.toFixed=function(e,t){return null!=e&&(b(e,0,p),e=e+this.e+1),L(this,e,t)},O.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=V;else if("object"!=typeof n)throw Error(l+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var s,o=r.split("."),a=+n.groupSize,c=+n.secondaryGroupSize,u=n.groupSeparator||"",h=o[0],d=o[1],p=i.s<0,f=p?h.slice(1):h,g=f.length;if(c&&(s=a,a=c,c=s,g-=s),a>0&&g>0){for(s=g%a||a,h=f.substr(0,s);s<g;s+=a)h+=u+f.substr(s,a);c>0&&(h+=u+f.slice(s)),p&&(h="-"+h)}r=d?h+(n.decimalSeparator||"")+((c=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):h}return(n.prefix||"")+r+(n.suffix||"")},O.toFraction=function(e){var t,r,i,s,o,a,c,u,h,p,f,m,b=this,v=b.c;if(null!=e&&(!(c=new F(e)).isInteger()&&(c.c||1!==c.s)||c.lt(j)))throw Error(l+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+H(c));if(!v)return new F(b);for(t=new F(j),h=r=new F(j),i=u=new F(j),m=g(v),o=t.e=m.length-b.e-1,t.c[0]=d[(a=o%14)<0?14+a:a],e=!e||c.comparedTo(t)>0?o>0?t:h:c,a=P,P=1/0,c=new F(m),u.c[0]=0;p=n(c,t,0,1),1!=(s=r.plus(p.times(i))).comparedTo(e);)r=i,i=s,h=u.plus(p.times(s=h)),u=s,t=c.minus(p.times(s=t)),c=s;return s=n(e.minus(r),i,0,1),u=u.plus(s.times(h)),r=r.plus(s.times(i)),u.s=h.s=b.s,f=n(h,i,o*=2,R).minus(b).abs().comparedTo(n(u,r,o,R).minus(b).abs())<1?[h,i]:[u,r],P=a,f},O.toNumber=function(){return+H(this)},O.toPrecision=function(e,t){return null!=e&&b(e,1,p),L(this,e,t,2)},O.toString=function(e){var t,n=this,i=n.s,s=n.e;return null===s?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=s<=B||s>=I?y(g(n.c),s):A(g(n.c),s,"0"):10===e?t=A(g((n=q(new F(n),T+s+1,R)).c),n.e,"0"):(b(e,2,$.length,"Base"),t=r(A(g(n.c),s,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},O.valueOf=O.toJSON=function(){return H(this)},O._isBigNumber=!0,null!=t&&F.set(t),F}()).default=s.BigNumber=s,void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(0),i=n(1);i.a,i.b,i.c,i.d,i.e,i.f,i.g,i.j,i.m,i.n,i.q,i.r,i.s,i.t,i.C,i.D,i.X,i.eb,i.fb,i.ib,i.tb,i.vb,i.xb,i.yb;r.j;function s(e){const t=o[e];return void 0!==t?t:function(e){return{level:4,message:`Attempted to report with unknown code ${e}.`}}(e)}const o={0:{level:3,message:"Cannot add observers to object."},1:{level:3,message:"Cannot observe property of object."},2:{level:2,message:"Starting application in debug mode."},3:{level:4,message:"Runtime expression compilation is only available when including JIT support."},4:{level:4,message:"Invalid animation direction."},5:{level:4,message:"key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?"},6:{level:4,message:"Invalid resolver strategy specified."},7:{level:4,message:"Constructor Parameter with index cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?"},8:{level:4,message:"Self binding behavior only supports events."},9:{level:4,message:"The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">"},10:{level:4,message:"The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements."},11:{level:4,message:"Only property bindings and string interpolation bindings can be signaled. Trigger, delegate and call bindings cannot be signaled."},12:{level:4,message:"Signal name is required."},14:{level:4,message:"Property cannot be assigned."},15:{level:4,message:"Unexpected call context."},16:{level:4,message:"A dependency registration is missing for the interface %s."},17:{level:4,message:"You can only define one default implementation for an interface."},18:{level:4,message:"You cannot observe a setter only property."},19:{level:4,message:"Value for expression is non-repeatable."},20:{level:4,message:"No template compiler found with the specified name. JIT support or a custom compiler is required."},21:{level:4,message:"You cannot combine the containerless custom element option with Shadow DOM."},22:{level:4,message:"A containerless custom element cannot be the root component of an application."},30:{level:4,message:"There are more targets than there are target instructions."},31:{level:4,message:"There are more target instructions than there are targets."},100:{level:4,message:"Invalid start of expression."},101:{level:4,message:"Unconsumed token."},102:{level:4,message:"Double dot and spread operators are not supported."},103:{level:4,message:"Invalid member expression."},104:{level:4,message:"Unexpected end of expression."},105:{level:4,message:"Expected identifier."},106:{level:4,message:'Invalid BindingIdentifier at left hand side of "of".'},107:{level:4,message:"Invalid or unsupported property definition in object literal."},108:{level:4,message:"Unterminated quote in string literal."},109:{level:4,message:"Unterminated template string."},110:{level:4,message:"Missing expected token."},111:{level:4,message:"Unexpected character."},150:{level:4,message:"Left hand side of expression is not assignable."},151:{level:4,message:'Unexpected keyword "of"'},401:{level:3,message:"AttributePattern is missing a handler for '%s'."},402:{level:3,message:"AttributePattern handler for '%s' is not a function."},800:{level:4,message:"Property '%s' is being dirty-checked."},801:{level:3,message:"Property '%s' is being dirty-checked."},2e3:{level:4,message:"Router has not been activated."},2001:{level:4,message:"Router has already been activated."},2002:{level:4,message:"Failed to resolve all viewports."},2003:{level:4,message:"Browser navigation has already been activated."},2004:{level:4,message:"LinkHandler has already been activated."},1001:{level:2,message:"DOM already initialized. Destroying and re-initializing.."},1e4:{level:1,message:"%s"}},a={objName:"marker",methodName:"noop",params:r.g.emptyArray,depth:-1,prev:null,next:null};let c=(()=>{class e{constructor(t,n,r){this.objName=t,this.methodName=n,this.params=r,this.objName=t,this.methodName=n,this.depth=e.stack.length,this.params=r,this.next=a,this.prev=e.tail,e.tail.next=this,e.tail=this,e.stack.push(this)}static reset(){let t=e.head,n=null;for(;null!=t;)n=t.next,t.next=null,t.prev=null,t.params=null,t=n;e.head=a,e.tail=a,e.stack=[]}static enter(t,n,r){return new e(t,n,r)}static leave(){return e.stack.pop()}}return e.head=a,e.tail=a,e.stack=[],e})();r.k;const l={rendering:!0,binding:!0,observation:!0,attaching:!0,mounting:!0,di:!0,lifecycle:!0,jit:!0};const u=Object.prototype.toString;function h(e,t=0){return null!=e.params&&e.params.length>t?function(e){const t=[];128&e&&t.push("mustEvaluate");8&e&&t.push("updateTargetInstance");16&e&&t.push("updateSourceExpression");32&e&&t.push("fromBind");64&e&&t.push("fromUnbind");256&e&&t.push("isTraversingParentScope");1024&e&&t.push("allowParentScopeTraversal");1&e&&t.push("getterSetterStrategy");2&e&&t.push("proxyStrategy");16384&e&&t.push("secondaryExpression");if(0===t.length)return"none";return t.join("|")}(e.params[t]):"none"}function d(e){let t;return t=void 0===e?"undefined":null===e?"null":void 0!==e.constructor?e.constructor.description?`Resource{'${e.constructor.description.name}'}`:e.constructor.name:"string"==typeof e?`'${e}'`:u.call(e),t}function p(e,t=0){return null!=e.params&&e.params.length>t?d(e.params[t]):"undefined"}function f(e,t=0){let n;if(null!=e.params&&e.params.length>t){const r=e.params[t];return n=null!=r&&null!=r.bindingContext?d(r.bindingContext):"undefined",`Scope{${n}}`}return"undefined"}function g(e,t=0){if(null!=e.params&&e.params.length>t){const n=e.params[t];return"string"==typeof n?`'${n}'`:void 0!==n&&Reflect.has(n,"friendlyName")?n.friendlyName:d(n)}return"undefined"}function m(e,t=0){if(null!=e.params&&e.params.length>t){const n=e.params[t];return"string"==typeof n?`'${n}'`:n.toString()}return"undefined"}const b={$hydrate:e=>h(e),render:e=>`${h(e)},IDOM,IContainer,${p(e,3)}`,addBinding:e=>`${p(e)},${p(e,1)}`,addComponent:e=>`${p(e)},${p(e,1)}`},v={$bind:e=>h(e),$unbind:e=>h(e),connect:e=>h(e),constructor(e){switch(e.objName){case"ArrayObserver":case"MapObserver":case"SetObserver":return h(e);case"SetterObserver":case"BindableObserver":return`${h(e)},${p(e,1)},${m(e,2)}`;case"ProxyObserver":return p(e);case"ProxySubscriberCollection":case"DirtyCheckProperty":return`${p(e,1)},${m(e,2)}`;case"PrimitiveObserver":case"PropertyAccessor":return`${p(e)},${m(e,1)}`;default:return""}},lockedBind:e=>h(e),lockedUnbind:e=>h(e),InternalObserversLookup:e=>`${h(e)},${p(e,1)},${m(e,2)}`,BindingContext(e){switch(e.methodName){case"get":return`${f(e)},${m(e,1)},${m(e,2)},${h(e,3)}`;case"getObservers":return h(e);default:return"unknown"}},Scope(e){switch(e.methodName){case"create":return`${h(e)},${p(e,1)},${p(e,2)}`;case"fromOverride":return`${h(e)},${p(e,1)}`;case"fromParent":return`${h(e)},${f(e,1)},${p(e,2)}`;default:return"unknown"}},OverrideContext(e){switch(e.methodName){case"create":return`${h(e)},${p(e,1)},${p(e,2)}`;case"getObservers":return"";default:return"unknown"}}},y={callSource(e){const t=[];switch(e.objName){case"Listener":return e.params[0].type;case"CallBinding":if(null!=e.params)for(let n=0,r=e.params.length;n<r;++n)t.push(p(e,n));return t.join(",");default:return"unknown"}},setValue(e){let t;const n=e.params[0];switch(typeof n){case"undefined":t="undefined";break;case"object":t=null===n?"null":d(n);break;case"string":t=`'${n}'`;break;case"number":t=n.toString();break;default:t=d(n)}return`${t},${h(e,1)}`},flush:e=>h(e),handleChange:e=>`${m(e)},${m(e,1)},${h(e,2)}`,lockScope:e=>f(e)},A={$attach:e=>h(e),$detach:e=>h(e),$cache:e=>h(e),setLocation:e=>`Node{'${e.params[0].textContent}'}`},w={project:e=>p(e),take:e=>p(e)},C={construct:e=>p(e),Container(e){const t=[];switch(e.methodName){case"get":case"getAll":return g(e);case"register":if(null!=e.params)for(let n=0,r=e.params.length;n<r;++n)t.push(g(e,n));return t.join(",");case"createChild":return"";default:return"unknown"}}},k={Lifecycle(e){switch(e.methodName.slice(0,3)){case"beg":return"";case"enq":return p(e);case"end":case"pro":return h(e);default:return"unknown"}},CompositionCoordinator(e){switch(e.methodName){case"enqueue":return"IController";case"swap":return"IController,"+h(e,1);case"processNext":return"";default:return"unknown"}},AggregateLifecycleTask(e){switch(e.methodName){case"addTask":case"removeTask":return p(e);case"complete":return""+m(e,2);default:return"unknown"}}},x={TemplateBinder:e=>""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),i=n(1),s=n(2),o=n(3);function a(e,t){let n=o.c.get(r.g.global);return void 0===n&&o.c.set(r.g.global,n=new o.c(e.get(o.b),{create(e){let t=!1,n=!1;const r=Promise.resolve();function i(){n?n=!1:(t=!1,e.flush())}return{request(){t||(n=!1,t=!0,r.then(i))},cancel(){n=!0,t=!1}}}},function(e){return{create(t){let n=-1;function r(){n>-1&&(n=-1,t.flush())}return{cancel(){n>-1&&(e.cancelAnimationFrame(n),n=-1)},request(){-1===n&&(n=e.requestAnimationFrame(r))}}}}}(t),function(e){return{create(t){let n=-1;function r(){n>-1&&(n=-1,t.flush())}return{cancel(){n>-1&&(e.clearTimeout(n),n=-1)},request(){-1===n&&(n=e.setTimeout(r,0))}}}}}(t),function(e){return{create(t){let n=-1,r=-1;function i(){r>-1&&(r=-1,t.flush())}function s(){n>-1&&(n=-1,-1===r&&(r=e.setTimeout(i,0)))}return{cancel(){n>-1&&(e.cancelAnimationFrame(n),n=-1),r>-1&&(e.clearTimeout(r),r=-1)},request(){-1===n&&(n=e.requestAnimationFrame(s))}}}}}(t),function(e){return{create(t){let n=-1;function i(){n>-1&&(n=-1,t.flush())}return"function"==typeof e.requestIdleCallback&&Object(r.v)(e.requestIdleCallback)?{cancel(){n>-1&&(e.cancelIdleCallback(n),n=-1)},request(){-1===n&&(n=e.requestIdleCallback(i))}}:{cancel(){n>-1&&(e.clearTimeout(n),n=-1)},request(){-1===n&&(n=e.setTimeout(i,45))}}}}}(t))),n}var c=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t){return function(n,r){t(n,r,e)}};const h=[(()=>{let e=class{constructor(e){this.container=e}static register(e){return r.i.singleton(i.K,this).register(e)}initialize(e){if(this.container.has(i.J,!1))return this.container.get(i.J);let t;return t=void 0!==e?void 0!==e.dom?e.dom:null!==e.host.ownerDocument?new s.b(window,e.host.ownerDocument,Node,Element,HTMLElement,CustomEvent,CSSStyleSheet,ShadowRoot):new s.b(window,document,Node,Element,HTMLElement,CustomEvent,CSSStyleSheet,ShadowRoot):new s.b(window,document,Node,Element,HTMLElement,CustomEvent,CSSStyleSheet,ShadowRoot),r.i.instance(i.J,t).register(this.container),r.i.instance(i.R,a(this.container,window)).register(this.container),t}};return e=c([u(0,r.b),l("design:paramtypes",[Object])],e),e})()],d={register:e=>s.g.register(e).register(...h),createContainer(){return this.register(r.a.createContainer())}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),s=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([i]).join("\n")}var o,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));n(6);var r=n(7),i=n(0),s=n(1);function o(){const t=new a;return t.register(r.a),void 0!==e&&e.env,t}class a extends s.i{constructor(e=i.a.createContainer()){super(e)}static start(e){return o().start(e)}static app(e){return o().app(e)}static enhance(e){return o().enhance(e)}static register(...e){return o().register(...e)}app(e){if(s.x.isType(e)){const t=s.x.getDefinition(e);let n=document.querySelector(t.name);return null===n&&(n=document.body),super.app({host:n,component:e})}return super.app(e)}}}).call(this,n(10))},function(e,t){var n,r,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,h=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var e=a(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},r=[],i=0;i<e.length;i++){var s=e[i],c=t.base?s[0]+t.base:s[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var h=a(u),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==h?(o[h].references++,o[h].updater(d)):o.push({identifier:u,updater:m(d,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=s(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,h=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function p(e,t,n){var r=n.css,i=n.media,s=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,g=0;function m(e,t){var n,r,i;if(t.singleton){var s=g++;n=f||(f=l(t)),r=d.bind(null,n,s,!1),i=d.bind(null,n,s,!0)}else n=l(t),r=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var s=c(e,t),l=0;l<n.length;l++){var u=a(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=s}}}},function(e,t,n){var r=n(11),i=n(16);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1};r(i,s);e.exports=i.locals||{}},function(e,t,n){
/* flatpickr v4.6.6, @license MIT */
e.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(){return(e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],r={_disable:[],_enable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},i={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},s=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},o=function(e){return!0===e?1:0};function a(e,t,n){var r;return void 0===n&&(n=!1),function(){var i=this,s=arguments;null!==r&&clearTimeout(r),r=window.setTimeout((function(){r=null,n||e.apply(i,s)}),t),n&&!r&&e.apply(i,s)}}var c=function(e){return e instanceof Array?e:[e]};function l(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function u(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function h(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e,t){var n=u("div","numInputWrapper"),r=u("input","numInput "+e),i=u("span","arrowUp"),s=u("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==t)for(var o in t)r.setAttribute(o,t[o]);return n.appendChild(r),n.appendChild(i),n.appendChild(s),n}function p(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var f=function(){},g=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},m={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*o(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var r=parseInt(t),i=new Date(e.getFullYear(),0,2+7*(r-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},b={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},v={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[v.w(e,t,n)]},F:function(e,t,n){return g(v.n(e,t,n)-1,!1,t)},G:function(e,t,n){return s(v.h(e,t,n))},H:function(e){return s(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[o(e.getHours()>11)]},M:function(e,t){return g(e.getMonth(),!0,t)},S:function(e){return s(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return s(e.getFullYear(),4)},d:function(e){return s(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return s(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return s(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},y=function(e){var t=e.config,n=void 0===t?r:t,s=e.l10n,o=void 0===s?i:s,a=e.isMobile,c=void 0!==a&&a;return function(e,t,r){var i=r||o;return void 0===n.formatDate||c?t.split("").map((function(t,r,s){return v[t]&&"\\"!==s[r-1]?v[t](e,i,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,i)}},A=function(e){var t=e.config,n=void 0===t?r:t,s=e.l10n,o=void 0===s?i:s;return function(e,t,i,s){if(0===e||e){var a,c=s||o,l=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var u=t||(n||r).dateFormat,h=String(e).trim();if("today"===h)a=new Date,i=!0;else if(/Z$/.test(h)||/GMT$/.test(h))a=new Date(e);else if(n&&n.parseDate)a=n.parseDate(e,u);else{a=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d=void 0,p=[],f=0,g=0,v="";f<u.length;f++){var y=u[f],A="\\"===y,w="\\"===u[f-1]||A;if(b[y]&&!w){v+=b[y];var C=new RegExp(v).exec(e);C&&(d=!0)&&p["Y"!==y?"push":"unshift"]({fn:m[y],val:C[++g]})}else A||(v+=".");p.forEach((function(e){var t=e.fn,n=e.val;return a=t(a,n,c)||a}))}a=d?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===i&&a.setHours(0,0,0,0),a;n.errorHandler(new Error("Invalid date provided: "+l))}}};function w(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var C=864e5;function k(f,m){var v={config:e(e({},r),S.defaultConfig),l10n:i};function k(e){return e.bind(v)}function x(){var e=v.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==v.calendarContainer&&(v.calendarContainer.style.visibility="hidden",v.calendarContainer.style.display="block"),void 0!==v.daysContainer){var t=(v.days.offsetWidth+1)*e.showMonths;v.daysContainer.style.width=t+"px",v.calendarContainer.style.width=t+(void 0!==v.weekWrapper?v.weekWrapper.offsetWidth:0)+"px",v.calendarContainer.style.removeProperty("visibility"),v.calendarContainer.style.removeProperty("display")}}))}function O(e){if(0===v.selectedDates.length){var t=void 0!==v.config.minDate?new Date(v.config.minDate.getTime()):new Date,n=R(),r=n.hours,i=n.minutes,a=n.seconds;t.setHours(r,i,a,0),v.setDate(t,!1)}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=p(e),r=n;void 0!==v.amPM&&n===v.amPM&&(v.amPM.textContent=v.l10n.amPM[o(v.amPM.textContent===v.l10n.amPM[0])]);var i=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),c=parseFloat(r.getAttribute("step")),l=parseInt(r.value,10),u=e.delta||(t?38===e.which?1:-1:0),h=l+c*u;if(void 0!==r.value&&2===r.value.length){var d=r===v.hourElement,f=r===v.minuteElement;h<i?(h=a+h+o(!d)+(o(d)&&o(!v.amPM)),f&&N(void 0,-1,v.hourElement)):h>a&&(h=r===v.hourElement?h-a-o(!v.amPM):i,f&&N(void 0,1,v.hourElement)),v.amPM&&d&&(1===c?h+l===23:Math.abs(h-l)>c)&&(v.amPM.textContent=v.l10n.amPM[o(v.amPM.textContent===v.l10n.amPM[0])]),r.value=s(h)}}(e);var c=v._input.value;j(),ye(),v._input.value!==c&&v._debouncedChange()}function j(){if(void 0!==v.hourElement&&void 0!==v.minuteElement){var e,t,n=(parseInt(v.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(v.minuteElement.value,10)||0)%60,i=void 0!==v.secondElement?(parseInt(v.secondElement.value,10)||0)%60:0;void 0!==v.amPM&&(e=n,t=v.amPM.textContent,n=e%12+12*o(t===v.l10n.amPM[1]));var s=void 0!==v.config.minTime||v.config.minDate&&v.minDateHasTime&&v.latestSelectedDateObj&&0===w(v.latestSelectedDateObj,v.config.minDate,!0);if(void 0!==v.config.maxTime||v.config.maxDate&&v.maxDateHasTime&&v.latestSelectedDateObj&&0===w(v.latestSelectedDateObj,v.config.maxDate,!0)){var a=void 0!==v.config.maxTime?v.config.maxTime:v.config.maxDate;(n=Math.min(n,a.getHours()))===a.getHours()&&(r=Math.min(r,a.getMinutes())),r===a.getMinutes()&&(i=Math.min(i,a.getSeconds()))}if(s){var c=void 0!==v.config.minTime?v.config.minTime:v.config.minDate;(n=Math.max(n,c.getHours()))===c.getHours()&&(r=Math.max(r,c.getMinutes())),r===c.getMinutes()&&(i=Math.max(i,c.getSeconds()))}B(n,r,i)}}function T(e){var t=e||v.latestSelectedDateObj;t&&B(t.getHours(),t.getMinutes(),t.getSeconds())}function R(){var e=v.config.defaultHour,t=v.config.defaultMinute,n=v.config.defaultSeconds;if(void 0!==v.config.minDate){var r=v.config.minDate.getHours(),i=v.config.minDate.getMinutes();(e=Math.max(e,r))===r&&(t=Math.max(i,t)),e===r&&t===i&&(n=v.config.minDate.getSeconds())}if(void 0!==v.config.maxDate){var s=v.config.maxDate.getHours(),o=v.config.maxDate.getMinutes();(e=Math.min(e,s))===s&&(t=Math.min(o,t)),e===s&&t===o&&(n=v.config.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}function B(e,t,n){void 0!==v.latestSelectedDateObj&&v.latestSelectedDateObj.setHours(e%24,t,n||0,0),v.hourElement&&v.minuteElement&&!v.isMobile&&(v.hourElement.value=s(v.config.time_24hr?e:(12+e)%12+12*o(e%12==0)),v.minuteElement.value=s(t),void 0!==v.amPM&&(v.amPM.textContent=v.l10n.amPM[o(e>=12)]),void 0!==v.secondElement&&(v.secondElement.value=s(n)))}function I(e){var t=p(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&J(n)}function E(e,t,n,r){return t instanceof Array?t.forEach((function(t){return E(e,t,n,r)})):e instanceof Array?e.forEach((function(e){return E(e,t,n,r)})):(e.addEventListener(t,n,r),void v._handlers.push({element:e,event:t,handler:n,options:r}))}function P(){fe("onChange")}function D(e,t){var n=void 0!==e?v.parseDate(e):v.latestSelectedDateObj||(v.config.minDate&&v.config.minDate>v.now?v.config.minDate:v.config.maxDate&&v.config.maxDate<v.now?v.config.maxDate:v.now),r=v.currentYear,i=v.currentMonth;try{void 0!==n&&(v.currentYear=n.getFullYear(),v.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,v.config.errorHandler(e)}t&&v.currentYear!==r&&(fe("onYearChange"),q()),!t||v.currentYear===r&&v.currentMonth===i||fe("onMonthChange"),v.redraw()}function M(e){var t=p(e);~t.className.indexOf("arrow")&&N(e,t.classList.contains("arrowUp")?1:-1)}function N(e,t,n){var r=e&&p(e),i=n||r&&r.parentNode&&r.parentNode.firstChild,s=ge("increment");s.delta=t,i&&i.dispatchEvent(s)}function V(e,t,n,r){var i=Z(t,!0),s=u("span","flatpickr-day "+e,t.getDate().toString());return s.dateObj=t,s.$i=r,s.setAttribute("aria-label",v.formatDate(t,v.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===w(t,v.now)&&(v.todayDateElem=s,s.classList.add("today"),s.setAttribute("aria-current","date")),i?(s.tabIndex=-1,me(t)&&(s.classList.add("selected"),v.selectedDateElem=s,"range"===v.config.mode&&(l(s,"startRange",v.selectedDates[0]&&0===w(t,v.selectedDates[0],!0)),l(s,"endRange",v.selectedDates[1]&&0===w(t,v.selectedDates[1],!0)),"nextMonthDay"===e&&s.classList.add("inRange")))):s.classList.add("flatpickr-disabled"),"range"===v.config.mode&&function(e){return!("range"!==v.config.mode||v.selectedDates.length<2)&&w(e,v.selectedDates[0])>=0&&w(e,v.selectedDates[1])<=0}(t)&&!me(t)&&s.classList.add("inRange"),v.weekNumbers&&1===v.config.showMonths&&"prevMonthDay"!==e&&n%7==1&&v.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+v.config.getWeek(t)+"</span>"),fe("onDayCreate",s),s}function $(e){e.focus(),"range"===v.config.mode&&ne(e)}function F(e){for(var t=e>0?0:v.config.showMonths-1,n=e>0?v.config.showMonths:-1,r=t;r!=n;r+=e)for(var i=v.daysContainer.children[r],s=e>0?0:i.children.length-1,o=e>0?i.children.length:-1,a=s;a!=o;a+=e){var c=i.children[a];if(-1===c.className.indexOf("hidden")&&Z(c.dateObj))return c}}function L(e,t){var n=X(document.activeElement||document.body),r=void 0!==e?e:n?document.activeElement:void 0!==v.selectedDateElem&&X(v.selectedDateElem)?v.selectedDateElem:void 0!==v.todayDateElem&&X(v.todayDateElem)?v.todayDateElem:F(t>0?1:-1);void 0===r?v._input.focus():n?function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():v.currentMonth,r=t>0?v.config.showMonths:-1,i=t>0?1:-1,s=n-v.currentMonth;s!=r;s+=i)for(var o=v.daysContainer.children[s],a=n-v.currentMonth===s?e.$i+t:t<0?o.children.length-1:0,c=o.children.length,l=a;l>=0&&l<c&&l!=(t>0?c:-1);l+=i){var u=o.children[l];if(-1===u.className.indexOf("hidden")&&Z(u.dateObj)&&Math.abs(e.$i-l)>=Math.abs(t))return $(u)}v.changeMonth(i),L(F(i),0)}(r,t):$(r)}function _(e,t){for(var n=(new Date(e,t,1).getDay()-v.l10n.firstDayOfWeek+7)%7,r=v.utils.getDaysInMonth((t-1+12)%12,e),i=v.utils.getDaysInMonth(t,e),s=window.document.createDocumentFragment(),o=v.config.showMonths>1,a=o?"prevMonthDay hidden":"prevMonthDay",c=o?"nextMonthDay hidden":"nextMonthDay",l=r+1-n,h=0;l<=r;l++,h++)s.appendChild(V(a,new Date(e,t-1,l),l,h));for(l=1;l<=i;l++,h++)s.appendChild(V("",new Date(e,t,l),l,h));for(var d=i+1;d<=42-n&&(1===v.config.showMonths||h%7!=0);d++,h++)s.appendChild(V(c,new Date(e,t+1,d%i),d,h));var p=u("div","dayContainer");return p.appendChild(s),p}function U(){if(void 0!==v.daysContainer){h(v.daysContainer),v.weekNumbers&&h(v.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<v.config.showMonths;t++){var n=new Date(v.currentYear,v.currentMonth,1);n.setMonth(v.currentMonth+t),e.appendChild(_(n.getFullYear(),n.getMonth()))}v.daysContainer.appendChild(e),v.days=v.daysContainer.firstChild,"range"===v.config.mode&&1===v.selectedDates.length&&ne()}}function q(){if(!(v.config.showMonths>1||"dropdown"!==v.config.monthSelectorType)){var e=function(e){return!(void 0!==v.config.minDate&&v.currentYear===v.config.minDate.getFullYear()&&e<v.config.minDate.getMonth()||void 0!==v.config.maxDate&&v.currentYear===v.config.maxDate.getFullYear()&&e>v.config.maxDate.getMonth())};v.monthsDropdownContainer.tabIndex=-1,v.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var n=u("option","flatpickr-monthDropdown-month");n.value=new Date(v.currentYear,t).getMonth().toString(),n.textContent=g(t,v.config.shorthandCurrentMonth,v.l10n),n.tabIndex=-1,v.currentMonth===t&&(n.selected=!0),v.monthsDropdownContainer.appendChild(n)}}}function H(){var e,t=u("div","flatpickr-month"),n=window.document.createDocumentFragment();v.config.showMonths>1||"static"===v.config.monthSelectorType?e=u("span","cur-month"):(v.monthsDropdownContainer=u("select","flatpickr-monthDropdown-months"),v.monthsDropdownContainer.setAttribute("aria-label",v.l10n.monthAriaLabel),E(v.monthsDropdownContainer,"change",(function(e){var t=p(e),n=parseInt(t.value,10);v.changeMonth(n-v.currentMonth),fe("onMonthChange")})),q(),e=v.monthsDropdownContainer);var r=d("cur-year",{tabindex:"-1"}),i=r.getElementsByTagName("input")[0];i.setAttribute("aria-label",v.l10n.yearAriaLabel),v.config.minDate&&i.setAttribute("min",v.config.minDate.getFullYear().toString()),v.config.maxDate&&(i.setAttribute("max",v.config.maxDate.getFullYear().toString()),i.disabled=!!v.config.minDate&&v.config.minDate.getFullYear()===v.config.maxDate.getFullYear());var s=u("div","flatpickr-current-month");return s.appendChild(e),s.appendChild(r),n.appendChild(s),t.appendChild(n),{container:t,yearElement:i,monthElement:e}}function z(){h(v.monthNav),v.monthNav.appendChild(v.prevMonthNav),v.config.showMonths&&(v.yearElements=[],v.monthElements=[]);for(var e=v.config.showMonths;e--;){var t=H();v.yearElements.push(t.yearElement),v.monthElements.push(t.monthElement),v.monthNav.appendChild(t.container)}v.monthNav.appendChild(v.nextMonthNav)}function W(){v.weekdayContainer?h(v.weekdayContainer):v.weekdayContainer=u("div","flatpickr-weekdays");for(var e=v.config.showMonths;e--;){var t=u("div","flatpickr-weekdaycontainer");v.weekdayContainer.appendChild(t)}return K(),v.weekdayContainer}function K(){if(v.weekdayContainer){var e=v.l10n.firstDayOfWeek,n=t(v.l10n.weekdays.shorthand);e>0&&e<n.length&&(n=t(n.splice(e,n.length),n.splice(0,e)));for(var r=v.config.showMonths;r--;)v.weekdayContainer.children[r].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+n.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Y(e,t){void 0===t&&(t=!0);var n=t?e:e-v.currentMonth;n<0&&!0===v._hidePrevMonthArrow||n>0&&!0===v._hideNextMonthArrow||(v.currentMonth+=n,(v.currentMonth<0||v.currentMonth>11)&&(v.currentYear+=v.currentMonth>11?1:-1,v.currentMonth=(v.currentMonth+12)%12,fe("onYearChange"),q()),U(),fe("onMonthChange"),be())}function Q(e){return!(!v.config.appendTo||!v.config.appendTo.contains(e))||v.calendarContainer.contains(e)}function G(e){if(v.isOpen&&!v.config.inline){var t=p(e),n=Q(t),r=t===v.input||t===v.altInput||v.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(v.input)||~e.path.indexOf(v.altInput)),i="blur"===e.type?r&&e.relatedTarget&&!Q(e.relatedTarget):!r&&!n&&!Q(e.relatedTarget),s=!v.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&s&&(void 0!==v.timeContainer&&void 0!==v.minuteElement&&void 0!==v.hourElement&&""!==v.input.value&&void 0!==v.input.value&&O(),v.close(),v.config&&"range"===v.config.mode&&1===v.selectedDates.length&&(v.clear(!1),v.redraw()))}}function J(e){if(!(!e||v.config.minDate&&e<v.config.minDate.getFullYear()||v.config.maxDate&&e>v.config.maxDate.getFullYear())){var t=e,n=v.currentYear!==t;v.currentYear=t||v.currentYear,v.config.maxDate&&v.currentYear===v.config.maxDate.getFullYear()?v.currentMonth=Math.min(v.config.maxDate.getMonth(),v.currentMonth):v.config.minDate&&v.currentYear===v.config.minDate.getFullYear()&&(v.currentMonth=Math.max(v.config.minDate.getMonth(),v.currentMonth)),n&&(v.redraw(),fe("onYearChange"),q())}}function Z(e,t){void 0===t&&(t=!0);var n=v.parseDate(e,void 0,t);if(v.config.minDate&&n&&w(n,v.config.minDate,void 0!==t?t:!v.minDateHasTime)<0||v.config.maxDate&&n&&w(n,v.config.maxDate,void 0!==t?t:!v.maxDateHasTime)>0)return!1;if(0===v.config.enable.length&&0===v.config.disable.length)return!0;if(void 0===n)return!1;for(var r=v.config.enable.length>0,i=r?v.config.enable:v.config.disable,s=0,o=void 0;s<i.length;s++){if("function"==typeof(o=i[s])&&o(n))return r;if(o instanceof Date&&void 0!==n&&o.getTime()===n.getTime())return r;if("string"==typeof o&&void 0!==n){var a=v.parseDate(o,void 0,!0);return a&&a.getTime()===n.getTime()?r:!r}if("object"==typeof o&&void 0!==n&&o.from&&o.to&&n.getTime()>=o.from.getTime()&&n.getTime()<=o.to.getTime())return r}return!r}function X(e){return void 0!==v.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&v.daysContainer.contains(e)}function ee(e){e.target!==v._input||e.relatedTarget&&Q(e.relatedTarget)||v.setDate(v._input.value,!0,e.target===v.altInput?v.config.altFormat:v.config.dateFormat)}function te(e){var t=p(e),n=v.config.wrap?f.contains(t):t===v._input,r=v.config.allowInput,i=v.isOpen&&(!r||!n),s=v.config.inline&&n&&!r;if(13===e.keyCode&&n){if(r)return v.setDate(v._input.value,!0,t===v.altInput?v.config.altFormat:v.config.dateFormat),t.blur();v.open()}else if(Q(t)||i||s){var o=!!v.timeContainer&&v.timeContainer.contains(t);switch(e.keyCode){case 13:o?(e.preventDefault(),O(),le()):ue(e);break;case 27:e.preventDefault(),le();break;case 8:case 46:n&&!v.config.allowInput&&(e.preventDefault(),v.clear());break;case 37:case 39:if(o||n)v.hourElement&&v.hourElement.focus();else if(e.preventDefault(),void 0!==v.daysContainer&&(!1===r||document.activeElement&&X(document.activeElement))){var a=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Y(a),L(F(1),0)):L(void 0,a)}break;case 38:case 40:e.preventDefault();var c=40===e.keyCode?1:-1;v.daysContainer&&void 0!==t.$i||t===v.input||t===v.altInput?e.ctrlKey?(e.stopPropagation(),J(v.currentYear-c),L(F(1),0)):o||L(void 0,7*c):t===v.currentYearElement?J(v.currentYear-c):v.config.enableTime&&(!o&&v.hourElement&&v.hourElement.focus(),O(e),v._debouncedChange());break;case 9:if(o){var l=[v.hourElement,v.minuteElement,v.secondElement,v.amPM].concat(v.pluginElements).filter((function(e){return e})),u=l.indexOf(t);if(-1!==u){var h=l[u+(e.shiftKey?-1:1)];e.preventDefault(),(h||v._input).focus()}}else!v.config.noCalendar&&v.daysContainer&&v.daysContainer.contains(t)&&e.shiftKey&&(e.preventDefault(),v._input.focus())}}if(void 0!==v.amPM&&t===v.amPM)switch(e.key){case v.l10n.amPM[0].charAt(0):case v.l10n.amPM[0].charAt(0).toLowerCase():v.amPM.textContent=v.l10n.amPM[0],j(),ye();break;case v.l10n.amPM[1].charAt(0):case v.l10n.amPM[1].charAt(0).toLowerCase():v.amPM.textContent=v.l10n.amPM[1],j(),ye()}(n||Q(t))&&fe("onKeyDown",e)}function ne(e){if(1===v.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():v.days.firstElementChild.dateObj.getTime(),n=v.parseDate(v.selectedDates[0],void 0,!0).getTime(),r=Math.min(t,v.selectedDates[0].getTime()),i=Math.max(t,v.selectedDates[0].getTime()),s=!1,o=0,a=0,c=r;c<i;c+=C)Z(new Date(c),!0)||(s=s||c>r&&c<i,c<n&&(!o||c>o)?o=c:c>n&&(!a||c<a)&&(a=c));for(var l=0;l<v.config.showMonths;l++)for(var u=v.daysContainer.children[l],h=function(r,i){var c,l,h,d=u.children[r],p=d.dateObj.getTime(),f=o>0&&p<o||a>0&&p>a;return f?(d.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(e){d.classList.remove(e)})),"continue"):s&&!f?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(e){d.classList.remove(e)})),void(void 0!==e&&(e.classList.add(t<=v.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&p===n?d.classList.add("startRange"):n>t&&p===n&&d.classList.add("endRange"),p>=o&&(0===a||p<=a)&&(l=n,h=t,(c=p)>Math.min(l,h)&&c<Math.max(l,h))&&d.classList.add("inRange"))))},d=0,p=u.children.length;d<p;d++)h(d)}}function re(){!v.isOpen||v.config.static||v.config.inline||ae()}function ie(e){return function(t){var n=v.config["_"+e+"Date"]=v.parseDate(t,v.config.dateFormat),r=v.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(v["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),v.selectedDates&&(v.selectedDates=v.selectedDates.filter((function(e){return Z(e)})),v.selectedDates.length||"min"!==e||T(n),ye()),v.daysContainer&&(ce(),void 0!==n?v.currentYearElement[e]=n.getFullYear().toString():v.currentYearElement.removeAttribute(e),v.currentYearElement.disabled=!!r&&void 0!==n&&r.getFullYear()===n.getFullYear())}}function se(){return v.config.wrap?f.querySelector("[data-input]"):f}function oe(){"object"!=typeof v.config.locale&&void 0===S.l10ns[v.config.locale]&&v.config.errorHandler(new Error("flatpickr: invalid locale "+v.config.locale)),v.l10n=e(e({},S.l10ns.default),"object"==typeof v.config.locale?v.config.locale:"default"!==v.config.locale?S.l10ns[v.config.locale]:void 0),b.K="("+v.l10n.amPM[0]+"|"+v.l10n.amPM[1]+"|"+v.l10n.amPM[0].toLowerCase()+"|"+v.l10n.amPM[1].toLowerCase()+")",void 0===e(e({},m),JSON.parse(JSON.stringify(f.dataset||{}))).time_24hr&&void 0===S.defaultConfig.time_24hr&&(v.config.time_24hr=v.l10n.time_24hr),v.formatDate=y(v),v.parseDate=A({config:v.config,l10n:v.l10n})}function ae(e){if(void 0!==v.calendarContainer){fe("onPreCalendarPosition");var t=e||v._positionElement,n=Array.prototype.reduce.call(v.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),r=v.calendarContainer.offsetWidth,i=v.config.position.split(" "),s=i[0],o=i.length>1?i[1]:null,a=t.getBoundingClientRect(),c=window.innerHeight-a.bottom,u="above"===s||"below"!==s&&c<n&&a.top>n,h=window.pageYOffset+a.top+(u?-n-2:t.offsetHeight+2);if(l(v.calendarContainer,"arrowTop",!u),l(v.calendarContainer,"arrowBottom",u),!v.config.inline){var d=window.pageXOffset+a.left,p=!1,f=!1;"center"===o?(d-=(r-a.width)/2,p=!0):"right"===o&&(d-=r-a.width,f=!0),l(v.calendarContainer,"arrowLeft",!p&&!f),l(v.calendarContainer,"arrowCenter",p),l(v.calendarContainer,"arrowRight",f);var g=window.document.body.offsetWidth-(window.pageXOffset+a.right),m=d+r>window.document.body.offsetWidth,b=g+r>window.document.body.offsetWidth;if(l(v.calendarContainer,"rightMost",m),!v.config.static)if(v.calendarContainer.style.top=h+"px",m)if(b){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];try{n.cssRules}catch(e){continue}e=n;break}return null!=e?e:(r=document.createElement("style"),document.head.appendChild(r),r.sheet);var r}();if(void 0===y)return;var A=window.document.body.offsetWidth,w=Math.max(0,A/2-r/2),C=y.cssRules.length,k="{left:"+a.left+"px;right:auto;}";l(v.calendarContainer,"rightMost",!1),l(v.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+k,C),v.calendarContainer.style.left=w+"px",v.calendarContainer.style.right="auto"}else v.calendarContainer.style.left="auto",v.calendarContainer.style.right=g+"px";else v.calendarContainer.style.left=d+"px",v.calendarContainer.style.right="auto"}}}function ce(){v.config.noCalendar||v.isMobile||(q(),be(),U())}function le(){v._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(v.close,0):v.close()}function ue(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(p(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var n=t,r=v.latestSelectedDateObj=new Date(n.dateObj.getTime()),i=(r.getMonth()<v.currentMonth||r.getMonth()>v.currentMonth+v.config.showMonths-1)&&"range"!==v.config.mode;if(v.selectedDateElem=n,"single"===v.config.mode)v.selectedDates=[r];else if("multiple"===v.config.mode){var s=me(r);s?v.selectedDates.splice(parseInt(s),1):v.selectedDates.push(r)}else"range"===v.config.mode&&(2===v.selectedDates.length&&v.clear(!1,!1),v.latestSelectedDateObj=r,v.selectedDates.push(r),0!==w(r,v.selectedDates[0],!0)&&v.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(j(),i){var o=v.currentYear!==r.getFullYear();v.currentYear=r.getFullYear(),v.currentMonth=r.getMonth(),o&&(fe("onYearChange"),q()),fe("onMonthChange")}if(be(),U(),ye(),i||"range"===v.config.mode||1!==v.config.showMonths?void 0!==v.selectedDateElem&&void 0===v.hourElement&&v.selectedDateElem&&v.selectedDateElem.focus():$(n),void 0!==v.hourElement&&void 0!==v.hourElement&&v.hourElement.focus(),v.config.closeOnSelect){var a="single"===v.config.mode&&!v.config.enableTime,c="range"===v.config.mode&&2===v.selectedDates.length&&!v.config.enableTime;(a||c)&&le()}P()}}v.parseDate=A({config:v.config,l10n:v.l10n}),v._handlers=[],v.pluginElements=[],v.loadedPlugins=[],v._bind=E,v._setHoursFromDate=T,v._positionCalendar=ae,v.changeMonth=Y,v.changeYear=J,v.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),v.input.value="",void 0!==v.altInput&&(v.altInput.value=""),void 0!==v.mobileInput&&(v.mobileInput.value=""),v.selectedDates=[],v.latestSelectedDateObj=void 0,!0===t&&(v.currentYear=v._initialDate.getFullYear(),v.currentMonth=v._initialDate.getMonth()),!0===v.config.enableTime){var n=R(),r=n.hours,i=n.minutes,s=n.seconds;B(r,i,s)}v.redraw(),e&&fe("onChange")},v.close=function(){v.isOpen=!1,v.isMobile||(void 0!==v.calendarContainer&&v.calendarContainer.classList.remove("open"),void 0!==v._input&&v._input.classList.remove("active")),fe("onClose")},v._createElement=u,v.destroy=function(){void 0!==v.config&&fe("onDestroy");for(var e=v._handlers.length;e--;){var t=v._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(v._handlers=[],v.mobileInput)v.mobileInput.parentNode&&v.mobileInput.parentNode.removeChild(v.mobileInput),v.mobileInput=void 0;else if(v.calendarContainer&&v.calendarContainer.parentNode)if(v.config.static&&v.calendarContainer.parentNode){var n=v.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else v.calendarContainer.parentNode.removeChild(v.calendarContainer);v.altInput&&(v.input.type="text",v.altInput.parentNode&&v.altInput.parentNode.removeChild(v.altInput),delete v.altInput),v.input&&(v.input.type=v.input._type,v.input.classList.remove("flatpickr-input"),v.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete v[e]}catch(e){}}))},v.isEnabled=Z,v.jumpToDate=D,v.open=function(e,t){if(void 0===t&&(t=v._positionElement),!0===v.isMobile){if(e){e.preventDefault();var n=p(e);n&&n.blur()}return void 0!==v.mobileInput&&(v.mobileInput.focus(),v.mobileInput.click()),void fe("onOpen")}if(!v._input.disabled&&!v.config.inline){var r=v.isOpen;v.isOpen=!0,r||(v.calendarContainer.classList.add("open"),v._input.classList.add("active"),fe("onOpen"),ae(t)),!0===v.config.enableTime&&!0===v.config.noCalendar&&(!1!==v.config.allowInput||void 0!==e&&v.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return v.hourElement.select()}),50))}},v.redraw=ce,v.set=function(e,t){if(null!==e&&"object"==typeof e)for(var r in Object.assign(v.config,e),e)void 0!==he[r]&&he[r].forEach((function(e){return e()}));else v.config[e]=t,void 0!==he[e]?he[e].forEach((function(e){return e()})):n.indexOf(e)>-1&&(v.config[e]=c(t));v.redraw(),ye(!0)},v.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=v.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return v.clear(t);de(e,n),v.latestSelectedDateObj=v.selectedDates[v.selectedDates.length-1],v.redraw(),D(void 0,t),T(),0===v.selectedDates.length&&v.clear(!1),ye(t),t&&fe("onChange")},v.toggle=function(e){if(!0===v.isOpen)return v.close();v.open(e)};var he={locale:[oe,K],showMonths:[z,x,W],minDate:[D],maxDate:[D]};function de(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return v.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)n=[v.parseDate(e,t)];else if("string"==typeof e)switch(v.config.mode){case"single":case"time":n=[v.parseDate(e,t)];break;case"multiple":n=e.split(v.config.conjunction).map((function(e){return v.parseDate(e,t)}));break;case"range":n=e.split(v.l10n.rangeSeparator).map((function(e){return v.parseDate(e,t)}))}else v.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));v.selectedDates=v.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&Z(e,!1)})),"range"===v.config.mode&&v.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function pe(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?v.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:v.parseDate(e.from,void 0),to:v.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function fe(e,t){if(void 0!==v.config){var n=v.config[e];if(void 0!==n&&n.length>0)for(var r=0;n[r]&&r<n.length;r++)n[r](v.selectedDates,v.input.value,v,t);"onChange"===e&&(v.input.dispatchEvent(ge("change")),v.input.dispatchEvent(ge("input")))}}function ge(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function me(e){for(var t=0;t<v.selectedDates.length;t++)if(0===w(v.selectedDates[t],e))return""+t;return!1}function be(){v.config.noCalendar||v.isMobile||!v.monthNav||(v.yearElements.forEach((function(e,t){var n=new Date(v.currentYear,v.currentMonth,1);n.setMonth(v.currentMonth+t),v.config.showMonths>1||"static"===v.config.monthSelectorType?v.monthElements[t].textContent=g(n.getMonth(),v.config.shorthandCurrentMonth,v.l10n)+" ":v.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()})),v._hidePrevMonthArrow=void 0!==v.config.minDate&&(v.currentYear===v.config.minDate.getFullYear()?v.currentMonth<=v.config.minDate.getMonth():v.currentYear<v.config.minDate.getFullYear()),v._hideNextMonthArrow=void 0!==v.config.maxDate&&(v.currentYear===v.config.maxDate.getFullYear()?v.currentMonth+1>v.config.maxDate.getMonth():v.currentYear>v.config.maxDate.getFullYear()))}function ve(e){return v.selectedDates.map((function(t){return v.formatDate(t,e)})).filter((function(e,t,n){return"range"!==v.config.mode||v.config.enableTime||n.indexOf(e)===t})).join("range"!==v.config.mode?v.config.conjunction:v.l10n.rangeSeparator)}function ye(e){void 0===e&&(e=!0),void 0!==v.mobileInput&&v.mobileFormatStr&&(v.mobileInput.value=void 0!==v.latestSelectedDateObj?v.formatDate(v.latestSelectedDateObj,v.mobileFormatStr):""),v.input.value=ve(v.config.dateFormat),void 0!==v.altInput&&(v.altInput.value=ve(v.config.altFormat)),!1!==e&&fe("onValueUpdate")}function Ae(e){var t=p(e),n=v.prevMonthNav.contains(t),r=v.nextMonthNav.contains(t);n||r?Y(n?-1:1):v.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?v.changeYear(v.currentYear+1):t.classList.contains("arrowDown")&&v.changeYear(v.currentYear-1)}return function(){v.element=v.input=f,v.isOpen=!1,function(){var t=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=e(e({},JSON.parse(JSON.stringify(f.dataset||{}))),m),s={};v.config.parseDate=i.parseDate,v.config.formatDate=i.formatDate,Object.defineProperty(v.config,"enable",{get:function(){return v.config._enable},set:function(e){v.config._enable=pe(e)}}),Object.defineProperty(v.config,"disable",{get:function(){return v.config._disable},set:function(e){v.config._disable=pe(e)}});var o="time"===i.mode;if(!i.dateFormat&&(i.enableTime||o)){var a=S.defaultConfig.dateFormat||r.dateFormat;s.dateFormat=i.noCalendar||o?"H:i"+(i.enableSeconds?":S":""):a+" H:i"+(i.enableSeconds?":S":"")}if(i.altInput&&(i.enableTime||o)&&!i.altFormat){var l=S.defaultConfig.altFormat||r.altFormat;s.altFormat=i.noCalendar||o?"h:i"+(i.enableSeconds?":S K":" K"):l+" h:i"+(i.enableSeconds?":S":"")+" K"}Object.defineProperty(v.config,"minDate",{get:function(){return v.config._minDate},set:ie("min")}),Object.defineProperty(v.config,"maxDate",{get:function(){return v.config._maxDate},set:ie("max")});var u=function(e){return function(t){v.config["min"===e?"_minTime":"_maxTime"]=v.parseDate(t,"H:i:S")}};Object.defineProperty(v.config,"minTime",{get:function(){return v.config._minTime},set:u("min")}),Object.defineProperty(v.config,"maxTime",{get:function(){return v.config._maxTime},set:u("max")}),"time"===i.mode&&(v.config.noCalendar=!0,v.config.enableTime=!0),Object.assign(v.config,s,i);for(var h=0;h<t.length;h++)v.config[t[h]]=!0===v.config[t[h]]||"true"===v.config[t[h]];for(n.filter((function(e){return void 0!==v.config[e]})).forEach((function(e){v.config[e]=c(v.config[e]||[]).map(k)})),v.isMobile=!v.config.disableMobile&&!v.config.inline&&"single"===v.config.mode&&!v.config.disable.length&&!v.config.enable.length&&!v.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),h=0;h<v.config.plugins.length;h++){var d=v.config.plugins[h](v)||{};for(var p in d)n.indexOf(p)>-1?v.config[p]=c(d[p]).map(k).concat(v.config[p]):void 0===i[p]&&(v.config[p]=d[p])}i.altInputClass||(v.config.altInputClass=se().className+" "+v.config.altInputClass),fe("onParseConfig")}(),oe(),v.input=se(),v.input?(v.input._type=v.input.type,v.input.type="text",v.input.classList.add("flatpickr-input"),v._input=v.input,v.config.altInput&&(v.altInput=u(v.input.nodeName,v.config.altInputClass),v._input=v.altInput,v.altInput.placeholder=v.input.placeholder,v.altInput.disabled=v.input.disabled,v.altInput.required=v.input.required,v.altInput.tabIndex=v.input.tabIndex,v.altInput.type="text",v.input.setAttribute("type","hidden"),!v.config.static&&v.input.parentNode&&v.input.parentNode.insertBefore(v.altInput,v.input.nextSibling)),v.config.allowInput||v._input.setAttribute("readonly","readonly"),v._positionElement=v.config.positionElement||v._input):v.config.errorHandler(new Error("Invalid input element specified")),function(){v.selectedDates=[],v.now=v.parseDate(v.config.now)||new Date;var e=v.config.defaultDate||("INPUT"!==v.input.nodeName&&"TEXTAREA"!==v.input.nodeName||!v.input.placeholder||v.input.value!==v.input.placeholder?v.input.value:null);e&&de(e,v.config.dateFormat),v._initialDate=v.selectedDates.length>0?v.selectedDates[0]:v.config.minDate&&v.config.minDate.getTime()>v.now.getTime()?v.config.minDate:v.config.maxDate&&v.config.maxDate.getTime()<v.now.getTime()?v.config.maxDate:v.now,v.currentYear=v._initialDate.getFullYear(),v.currentMonth=v._initialDate.getMonth(),v.selectedDates.length>0&&(v.latestSelectedDateObj=v.selectedDates[0]),void 0!==v.config.minTime&&(v.config.minTime=v.parseDate(v.config.minTime,"H:i")),void 0!==v.config.maxTime&&(v.config.maxTime=v.parseDate(v.config.maxTime,"H:i")),v.minDateHasTime=!!v.config.minDate&&(v.config.minDate.getHours()>0||v.config.minDate.getMinutes()>0||v.config.minDate.getSeconds()>0),v.maxDateHasTime=!!v.config.maxDate&&(v.config.maxDate.getHours()>0||v.config.maxDate.getMinutes()>0||v.config.maxDate.getSeconds()>0)}(),v.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=v.currentMonth),void 0===t&&(t=v.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:v.l10n.daysInMonth[e]}},v.isMobile||function(){var e=window.document.createDocumentFragment();if(v.calendarContainer=u("div","flatpickr-calendar"),v.calendarContainer.tabIndex=-1,!v.config.noCalendar){if(e.appendChild((v.monthNav=u("div","flatpickr-months"),v.yearElements=[],v.monthElements=[],v.prevMonthNav=u("span","flatpickr-prev-month"),v.prevMonthNav.innerHTML=v.config.prevArrow,v.nextMonthNav=u("span","flatpickr-next-month"),v.nextMonthNav.innerHTML=v.config.nextArrow,z(),Object.defineProperty(v,"_hidePrevMonthArrow",{get:function(){return v.__hidePrevMonthArrow},set:function(e){v.__hidePrevMonthArrow!==e&&(l(v.prevMonthNav,"flatpickr-disabled",e),v.__hidePrevMonthArrow=e)}}),Object.defineProperty(v,"_hideNextMonthArrow",{get:function(){return v.__hideNextMonthArrow},set:function(e){v.__hideNextMonthArrow!==e&&(l(v.nextMonthNav,"flatpickr-disabled",e),v.__hideNextMonthArrow=e)}}),v.currentYearElement=v.yearElements[0],be(),v.monthNav)),v.innerContainer=u("div","flatpickr-innerContainer"),v.config.weekNumbers){var t=function(){v.calendarContainer.classList.add("hasWeeks");var e=u("div","flatpickr-weekwrapper");e.appendChild(u("span","flatpickr-weekday",v.l10n.weekAbbreviation));var t=u("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,r=t.weekNumbers;v.innerContainer.appendChild(n),v.weekNumbers=r,v.weekWrapper=n}v.rContainer=u("div","flatpickr-rContainer"),v.rContainer.appendChild(W()),v.daysContainer||(v.daysContainer=u("div","flatpickr-days"),v.daysContainer.tabIndex=-1),U(),v.rContainer.appendChild(v.daysContainer),v.innerContainer.appendChild(v.rContainer),e.appendChild(v.innerContainer)}v.config.enableTime&&e.appendChild(function(){v.calendarContainer.classList.add("hasTime"),v.config.noCalendar&&v.calendarContainer.classList.add("noCalendar"),v.timeContainer=u("div","flatpickr-time"),v.timeContainer.tabIndex=-1;var e=u("span","flatpickr-time-separator",":"),t=d("flatpickr-hour",{"aria-label":v.l10n.hourAriaLabel});v.hourElement=t.getElementsByTagName("input")[0];var n=d("flatpickr-minute",{"aria-label":v.l10n.minuteAriaLabel});if(v.minuteElement=n.getElementsByTagName("input")[0],v.hourElement.tabIndex=v.minuteElement.tabIndex=-1,v.hourElement.value=s(v.latestSelectedDateObj?v.latestSelectedDateObj.getHours():v.config.time_24hr?v.config.defaultHour:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(v.config.defaultHour)),v.minuteElement.value=s(v.latestSelectedDateObj?v.latestSelectedDateObj.getMinutes():v.config.defaultMinute),v.hourElement.setAttribute("step",v.config.hourIncrement.toString()),v.minuteElement.setAttribute("step",v.config.minuteIncrement.toString()),v.hourElement.setAttribute("min",v.config.time_24hr?"0":"1"),v.hourElement.setAttribute("max",v.config.time_24hr?"23":"12"),v.minuteElement.setAttribute("min","0"),v.minuteElement.setAttribute("max","59"),v.timeContainer.appendChild(t),v.timeContainer.appendChild(e),v.timeContainer.appendChild(n),v.config.time_24hr&&v.timeContainer.classList.add("time24hr"),v.config.enableSeconds){v.timeContainer.classList.add("hasSeconds");var r=d("flatpickr-second");v.secondElement=r.getElementsByTagName("input")[0],v.secondElement.value=s(v.latestSelectedDateObj?v.latestSelectedDateObj.getSeconds():v.config.defaultSeconds),v.secondElement.setAttribute("step",v.minuteElement.getAttribute("step")),v.secondElement.setAttribute("min","0"),v.secondElement.setAttribute("max","59"),v.timeContainer.appendChild(u("span","flatpickr-time-separator",":")),v.timeContainer.appendChild(r)}return v.config.time_24hr||(v.amPM=u("span","flatpickr-am-pm",v.l10n.amPM[o((v.latestSelectedDateObj?v.hourElement.value:v.config.defaultHour)>11)]),v.amPM.title=v.l10n.toggleTitle,v.amPM.tabIndex=-1,v.timeContainer.appendChild(v.amPM)),v.timeContainer}()),l(v.calendarContainer,"rangeMode","range"===v.config.mode),l(v.calendarContainer,"animate",!0===v.config.animate),l(v.calendarContainer,"multiMonth",v.config.showMonths>1),v.calendarContainer.appendChild(e);var i=void 0!==v.config.appendTo&&void 0!==v.config.appendTo.nodeType;if((v.config.inline||v.config.static)&&(v.calendarContainer.classList.add(v.config.inline?"inline":"static"),v.config.inline&&(!i&&v.element.parentNode?v.element.parentNode.insertBefore(v.calendarContainer,v._input.nextSibling):void 0!==v.config.appendTo&&v.config.appendTo.appendChild(v.calendarContainer)),v.config.static)){var a=u("div","flatpickr-wrapper");v.element.parentNode&&v.element.parentNode.insertBefore(a,v.element),a.appendChild(v.element),v.altInput&&a.appendChild(v.altInput),a.appendChild(v.calendarContainer)}v.config.static||v.config.inline||(void 0!==v.config.appendTo?v.config.appendTo:window.document.body).appendChild(v.calendarContainer)}(),function(){if(v.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(v.element.querySelectorAll("[data-"+e+"]"),(function(t){return E(t,"click",v[e])}))})),v.isMobile)!function(){var e=v.config.enableTime?v.config.noCalendar?"time":"datetime-local":"date";v.mobileInput=u("input",v.input.className+" flatpickr-mobile"),v.mobileInput.tabIndex=1,v.mobileInput.type=e,v.mobileInput.disabled=v.input.disabled,v.mobileInput.required=v.input.required,v.mobileInput.placeholder=v.input.placeholder,v.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",v.selectedDates.length>0&&(v.mobileInput.defaultValue=v.mobileInput.value=v.formatDate(v.selectedDates[0],v.mobileFormatStr)),v.config.minDate&&(v.mobileInput.min=v.formatDate(v.config.minDate,"Y-m-d")),v.config.maxDate&&(v.mobileInput.max=v.formatDate(v.config.maxDate,"Y-m-d")),v.input.getAttribute("step")&&(v.mobileInput.step=String(v.input.getAttribute("step"))),v.input.type="hidden",void 0!==v.altInput&&(v.altInput.type="hidden");try{v.input.parentNode&&v.input.parentNode.insertBefore(v.mobileInput,v.input.nextSibling)}catch(e){}E(v.mobileInput,"change",(function(e){v.setDate(p(e).value,!1,v.mobileFormatStr),fe("onChange"),fe("onClose")}))}();else{var e=a(re,50);v._debouncedChange=a(P,300),v.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&E(v.daysContainer,"mouseover",(function(e){"range"===v.config.mode&&ne(p(e))})),E(window.document.body,"keydown",te),v.config.inline||v.config.static||E(window,"resize",e),void 0!==window.ontouchstart?E(window.document,"touchstart",G):E(window.document,"click",G),E(window.document,"focus",G,{capture:!0}),!0===v.config.clickOpens&&(E(v._input,"focus",v.open),E(v._input,"click",v.open)),void 0!==v.daysContainer&&(E(v.monthNav,"click",Ae),E(v.monthNav,["keyup","increment"],I),E(v.daysContainer,"click",ue)),void 0!==v.timeContainer&&void 0!==v.minuteElement&&void 0!==v.hourElement&&(E(v.timeContainer,["increment"],O),E(v.timeContainer,"blur",O,{capture:!0}),E(v.timeContainer,"click",M),E([v.hourElement,v.minuteElement],["focus","click"],(function(e){return p(e).select()})),void 0!==v.secondElement&&E(v.secondElement,"focus",(function(){return v.secondElement&&v.secondElement.select()})),void 0!==v.amPM&&E(v.amPM,"click",(function(e){O(e),P()}))),v.config.allowInput&&E(v._input,"blur",ee)}}(),(v.selectedDates.length||v.config.noCalendar)&&(v.config.enableTime&&T(v.config.noCalendar?v.latestSelectedDateObj||v.config.minDate:void 0),ye(!1)),x();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!v.isMobile&&t&&ae(),fe("onReady")}(),v}function x(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),r=[],i=0;i<n.length;i++){var s=n[i];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=k(s,t||{}),r.push(s._flatpickr)}catch(e){console.error(e)}}return 1===r.length?r[0]:r}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},i=0,s=t;i<s.length;i++){var o=s[i];r(o)}return e}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return x(this,e)},HTMLElement.prototype.flatpickr=function(e){return x([this],e)});var S=function(e,t){return"string"==typeof e?x(window.document.querySelectorAll(e),t):e instanceof Node?x([e],t):x(e,t)};return S.defaultConfig={},S.l10ns={en:e({},i),default:e({},i)},S.localize=function(t){S.l10ns.default=e(e({},S.l10ns.default),t)},S.setDefaults=function(t){S.defaultConfig=e(e({},S.defaultConfig),t)},S.parseDate=A({}),S.formatDate=y({}),S.compareDates=w,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return x(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=S),S}()},function(e,t,n){!function(e){"use strict";var t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},n={weekdays:{shorthand:["日","月","火","水","木","金","土"],longhand:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},months:{shorthand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longhand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time_24hr:!0,rangeSeparator:" から ",firstDayOfWeek:1};t.l10ns.ja=n;var r=t.l10ns;e.Japanese=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(8),i=n.n(r)()(!0);i.push([e.i,".message {\n  background-color: lightblue;\n}\n\nbody {\n  overflow-y: scroll;\n}","",{version:3,sources:["webpack://src/my-app.css"],names:[],mappings:"AAAA;EACE,2BAA2B;AAC7B;;AAEA;EACE,kBAAkB;AACpB",sourcesContent:[".message {\n  background-color: lightblue;\n}\n\nbody {\n  overflow-y: scroll;\n}"],sourceRoot:""}]),t.default=i},function(e,t,n){var r=n(11),i=n(18);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var s={insert:"head",singleton:!1};r(i,s);e.exports=i.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(8),i=n.n(r)()(!0);i.push([e.i,'.flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:\'\';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{/*\n      /*rtl:begin:ignore*/left:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{/*\n      /*rtl:begin:ignore*/right:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer + .dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}',"",{version:3,sources:["webpack://node_modules/flatpickr/dist/flatpickr.min.css"],names:[],mappings:"AAAA,oBAAoB,sBAAsB,CAAC,SAAS,CAAC,YAAY,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,sBAAsB,CAAC,cAAc,CAAC,aAAa,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,eAAe,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,6BAA6B,CAAC,yBAAyB,CAAC,eAAe,CAAC,gHAAgH,CAAC,wGAAwG,CAAC,oDAAoD,SAAS,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,yBAAyB,oBAAoB,CAAC,aAAa,CAAC,iCAAiC,8DAA8D,CAAC,sDAAsD,CAAC,2BAA2B,aAAa,CAAC,iBAAiB,CAAC,OAAO,CAAC,2BAA2B,iBAAiB,CAAC,oBAAoB,CAAC,gCAAgC,WAAW,CAAC,aAAa,CAAC,mHAAmH,kCAAkC,CAAC,0BAA0B,CAAC,mHAAmH,mDAAmD,CAAC,2CAA2C,CAAC,uFAAuF,eAAe,CAAC,4BAA4B,CAAC,2BAA2B,CAAC,4CAA4C,aAAa,CAAC,4CAA4C,WAAW,CAAC,4BAA4B,CAAC,uDAAuD,WAAW,CAAC,qDAAqD,iBAAiB,CAAC,aAAa,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,oJAAoJ,SAAS,CAAC,UAAU,CAAC,6EAA6E,QAAQ,CAAC,SAAS,CAAC,2BAA2B,gBAAgB,CAAC,aAAa,CAAC,0BAA0B,gBAAgB,CAAC,aAAa,CAAC,uEAAuE,WAAW,CAAC,oCAAoC,2BAA2B,CAAC,mCAAmC,wBAAwB,CAAC,6EAA6E,QAAQ,CAAC,uCAAuC,wBAAwB,CAAC,sCAAsC,qBAAqB,CAAC,0BAA0B,SAAS,CAAC,mBAAmB,iBAAiB,CAAC,oBAAoB,CAAC,kBAAkB,mBAAmB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,YAAY,CAAC,mCAAmC,sBAAsB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,WAAW,CAAC,aAAa,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,eAAe,CAAC,kBAAkB,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,gFAAgF,oBAAoB,CAAC,cAAc,CAAC,iBAAiB,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,sHAAsH,YAAY,CAAC,oFAAoF,iBAAiB,CAAC,0HAA0H;yBAChyH,CAAC,KAAK,CAAC;uBACT,CAAC,CAAC;yBACA;AACzB;uBACuB;AACvB,0HAA0H;yBACjG,CAAC,MAAM,CAAC;uBACV,CAAC,CAAC;yBACA;AACzB;uBACuB;AACvB,4FAA4F,aAAa,CAAC,oGAAoG,YAAY,CAAC,wFAAwF,UAAU,CAAC,WAAW,CAAC,kGAAkG,2BAA2B,CAAC,mBAAmB,CAAC,YAAY,CAAC,iBAAiB,iBAAiB,CAAC,WAAW,CAAC,6CAA6C,oBAAoB,CAAC,uBAAuB,UAAU,CAAC,kCAAkC,YAAY,CAAC,oGAAoG,QAAQ,CAAC,uBAAuB,CAAC,sBAAsB,iBAAiB,CAAC,OAAO,CAAC,UAAU,CAAC,mBAAmB,CAAC,UAAU,CAAC,eAAe,CAAC,SAAS,CAAC,cAAc,CAAC,oCAAoC,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,4BAA4B,0BAA0B,CAAC,6BAA6B,0BAA0B,CAAC,4BAA4B,aAAa,CAAC,UAAU,CAAC,iBAAiB,CAAC,8BAA8B,KAAK,CAAC,eAAe,CAAC,oCAAoC,iCAAiC,CAAC,kCAAkC,CAAC,0CAA0C,CAAC,OAAO,CAAC,gCAAgC,OAAO,CAAC,sCAAsC,iCAAiC,CAAC,kCAAkC,CAAC,uCAAuC,CAAC,OAAO,CAAC,0BAA0B,aAAa,CAAC,WAAW,CAAC,+BAA+B,oBAAoB,CAAC,uBAAuB,2BAA2B,CAAC,4BAA4B,SAAS,CAAC,yBAAyB,cAAc,CAAC,mBAAmB,CAAC,eAAe,CAAC,aAAa,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,CAAC,oBAAoB,CAAC,aAAa,CAAC,WAAW,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,oCAAoC,CAAC,4BAA4B,CAAC,wCAAwC,mBAAmB,CAAC,eAAe,CAAC,aAAa,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,SAAS,CAAC,8CAA8C,2BAA2B,CAAC,0CAA0C,SAAS,CAAC,WAAW,CAAC,oBAAoB,CAAC,6DAA6D,mCAAmC,CAAC,+DAA+D,gCAAgC,CAAC,wCAAwC,sBAAsB,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,aAAa,CAAC,WAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,eAAe,CAAC,mBAAmB,CAAC,WAAW,CAAC,QAAQ,CAAC,eAAe,CAAC,sBAAsB,CAAC,4BAA4B,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,8CAA8C,SAAS,CAAC,0GAA0G,cAAc,CAAC,qBAAqB,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,yDAAyD,mBAAmB,CAAC,sBAAsB,CAAC,WAAW,CAAC,eAAe,CAAC,qBAAqB,CAAC,aAAa,CAAC,cAAc,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,eAAe,CAAC,WAAW,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,YAAY,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,6BAA6B,CAAC,2BAA2B,CAAC,wBAAwB,CAAC,UAAU,CAAC,+HAA+H,YAAY,CAAC,+DAA+D,2BAA2B,CAAC,wFAAwF,4BAA4B,CAAC,YAAY,CAAC,SAAS,CAAC,oBAAoB,sBAAsB,CAAC,iBAAiB,CAAC,eAAe,CAAC,UAAU,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,YAAY,CAAC,wBAAwB,CAAC,0BAA0B,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,WAAW,CAAC,gDAAgD,mBAAmB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,uBAAuB,cAAc,CAAC,aAAa,CAAC,sBAAsB,CAAC,sBAAsB,CAAC,aAAa,CAAC,QAAQ,CAAC,iBAAiB,CAAC,aAAa,CAAC,kBAAkB,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,kBAAkB,CAAC,+BAA+B,iBAAiB,CAAC,gBAAgB,iBAAiB,CAAC,eAAe,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,YAAY,CAAC,uBAAuB,CAAC,8BAA8B,CAAC,oBAAoB,CAAC,sBAAsB,CAAC,eAAe,CAAC,sBAAsB,SAAS,CAAC,cAAc,SAAS,CAAC,SAAS,CAAC,eAAe,CAAC,eAAe,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,YAAY,CAAC,sBAAsB,CAAC,cAAc,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,oCAAoC,CAAC,4BAA4B,CAAC,oCAAoC,CAAC,4BAA4B,CAAC,SAAS,CAAC,8BAA8B,mCAAmC,CAAC,2BAA2B,CAAC,eAAe,eAAe,CAAC,4BAA4B,CAAC,mBAAmB,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,aAAa,CAAC,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,8BAA8B,CAAC,mCAAmC,CAAC,sBAAsB,CAAC,cAAc,CAAC,WAAW,CAAC,gBAAgB,CAAC,QAAQ,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,8BAA8B,CAAC,oBAAoB,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,kYAAkY,cAAc,CAAC,SAAS,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,qBAAqB,oBAAoB,CAAC,sDAAsD,oBAAoB,CAAC,kBAAkB,CAAC,UAAU,CAAC,skBAAskB,kBAAkB,CAAC,uBAAuB,CAAC,eAAe,CAAC,UAAU,CAAC,oBAAoB,CAAC,2GAA2G,2BAA2B,CAAC,qGAAqG,2BAA2B,CAAC,iNAAiN,oCAAoC,CAAC,4BAA4B,CAAC,sIAAsI,kBAAkB,CAAC,uBAAuB,eAAe,CAAC,mDAAmD,CAAC,2CAA2C,CAAC,0OAA0O,wBAAwB,CAAC,sBAAsB,CAAC,wBAAwB,CAAC,cAAc,CAAC,0EAA0E,kBAAkB,CAAC,wBAAwB,CAAC,6BAA6B,eAAe,CAAC,mDAAmD,CAAC,2CAA2C,CAAC,sBAAsB,iBAAiB,CAAC,0BAA0B,cAAc,CAAC,uBAAuB,UAAU,CAAC,wCAAwC,cAAc,CAAC,kCAAkC,CAAC,0BAA0B,CAAC,0CAA0C,UAAU,CAAC,UAAU,CAAC,gBAAgB,CAAC,0FAA0F,aAAa,CAAC,UAAU,CAAC,cAAc,CAAC,wBAAwB,CAAC,sBAAsB,CAAC,cAAc,CAAC,WAAW,CAAC,0BAA0B,aAAa,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,YAAY,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,eAAe,CAAC,sBAAsB,oBAAoB,CAAC,SAAS,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,gBAAgB,iBAAiB,CAAC,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC,gBAAgB,CAAC,eAAe,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,eAAe,CAAC,mBAAmB,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,YAAY,CAAC,sBAAsB,UAAU,CAAC,aAAa,CAAC,UAAU,CAAC,iCAAiC,kBAAkB,CAAC,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,oDAAoD,2BAA2B,CAAC,sDAAsD,wBAAwB,CAAC,4CAA4C,SAAS,CAAC,0CAA0C,SAAS,CAAC,sBAAsB,sBAAsB,CAAC,uBAAuB,CAAC,eAAe,CAAC,QAAQ,CAAC,eAAe,CAAC,iBAAiB,CAAC,QAAQ,CAAC,SAAS,CAAC,cAAc,CAAC,mBAAmB,CAAC,aAAa,CAAC,cAAc,CAAC,iBAAiB,CAAC,6BAA6B,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,yBAAyB,CAAC,oBAAoB,CAAC,qCAAqC,gBAAgB,CAAC,8EAA8E,eAAe,CAAC,4BAA4B,SAAS,CAAC,QAAQ,CAAC,2EAA2E,cAAc,CAAC,UAAU,CAAC,mBAAmB,CAAC,aAAa,CAAC,gBAAgB,CAAC,QAAQ,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,0BAA0B,CAAC,iBAAiB,CAAC,iCAAiC,SAAS,CAAC,SAAS,CAAC,cAAc,CAAC,iBAAiB,CAAC,eAAe,CAAC,sIAAsI,eAAe,CAAC,2BAA2B,cAAc,CAAC,gCAAgC,KAAK,SAAS,CAAC,wCAAwC,CAAC,gCAAgC,CAAC,GAAG,SAAS,CAAC,oCAAoC,CAAC,4BAA4B,CAAC,CAAC,wBAAwB,KAAK,SAAS,CAAC,wCAAwC,CAAC,gCAAgC,CAAC,GAAG,SAAS,CAAC,oCAAoC,CAAC,4BAA4B,CAAC",sourcesContent:['.flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:\'\';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{/*\n      /*rtl:begin:ignore*/left:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{/*\n      /*rtl:begin:ignore*/right:0/*\n      /*rtl:end:ignore*/}/*\n      /*rtl:begin:ignore*/\n/*\n      /*rtl:end:ignore*/\n.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer + .dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}'],sourceRoot:""}]),t.default=i},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"name",(function(){return ht})),n.d(r,"template",(function(){return dt})),n.d(r,"default",(function(){return pt})),n.d(r,"dependencies",(function(){return ft})),n.d(r,"register",(function(){return mt}));var i={};n.r(i),n.d(i,"name",(function(){return kt})),n.d(i,"template",(function(){return xt})),n.d(i,"default",(function(){return St})),n.d(i,"dependencies",(function(){return Ot})),n.d(i,"register",(function(){return Tt}));var s={};n.r(s),n.d(s,"NumSelector",(function(){return It}));var o={};n.r(o),n.d(o,"LocaleNumberValueConverter",(function(){return Pt}));var a=n(9);n(6);var c=n(2);const l=0,u=1,h=2,d=3,p={maxRetries:3,interval:1e3,strategy:l};class f{constructor(e){if(this.retryConfig={...p,...void 0!==e?e:{}},this.retryConfig.strategy===h&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}request(e){return e.retryConfig||(e.retryConfig={...this.retryConfig},e.retryConfig.counter=0),e.retryConfig.requestClone=e.clone(),e}response(e,t){return Reflect.deleteProperty(t,"retryConfig"),e}responseError(e,t,n){const{retryConfig:r}=t,{requestClone:i}=r;return Promise.resolve().then(()=>{if(r.counter<r.maxRetries){const s=void 0===r.doRetry||r.doRetry(e,t);return Promise.resolve(s).then(s=>{if(s){r.counter++;const e=function(e){const{interval:t,strategy:n,minRandomInterval:r,maxRandomInterval:i,counter:s}=e;if("function"==typeof n)return e.strategy(s);switch(n){case l:return g[l](t);case u:return g[u](s,t);case h:return g[h](s,t);case d:return g[d](s,t,r,i);default:throw new Error("Unrecognized retry strategy")}}(r);return new Promise(t=>c.a.window.setTimeout(t,isNaN(e)?0:e)).then(()=>{const e=i.clone();return"function"==typeof r.beforeRetry?r.beforeRetry(e,n):e}).then(e=>{const t={...e,retryConfig:r};return n.fetch(t)})}throw Reflect.deleteProperty(t,"retryConfig"),e})}throw Reflect.deleteProperty(t,"retryConfig"),e})}}const g=[e=>e,(e,t)=>t*e,(e,t)=>1===e?t:t**e/1e3,(e,t,n=0,r=6e4)=>Math.random()*(r-n)+n];class m{constructor(){this.baseUrl="",this.defaults={},this.interceptors=[]}withBaseUrl(e){return this.baseUrl=e,this}withDefaults(e){return this.defaults=e,this}withInterceptor(e){return this.interceptors.push(e),this}useStandardConfiguration(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()}rejectErrorResponses(){return this.withInterceptor({response:b})}withRetry(e){const t=new f(e);return this.withInterceptor(t)}}function b(e){if(!e.ok)throw e;return e}var v=n(1),y=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},A=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},w=function(e,t){return function(n,r){t(n,r,e)}};const C=/^([a-z][a-z0-9+\-.]*:)?\/\//i;(()=>{let e=class{constructor(e){if(this.dom=e,void 0===e.window.fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch");this.dom=e,this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[]}configure(e){let t;if("object"==typeof e){t={defaults:e}}else{if("function"!=typeof e)throw new Error("invalid config");{t=new m,t.baseUrl=this.baseUrl,t.defaults={...this.defaults},t.interceptors=this.interceptors;const n=e(t);Object.prototype.isPrototypeOf.call(m.prototype,n)&&(t=n)}}const n=t.defaults;if(void 0!==n&&Object.prototype.isPrototypeOf.call(Headers.prototype,n.headers))throw new Error("Default headers must be a plain object.");const r=t.interceptors;if(void 0!==r&&r.length){if(r.filter(e=>Object.prototype.isPrototypeOf.call(f.prototype,e)).length>1)throw new Error("Only one RetryInterceptor is allowed.");const e=r.findIndex(e=>Object.prototype.isPrototypeOf.call(f.prototype,e));if(e>=0&&e!==r.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=t.baseUrl,this.defaults=n,this.interceptors=void 0!==t.interceptors?t.interceptors:[],this.isConfigured=!0,this}fetch(e,t){this.trackRequestStart();let n=this.buildRequest(e,t);return this.processRequest(n,this.interceptors).then(e=>{let t;if(Object.prototype.isPrototypeOf.call(Response.prototype,e))t=Promise.resolve(e);else{if(!Object.prototype.isPrototypeOf.call(Request.prototype,e))throw new Error(`An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got [${e}]`);n=e,t=fetch(n)}return this.processResponse(t,this.interceptors,n)}).then(e=>Object.prototype.isPrototypeOf.call(Request.prototype,e)?this.fetch(e):e).then(e=>(this.trackRequestEnd(),e),e=>{throw this.trackRequestEnd(),e})}buildRequest(e,t){const n=null!==this.defaults?this.defaults:{};let r,i,s;const o=function(e){const t={},n=void 0!==e?e:{};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]="function"==typeof n[e]?n[e]():n[e]);return t}(n.headers);if(Object.prototype.isPrototypeOf.call(Request.prototype,e))r=e,s=new Headers(r.headers).get("Content-Type");else{t||(t={}),i=t.body;const o=void 0!==i?{body:i}:null,a={...n,headers:{},...t,...o};s=new Headers(a.headers).get("Content-Type"),r=new Request(function(e,t){if(C.test(t))return t;return(void 0!==e?e:"")+t}(this.baseUrl,e),a)}return s||(new Headers(o).has("content-type")?r.headers.set("Content-Type",new Headers(o).get("content-type")):void 0!==i&&function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(i)&&r.headers.set("Content-Type","application/json")),function(e,t){const n=void 0!==t?t:{};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&!e.has(t)&&e.set(t,n[t])}(r.headers,o),void 0!==i&&Object.prototype.isPrototypeOf.call(Blob.prototype,i)&&i.type&&r.headers.set("Content-Type",i.type),r}get(e,t){return this.fetch(e,t)}post(e,t,n){return this.callFetch(e,t,n,"POST")}put(e,t,n){return this.callFetch(e,t,n,"PUT")}patch(e,t,n){return this.callFetch(e,t,n,"PATCH")}delete(e,t,n){return this.callFetch(e,t,n,"DELETE")}trackRequestStart(){if(this.isRequesting=!!++this.activeRequestCount,this.isRequesting){const e=c.a.createCustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});c.a.window.setTimeout(()=>{c.a.dispatchEvent(e)},1)}}trackRequestEnd(){if(this.isRequesting=!!--this.activeRequestCount,!this.isRequesting){const e=c.a.createCustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});c.a.window.setTimeout(()=>{c.a.dispatchEvent(e)},1)}}processRequest(e,t){return this.applyInterceptors(e,t,"request","requestError",this)}processResponse(e,t,n){return this.applyInterceptors(e,t,"response","responseError",n,this)}applyInterceptors(e,t,n,r,...i){return(void 0!==t?t:[]).reduce((e,t)=>{const s=t[n],o=t[r];return e.then(s?e=>s.call(t,e,...i):k,o?e=>o.call(t,e,...i):x)},Promise.resolve(e))}callFetch(e,t,n,r){return n||(n={}),n.method=r,t&&(n.body=t),this.fetch(e,n)}};e=y([w(0,v.J),A("design:paramtypes",[c.b])],e)})();function k(e){return e}function x(e){throw e}n(7);var S=n(0);let O=(()=>{class e{constructor(t){this.options={useHref:!0,callback:()=>{}},this.isActive=!1,this.handler=t=>{const n=e.getEventInfo(t,this.window,this.options);n.shouldHandleEvent&&(t.preventDefault(),this.options.callback(n))},this.window=t.window,this.document=t.document}static getEventInfo(t,n,r){var i;const s={shouldHandleEvent:!1,instruction:null,anchor:null},o=s.anchor=t.currentTarget;if(!o||!e.targetIsThisWindow(o,n))return s;if(o.hasAttribute("external"))return s;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return s;const a=v.v.for(o,"goto"),c=void 0!==a?a.viewModel.value:null,l=v.v.for(o,"load"),u=void 0!==l?l.viewModel.value:null,h=r.useHref&&o.hasAttribute("href")?o.getAttribute("href"):null;if(!(null!==c&&0!==c.length||null!==u&&0!==u.length||null!==h&&0!==h.length))return s;s.anchor=o,s.instruction=null!==(i=null!=u?u:c)&&void 0!==i?i:h;const d=0===t.button;return s.shouldHandleEvent=d,s}static targetIsThisWindow(e,t){const n=e.getAttribute("target");return!n||n===t.name||"_self"===n}start(e){if(this.isActive)throw new Error("Link handler has already been started");this.isActive=!0,this.options={...e}}stop(){if(!this.isActive)throw new Error("Link handler has not been started");this.isActive=!1}}return e.inject=[v.J],e})();function j(e,t){const n=[];let r=e.findIndex(t);for(;r>=0;)n.push(e.splice(r,1)[0]),r=e.findIndex(t);return n}function T(e,t){console.warn(`[Deprecated] The ${e} has been deprecated. Please use the ${t} instead.`)}function R(e){if(!e||!e.length)return{};const t={},n=e.replace("+"," ").split("&");for(const e of n){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(void 0!==r?r:n)}return t}class B{constructor(e={instruction:"",fullStateInstruction:""}){var t;this.navigation=null!==(t=e.navigation)&&void 0!==t?t:{first:!1,new:!1,refresh:!1,forward:!1,back:!1,replace:!1},this.repeating=e.repeating,this.fromBrowser=e.fromBrowser,this.origin=e.origin,this.replacing=e.replacing,this.refreshing=e.refreshing,this.untracked=e.untracked,this.historyMovement=e.historyMovement,this.resolve=e.resolve,this.reject=e.reject,this.instruction=e.instruction,this.fullStateInstruction=e.fullStateInstruction,this.scope=e.scope,this.index=e.index,this.firstEntry=e.firstEntry,this.route=e.route,this.path=e.path,this.title=e.title,this.query=e.query,this.parameters=e.parameters,this.data=e.data}get useFullStateInstruction(){var e,t;return null!==(e=this.navigation.back)&&void 0!==e&&e||null!==(t=this.navigation.forward)&&void 0!==t&&t}toStored(){return{navigation:this.navigation,repeating:this.repeating,instruction:this.instruction,fullStateInstruction:this.fullStateInstruction,scope:this.scope,index:this.index,firstEntry:this.firstEntry,route:this.route,path:this.path,title:this.title,query:this.query,parameters:this.parameters,data:this.data}}}let I=(()=>{class e{constructor(){this.isDone=!1,this.isCancelled=!1,this.isResolved=!1,this.isRejected=!1,this.isAsync=!1}get stop(){return this.isCancelled||this.isRejected}static run(...t){const n=new e,r=e.$run(n,...t);return r instanceof Promise&&(this.runners.set(r,n),r.then(()=>{n.isDone=!0,n.isAsync&&!n.stop&&(n.isResolved=!0),this.runners.delete(r)}).catch(e=>{throw e})),r}static runner(t){if(t instanceof Promise)return e.runners.get(t)}static cancel(t){const n=e.runner(t);void 0!==n&&n.cancel()}static runAll(t){const n=new e,r=e.$runAll(n,t);if(n.isAsync){const e=Promise.all(r);return this.runners.set(e,n),e.then(()=>{n.isDone=!0,n.isAsync&&!n.stop&&(n.isResolved=!0),this.runners.delete(e)}).catch(e=>{throw e}),e}return r}static runOne(t){let n;for(;t instanceof Function;)(t=t(n))instanceof Function||t instanceof Promise||(n=t);return t instanceof Function||t instanceof Promise||(n=t),t instanceof Promise?t.then(t=>e.runOne(t)).catch(e=>{throw e}):n}cancel(){this.isCancelled=!0}static $run(t,...n){let r;for(;n.length>0&&!t.stop;){for(r=n.shift();r instanceof Function&&!t.stop;)r=r(t.value),r instanceof Function||r instanceof Promise||(t.value=r);if(r instanceof Function||r instanceof Promise||(t.value=r),r instanceof Promise)break}return r instanceof Promise&&!t.stop?(t.isAsync=!0,r.then(r=>e.$run(t,r,...n)).catch(e=>{throw t.isRejected=!0,e})):t.value}static $runAll(e,t){const n=new Array(t.length);return t.forEach((t,r)=>{for(;t instanceof Function;)(t=t(n[r]))instanceof Function||t instanceof Promise||(n[r]=t);t instanceof Function||(n[r]=t),t instanceof Promise&&(e.isAsync=!0)}),n}}return e.runners=new WeakMap,e})();class E{constructor(){this.isPending=!0,this.promise=new Promise((e,t)=>{this.res=e,this.rej=t})}resolve(e){this.res(e),this.isPending=!1}reject(e){this.rej(e),this.isPending=!1}}class P{constructor(){this.map=new Map}set(e,t){const n=this.map.get(e);n instanceof E&&n.resolve(t),this.map.set(e,t)}delete(e){const t=this.map.get(e);t instanceof E&&t.reject(),this.map.delete(e)}await(e){if(!this.map.has(e)){const t=new E;return this.map.set(e,t),t.promise}const t=this.map.get(e);return t instanceof E?t.promise:t}has(e){return this.map.has(e)&&!(this.map.get(e)instanceof E)}clone(){const e=new P;return e.map=new Map(this.map),e}}var D,M;!function(e){e[e.none=0]="none",e[e.created=1]="created",e[e.activated=3]="activated"}(D||(D={}));class N{constructor(e=oe.create(null,""),t=new B({instruction:"",fullStateInstruction:""}),n=null){var r;this.content=e,this.instruction=t,this.contentStates=new P,this.loaded=!1,this.fromCache=!1,this.fromHistory=!1,this.reentry=!1,this.content.isComponentType()||null===(null!==(r=null==n?void 0:n.container)&&void 0!==r?r:null)||(this.content.componentType=this.toComponentType(n.container))}get componentInstance(){return this.content.componentInstance}get viewport(){return this.content.viewport}equalComponent(e){return this.content.sameComponent(e.content)}equalParameters(e){return this.content.sameComponent(e.content,!0)&&this.instruction.query===e.instruction.query}reentryBehavior(){return null!==this.content.componentInstance&&"reentryBehavior"in this.content.componentInstance&&void 0!==this.content.componentInstance.reentryBehavior?this.content.componentInstance.reentryBehavior:"default"}isCacheEqual(e){return this.content.sameComponent(e.content,!0)}contentController(e){return v.u.forCustomElement(this.content.componentInstance,e.container.get(v.M),e.element,e.container,null,void 0)}createComponent(e,t){if(!this.contentStates.has("created")){if(!this.fromCache&&!this.fromHistory)try{this.content.componentInstance=this.toComponentInstance(e.container)}catch(n){if(void 0===t)throw n;this.content.setParameters({id:this.content.componentName}),this.content.setComponent(t);try{this.content.componentInstance=this.toComponentInstance(e.container)}catch(e){throw n}}if(this.contentStates.set("created",void 0),!this.contentStates.has("loaded")&&this.content.componentInstance&&(!this.fromCache||!this.fromHistory)){this.contentController(e).parent=e.controller}}}canLoad(e,t){if(!this.contentStates.has("created")||this.contentStates.has("guarded")&&!this.reentry)return!0;if(this.contentStates.set("guarded",void 0),!this.content.componentInstance)return!1;if(!this.content.componentInstance.canLoad)return!0;const n=this.content.componentType?this.content.componentType.parameters:null;this.instruction.parameters=this.content.toSpecifiedParameters(n);const r={...R(this.instruction.query),...this.instruction.parameters},i=this.content.componentInstance.canLoad(r,this.instruction,t);return"boolean"==typeof i?i:"string"==typeof i?[e.router.createViewportInstruction(i,e)]:i}canUnload(e){return!this.content.componentInstance||!this.content.componentInstance.canUnload||(!this.contentStates.has("loaded")||this.content.componentInstance.canUnload(e,this.instruction))}load(e){return I.run(()=>this.contentStates.await("guarded"),()=>{if(this.contentStates.has("created")&&(!this.contentStates.has("loaded")||this.reentry)&&(this.reentry=!1,this.contentStates.set("loaded",void 0),this.content.componentInstance&&this.content.componentInstance.load)){const t=this.content.componentType?this.content.componentType.parameters:null;this.instruction.parameters=this.content.toSpecifiedParameters(t);const n={...R(this.instruction.query),...this.instruction.parameters};return this.content.componentInstance.load(n,this.instruction,e)}})}unload(e){if(this.contentStates.has("loaded"))return this.contentStates.delete("loaded"),this.content.componentInstance&&this.content.componentInstance.unload?this.content.componentInstance.unload(e,this.instruction):void 0}activateComponent(e,t,n,r,i){return I.run(()=>this.contentStates.await("loaded"),()=>{if(this.contentStates.has("activated"))return;this.contentStates.set("activated",void 0);const t=this.contentController(r);return t.activate(null!=e?e:t,null,n)},()=>{if(this.fromCache||this.fromHistory){const e=Array.from(r.element.getElementsByTagName("*"));for(const t of e){const e=t.getAttribute("au-element-scroll");if(e){const[n,r]=e.split(",");t.removeAttribute("au-element-scroll"),t.scrollTo(+r,+n)}}}})}deactivateComponent(e,t,n,r,i=!1){if(!this.contentStates.has("activated"))return;if(this.contentStates.delete("activated"),i&&null!==r.element){const e=Array.from(r.element.getElementsByTagName("*"));for(const t of e)(t.scrollTop>0||t.scrollLeft)&&t.setAttribute("au-element-scroll",`${t.scrollTop},${t.scrollLeft}`)}const s=this.contentController(r);return I.run(()=>s.deactivate(null!=e?e:s,t,n))}disposeComponent(e,t,n=!1){if(this.contentStates.has("created")){if(!n){this.contentStates.delete("created");return this.contentController(e).dispose()}t.push(this)}}freeContent(e,t,n,r=!1){return I.run(()=>this.unload(t),()=>this.deactivateComponent(null,e.controller,0,e,r),()=>this.disposeComponent(e,n,r))}toComponentName(){return this.content.componentName}toComponentType(e){return this.content.isEmpty()?null:this.content.toComponentType(e)}toComponentInstance(e){return this.content.isEmpty()?null:this.content.toComponentInstance(e)}}class V{constructor(e,t,n,r,i,s=null,o={catches:[],source:null}){this.name=e,this.router=t,this.connectedCE=n,this.rootComponentType=s,this.options=o,this.path=null,this.content=null,this.nextContent=null,this.available=!0,this.sourceItem=null,this.sourceItemIndex=-1,this.remove=!1,this.add=!1,this.connectedScope=new X(t,i,r,null,this),this.catches.length>0&&(this.content=t.createViewportInstruction(this.catches[0],this.name))}get scope(){return this.connectedScope.scope}get owningScope(){return this.connectedScope.owningScope}get enabled(){return this.connectedScope.enabled}set enabled(e){this.connectedScope.enabled=e}get isViewport(){return!1}get isViewportScope(){return!0}get isEmpty(){return null===this.content}get passThroughScope(){return null===this.rootComponentType&&0===this.catches.length}get siblings(){const e=this.connectedScope.parent;return null===e?[this]:e.enabledChildren.filter(e=>e.isViewportScope&&e.viewportScope.name===this.name).map(e=>e.viewportScope)}get source(){return this.options.source||null}get catches(){let e=this.options.catches||[];return"string"==typeof e&&(e=e.split(",")),e}get default(){if(this.catches.length>0)return this.catches[0]}get nextContentActivated(){var e,t,n;return null!==(n=null===(t=null===(e=this.scope.parent)||void 0===e?void 0:e.owner)||void 0===t?void 0:t.nextContentActivated)&&void 0!==n&&n}get parentNextContentActivated(){var e,t,n;return null!==(n=null===(t=null===(e=this.scope.parent)||void 0===e?void 0:e.owner)||void 0===t?void 0:t.nextContentActivated)&&void 0!==n&&n}get nextContentAction(){return""}toString(){var e,t,n,r;const i=null!==(t=null===(e=this.content)||void 0===e?void 0:e.componentName)&&void 0!==t?t:"",s=null!==(r=null===(n=this.nextContent)||void 0===n?void 0:n.componentName)&&void 0!==r?r:"";return`vs:${this.name}[${i}->${s}]`}setNextContent(e,t){return e.viewportScope=this,this.remove=this.router.instructionResolver.isClearViewportInstruction(e)||this.router.instructionResolver.isClearAllViewportsInstruction(e),this.add=this.router.instructionResolver.isAddViewportInstruction(e)&&Array.isArray(this.source),this.add&&(e.componentName=null),void 0!==this.default&&null===e.componentName&&(e.componentName=this.default),this.nextContent=e,"swap"}transition(e){I.run(()=>e.addEntityState(this,"guardedUnload"),()=>e.addEntityState(this,"guardedLoad"),()=>e.addEntityState(this,"guarded"),()=>e.addEntityState(this,"loaded"),()=>e.addEntityState(this,"unloaded"),()=>e.addEntityState(this,"routed"),()=>e.addEntityState(this,"swapped"),()=>{this.content=this.remove?null:this.nextContent,this.nextContent=null,e.addEntityState(this,"completed")})}canUnload(){return!0}canLoad(){return!0}unload(){}load(){}finalizeContentChange(){this.remove&&Array.isArray(this.source)&&this.removeSourceItem()}abortContentChange(){if(this.nextContent=null,this.add){const e=this.source.indexOf(this.sourceItem);this.source.splice(e,1),this.sourceItem=null}return Promise.resolve()}acceptSegment(e){return null===e&&void 0===e||0===e.length||(e===this.router.instructionResolver.clearViewportInstruction||e===this.router.instructionResolver.addViewportInstruction||e===this.name||(0===this.catches.length||(!!this.catches.includes(e)||!!this.catches.filter(e=>e.includes("*")).length)))}beforeBind(){(this.source||[]).length>0&&null===this.sourceItem&&(this.sourceItem=this.getAvailableSourceItem())}beforeUnbind(){null!==this.sourceItem&&null!==this.source&&j(this.source,e=>e===this.sourceItem),this.sourceItem=null}getAvailableSourceItem(){if(null===this.source)return null;const e=this.siblings;for(const t of this.source)if(e.every(e=>e.sourceItem!==t))return t;return null}addSourceItem(){const e={};return this.source.push(e),e}removeSourceItem(){this.sourceItemIndex=this.source.indexOf(this.sourceItem),this.sourceItemIndex>=0&&this.source.splice(this.sourceItemIndex,1)}getRoutes(){return null!==this.rootComponentType?this.rootComponentType.routes:null}}class ${constructor(e=null,t="",n=[],r="",i={}){this.match=e,this.matching=t,this.instructions=n,this.remaining=r,this.params=i}get foundConfiguration(){return null!==this.match}get foundInstructions(){return this.instructions.length>0}get hasRemaining(){return null!==this.remaining&&this.remaining.length>0}}class F extends Array{constructor(){super(...arguments),this.currentIndex=-1}next(){return this.length>this.currentIndex+1?this[++this.currentIndex]:(this.currentIndex=-1,null)}removeCurrent(){this.splice(this.currentIndex--,1)}remove(e){j(this,t=>t===e)}}class L{constructor(e,t,n){this.path=e,this.caseSensitive=t,this.handler=n}}class _{constructor(e,t){this.route=e,this.paramNames=t}}class U{constructor(e,t,n,r,i){this.endpoint=e,this.params=t,this.searchParams=n,this.isDynamic=r,this.queryString=i}}class q{constructor(e,t,n,r){var i;this.chars=e,this.states=t,this.skippedStates=n,this.result=r,this.head=t[t.length-1],this.endpoint=null===(i=this.head)||void 0===i?void 0:i.endpoint}advance(e){const{chars:t,states:n,skippedStates:r,result:i}=this;let s=null,o=0;const a=n[n.length-1];function c(l,u){if(l.isMatch(e)&&(1==++o?s=l:i.add(new q(t.concat(e),n.concat(l),null===u?r:r.concat(u),i))),null===a.segment&&l.isOptional&&null!==l.nextStates){if(l.nextStates.length>1)throw new Error(l.nextStates.length+" nextStates");const e=l.nextStates[0];if(!e.isSeparator)throw new Error("Not a separator");if(null!==e.nextStates)for(const t of e.nextStates)c(t,l)}}if(a.isDynamic&&c(a,null),null!==a.nextStates)for(const e of a.nextStates)c(e,null);null!==s&&(n.push(this.head=s),t.push(e),null!==s.endpoint&&(this.endpoint=s.endpoint)),0===o&&i.remove(this)}finalize(){!function e(t,n){const r=n.nextStates;if(null!==r)if(1===r.length&&null===r[0].segment)e(t,r[0]);else for(const n of r)if(n.isOptional&&null!==n.endpoint){if(t.push(n),null!==n.nextStates)for(const r of n.nextStates)e(t,r);break}}(this.skippedStates,this.head)}getParams(){const{states:e,chars:t,endpoint:n}=this,r={};for(const e of n.paramNames)r[e]=void 0;for(let n=0,i=e.length;n<i;++n){const i=e[n];if(i.isDynamic){const e=i.segment.name;void 0===r[e]?r[e]=t[n]:r[e]+=t[n]}}return r}compareTo(e){const t=this.states,n=e.states;for(let e=0,r=0,i=Math.max(t.length,n.length);e<i;++e){let i=t[e];if(void 0===i)return 1;let s=n[r];if(void 0===s)return-1;let o=i.segment,a=s.segment;if(null===o){if(null===a){++r;continue}if(void 0===(i=t[++e]))return 1;o=i.segment}else if(null===a){if(void 0===(s=n[++r]))return-1;a=s.segment}if(o.kind<a.kind)return 1;if(o.kind>a.kind)return-1;++r}const r=this.skippedStates,i=e.skippedStates,s=r.length,o=i.length;if(s<o)return 1;if(s>o)return-1;for(let e=0;e<s;++e){const t=r[e],n=i[e];if(t.length<n.length)return 1;if(t.length>n.length)return-1}return 0}}function H(e){return null!==e.head.endpoint}function z(e,t){return e.compareTo(t)}class W{constructor(e){this.candidates=[],this.candidates=[new q([""],[e],[],this)]}get isEmpty(){return 0===this.candidates.length}getSolution(){const e=this.candidates.filter(H);if(0===e.length)return null;for(const t of e)t.finalize();return e.sort(z),e[0]}add(e){this.candidates.push(e)}remove(e){this.candidates.splice(this.candidates.indexOf(e),1)}advance(e){const t=this.candidates.slice();for(const n of t)n.advance(e)}}class K{constructor(e,t,n){switch(this.prevState=e,this.segment=t,this.value=n,this.nextStates=null,this.endpoint=null,null==t?void 0:t.kind){case 2:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=t.optional;break;case 1:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 3:this.length=e.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=null===e?0:e.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1}}append(e,t){let n,r=this.nextStates;return null===r?(n=void 0,r=this.nextStates=[]):n=null===e?r.find(e=>e.value===t):r.find(t=>{var n;return null===(n=t.segment)||void 0===n?void 0:n.equals(e)}),void 0===n&&r.push(n=new K(this,e,t)),n}setEndpoint(e){if(null!==this.endpoint)throw new Error(`Cannot add ambiguous route. The pattern ${e.route.path} clashes with ${this.endpoint.route.path}`);this.endpoint=e,this.isOptional&&(this.prevState.setEndpoint(e),this.prevState.isSeparator&&null!==this.prevState.prevState&&this.prevState.prevState.setEndpoint(e))}isMatch(e){const t=this.segment;switch(null==t?void 0:t.kind){case 2:return!this.value.includes(e);case 1:return!0;case 3:case void 0:return this.value.includes(e)}}}function Y(e){return e.length>0}!function(e){e[e.star=1]="star",e[e.dynamic=2]="dynamic",e[e.static=3]="static"}(M||(M={}));class Q{constructor(e,t){this.value=e,this.caseSensitive=t}get kind(){return 3}appendTo(e){const{value:t,value:{length:n}}=this;if(this.caseSensitive)for(let r=0;r<n;++r)e=e.append(this,t.charAt(r));else for(let r=0;r<n;++r){const n=t.charAt(r);e=e.append(this,n.toUpperCase()+n.toLowerCase())}return e}equals(e){return 3===e.kind&&e.caseSensitive===this.caseSensitive&&e.value===this.value}}class G{constructor(e,t){this.name=e,this.optional=t}get kind(){return 2}appendTo(e){return e=e.append(this,"/")}equals(e){return 2===e.kind&&e.optional===this.optional&&e.name===this.name}}class J{constructor(e){this.name=e}get kind(){return 1}appendTo(e){return e=e.append(this,"")}equals(e){return 1===e.kind&&e.name===this.name}}const Z=class{constructor(){this.rootState=new K(null,null,"")}add(e){if(e instanceof Array){for(const t of e)this.add(t);return}const t=e,n=new L(t.path,!0===t.caseSensitive,t.handler),r=n.path.split("/").filter(Y);const i=[];let s=this.rootState;for(const e of r)switch(s=s.append(null,"/"),e.charAt(0)){case":":{const t=e.endsWith("?"),n=t?e.slice(1,-1):e.slice(1);i.push(n),s=new G(n,t).appendTo(s);break}case"*":{const t=e.slice(1);i.push(t),s=new J(t).appendTo(s);break}default:s=new Q(e,n.caseSensitive).appendTo(s)}const o=new _(n,i);s.setEndpoint(o)}recognize(e){let t,n="";const r=e.indexOf("?");r>=0?(n=e.slice(r+1),e=e.slice(0,r),t=new URLSearchParams(n)):t=new URLSearchParams,(e=decodeURI(e)).startsWith("/")||(e="/"+e),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1));const i=new W(this.rootState);for(let t=0,n=e.length;t<n;++t){const n=e.charAt(t);if(i.advance(n),i.isEmpty)return null}const s=i.getSolution();if(null===s)return null;const{endpoint:o}=s,a=s.getParams(),c=s.endpoint.paramNames.length>0;return new U(o,a,t,c,n)}};class X{constructor(e,t,n,r=null,i=null,s=null){this.router=e,this.hasScope=t,this.owningScope=n,this.viewport=r,this.viewportScope=i,this.rootComponentType=s,this.id=".",this.parent=null,this.children=[],this.replacedChildren=[],this.path=null,this.enabled=!0,this.childCollections={},this.owningScope=null!=n?n:this,this.scope=this.hasScope?this:this.owningScope.scope}toString(e=!1){return`${this.owningScope!==this?this.owningScope.toString():""}/${this.owner.toString()}`+(e?"\n"+this.children.map(e=>e.toString(!0)).join(""):"")}get isViewport(){return null!==this.viewport}get isViewportScope(){return null!==this.viewportScope}get passThroughScope(){return this.isViewportScope&&this.viewportScope.passThroughScope}get owner(){return this.isViewport?this.viewport:this.isViewportScope?this.viewportScope:null}get enabledChildren(){return this.children.filter(e=>e.enabled)}get hoistedChildren(){const e=this.enabledChildren;for(;e.some(e=>e.passThroughScope);)for(const t of e.slice())if(t.passThroughScope){const n=e.indexOf(t);e.splice(n,1,...t.enabledChildren)}return e}get enabledViewports(){return this.children.filter(e=>e.isViewport&&e.enabled).map(e=>e.viewport)}get viewportInstruction(){return this.isViewportScope?this.viewportScope.content:this.isViewport?this.viewport.content.content:null}get parentNextContentAction(){if(null===this.parent)return"";const e=this.parent.owner.nextContentAction;return"swap"===e||"skip"===e?e:this.parent.parentNextContentAction}getEnabledViewports(e){return e.filter(e=>!e.isViewportScope).map(e=>e.viewport).reduce((e,t)=>(e[t.name]=t,e),{})}getOwnedViewports(e=!1){return this.allViewports(e).filter(e=>e.owningScope===this)}getOwnedScopes(e=!1){const t=this.allScopes(e).filter(e=>e.owningScope===this);for(const e of t.slice())if(e.passThroughScope){const n=t.indexOf(e);t.splice(n,1,...e.getOwnedScopes())}return t}findInstructions(e){var t,n;let r=new $;if("string"==typeof e){const i=this.router.instructionResolver.parseViewportInstructions(e);if(this.router.options.useConfiguredRoutes&&!this.router.hasSiblingInstructions(i)){const s=this.findMatchingRoute(e);if(null!==(t=null==s?void 0:s.foundConfiguration)&&void 0!==t&&t)r=s;else if(this.router.options.useDirectRoutes&&(r.instructions=i,r.instructions.length>0)){const e=null!==(n=r.instructions[0].nextScopeInstructions)&&void 0!==n?n:[];r.remaining=this.router.instructionResolver.stringifyViewportInstructions(e),r.instructions[0].nextScopeInstructions=null}}else this.router.options.useDirectRoutes&&(r.instructions=i)}else r.instructions=e;for(const e of r.instructions)null===e.scope&&(e.scope=this);return r}findViewports(e,t,n=!1){var r;const i=[];let s=[];const o=this.getOwnedScopes(),a=o.filter(e=>e.isViewportScope).map(e=>e.viewportScope),c=a.filter(e=>t.every(t=>t.viewportScope!==e)),l={...this.getEnabledViewports(o)};for(const e of t.filter(e=>e.scope===this))l[e.viewportName]=null;const u=new F(...e.slice());let h=null;for(;null!==(h=u.next());)null===h.viewportScope||this.router.instructionResolver.isAddViewportInstruction(h)||(s.push(...this.foundViewportScope(h,h.viewportScope)),i.push(h),j(c,e=>e===h.viewportScope),u.removeCurrent());if(!n)for(;null!==(h=u.next());)null!==h.viewport&&(s.push(...this.foundViewport(h,h.viewport,n)),i.push(h),l[h.viewport.name]=null,u.removeCurrent());for(;null!==(h=u.next());)for(let e of a)if(e.acceptSegment(h.componentName)){if(Array.isArray(e.source)){let t=c.find(t=>t.name===e.name);if(void 0===t||this.router.instructionResolver.isAddViewportInstruction(h)){const n=e.addSourceItem();t=this.getOwnedScopes().filter(e=>e.isViewportScope).map(e=>e.viewportScope).find(e=>e.sourceItem===n)}e=t}s.push(...this.foundViewportScope(h,e)),i.push(h),j(c,e=>e===h.viewportScope),u.removeCurrent();break}for(;null!==(h=u.next());){h.needsViewportDescribed=!0;for(const e in l){const t=l[e];if(null==t?void 0:t.wantComponent(h.componentName)){const r=this.foundViewport(h,t,n,!0);i.push(h),s.push(...r),l[e]=null,u.removeCurrent();break}}}if(!n)for(;null!==(h=u.next());){const e=h.viewportName;if(!e||!e.length)continue;h.ownsScope;if(!this.getEnabledViewports(o)[e])continue;const t=l[e];if(null==t?void 0:t.acceptComponent(h.componentName)){const r=this.foundViewport(h,t,n,!0);i.push(h),s.push(...r),l[e]=null,u.removeCurrent()}}for(;null!==(h=u.next());){const e=[];for(const t in l){const n=l[t];(null==n?void 0:n.acceptComponent(h.componentName))&&e.push(n)}if(1===e.length){const t=e.shift(),r=this.foundViewport(h,t,n,!0);i.push(h),s.push(...r),l[t.name]=null,u.removeCurrent()}}if(n)for(;null!==(h=u.next());){let e=h.viewport;if(!e){const t=h.viewportName;if(0===(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0))continue;h.ownsScope;if(!this.getEnabledViewports(o)[t])continue;e=l[t]}if(null==e?void 0:e.acceptComponent(h.componentName)){const t=this.foundViewport(h,e,n);i.push(h),s.push(...t),l[e.name]=null,u.removeCurrent()}}return s=[...u,...s],{foundViewports:i,remainingInstructions:s}}foundViewportScope(e,t){var n,r;e.viewportScope=t,e.needsViewportDescribed=!1;const i=null!==(r=null===(n=e.nextScopeInstructions)||void 0===n?void 0:n.slice())&&void 0!==r?r:[];for(const e of i)null===e.scope&&(e.scope=t.scope.scope);return i}foundViewport(e,t,n,r=!1){var i,s;e.setViewport(t),r&&(e.needsViewportDescribed=!1);const o=null!==(s=null===(i=e.nextScopeInstructions)||void 0===i?void 0:i.slice())&&void 0!==s?s:[];for(const e of o)null===e.scope&&(e.scope=t.scope);return o}addViewport(e,t,n={}){var r,i;let s=this.getEnabledViewports(this.getOwnedScopes())[e];return null!==(null!=t?t:null)&&null!==(null!==(r=null==s?void 0:s.connectedCE)&&void 0!==r?r:null)&&s.connectedCE!==t&&(s.enabled=!1,s=null!==(i=this.getOwnedViewports(!0).find(n=>n.name===e&&n.connectedCE===t))&&void 0!==i?i:null,null!==(null!=s?s:null)&&(s.enabled=!0)),null===(null!=s?s:null)&&(s=new ee(this.router,e,t,this.scope,!!n.scope,n),this.addChild(s.connectedScope)),null!==(null!=t?t:null)&&s.setConnectedCE(t,n),s}removeViewport(e,t){return!(null===(null!=t?t:null)&&!e.remove(t))&&(this.removeChild(e.connectedScope),!0)}addViewportScope(e,t,n={}){const r=new V(e,this.router,t,this.scope,!0,null,n);return this.addChild(r.connectedScope),r}removeViewportScope(e){return this.removeChild(e.connectedScope),!0}addChild(e){this.children.some(t=>t===e)||(null!==e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this)}removeChild(e){const t=this.children.indexOf(e);t>=0&&(this.children.splice(t,1),e.parent=null)}clearReplacedChildren(){this.replacedChildren=[]}disableReplacedChildren(){this.replacedChildren=this.enabledChildren;for(const e of this.replacedChildren)e.enabled=!1}reenableReplacedChildren(){for(const e of this.replacedChildren)e.enabled=!0}allViewports(e=!1,t=!1){return this.allScopes(e,t).filter(e=>e.isViewport).map(e=>e.viewport)}allScopes(e=!1,t=!1){const n=e?this.children.slice():this.enabledChildren;for(const r of n.slice())n.push(...r.allScopes(e,t));return n}reparentViewportInstructions(){const e=this.hoistedChildren.filter(e=>null!==e.viewportInstruction&&e.viewportInstruction.componentName);if(!e.length)return null;for(const t of e){const e=t.reparentViewportInstructions();t.viewportInstruction.nextScopeInstructions=null!==e&&e.length>0?e:null}return e.map(e=>e.viewportInstruction)}findMatchingRoute(e){if(this.isViewportScope&&!this.passThroughScope)return this.findMatchingRouteInRoutes(e,this.viewportScope.getRoutes());if(this.isViewport)return this.findMatchingRouteInRoutes(e,this.viewport.getRoutes());for(const t of this.enabledChildren){const n=t.findMatchingRoute(e);if(null!==n)return n}return null}canLoad(e){const t=I.runAll(this.children.map(t=>null!==t.viewport?t.viewport.canLoad(e):t.canLoad(e)));return t instanceof Promise?t.then(e=>e.every(e=>e)):t.every(e=>e)}canUnload(){const e=I.runAll(this.children.map(e=>null!==e.viewport?e.viewport.canUnload():e.canUnload()));return e instanceof Promise?e.then(e=>e.every(e=>e)):e.every(e=>e)}load(e){const t=I.runAll(this.children.map(t=>null!==t.viewport?t.viewport.load(e):t.load(e)));if(t instanceof Promise)return t}unload(e){const t=I.runAll(this.children.map(t=>null!==t.viewport?t.viewport.unload(e):t.unload(e)));if(t instanceof Promise)return t}removeContent(){const e=I.runAll(this.children.map(e=>null!==e.viewport?e.viewport.removeContent():e.removeContent()));if(e instanceof Promise)return e}findMatchingRouteInRoutes(e,t){if(!Array.isArray(t))return null;const n=(t=t.map(e=>this.ensureProperRoute(e))).map(e=>({path:e.path,handler:e}));for(let e=0,t=n.length;e<t;++e){const t=n[e];n.push({...t,path:t.path+"/*remainingPath"})}const r=new $;(e.startsWith("/")||e.startsWith("+"))&&(e=e.slice(1));const i=new Z;i.add(n);const s=i.recognize(e);if(null!==s){r.match=s.endpoint.route.handler,r.matching=e;const t={...s.params};void 0!==t.remainingPath&&(r.remaining=t.remainingPath,Reflect.deleteProperty(t,"remainingPath"),r.matching=r.matching.slice(0,r.matching.indexOf(r.remaining))),r.params=t}if(r.foundConfiguration){r.instructions=this.router.instructionResolver.cloneViewportInstructions(r.match.instructions,!1,!0);const e=r.instructions.slice();for(;e.length>0;){const t=e.shift();t.addParameters(r.params),t.route="",null!==t.nextScopeInstructions&&e.unshift(...t.nextScopeInstructions)}r.instructions.length>0&&(r.instructions[0].route=r)}return r}ensureProperRoute(e){return void 0===e.id&&(e.id=e.path),void 0===e.instructions&&(e.instructions=[{component:e.component,viewport:e.viewport,parameters:e.parameters,children:e.children}]),e.instructions=re.toViewportInstructions(this.router,e.instructions),e}}class ee{constructor(e,t,n,r,i,s={}){this.router=e,this.name=t,this.connectedCE=n,this.options=s,this.nextContent=null,this.nextContentAction="",this.forceRemove=!1,this.path=null,this.clear=!1,this.connectionResolve=null,this.previousViewportState=null,this.cache=[],this.historyCache=[],this.content=new N,this.connectedScope=new X(e,i,r,this)}get scope(){return this.connectedScope.scope}get owningScope(){return this.connectedScope.owningScope}get connectedController(){var e,t;return null!==(t=null===(e=this.connectedCE)||void 0===e?void 0:e.$controller)&&void 0!==t?t:null}get enabled(){return this.connectedScope.enabled}set enabled(e){this.connectedScope.enabled=e}get isViewport(){return!0}get isViewportScope(){return!1}get isEmpty(){return null===this.content.componentInstance}get doForceRemove(){let e=this.connectedScope;for(;null!==e;){if(null!==e.viewport&&e.viewport.forceRemove)return!0;e=e.parent}return!1}get activeContent(){var e;return null!==(e=this.nextContent)&&void 0!==e?e:this.content}get nextContentActivated(){var e,t;return null!==(t=null===(e=this.nextContent)||void 0===e?void 0:e.contentStates.has("activated"))&&void 0!==t&&t}get parentNextContentActivated(){var e,t,n;return null!==(n=null===(t=null===(e=this.scope.parent)||void 0===e?void 0:e.owner)||void 0===t?void 0:t.nextContentActivated)&&void 0!==n&&n}get performLoad(){return!0}get performSwap(){return!0}toString(){var e,t,n,r;const i=null!==(t=null===(e=this.content)||void 0===e?void 0:e.content.componentName)&&void 0!==t?t:"",s=null!==(r=null===(n=this.nextContent)||void 0===n?void 0:n.content.componentName)&&void 0!==r?r:"";return`v:${this.name}[${i}->${s}]`}setNextContent(e,t){var n;if(e.setViewport(this),this.clear=this.router.instructionResolver.isClearViewportInstruction(e),this.nextContent=new N(this.clear?void 0:e,t,null!==(n=this.connectedCE)&&void 0!==n?n:null),this.nextContent.fromHistory=!(!this.nextContent.componentInstance||!t.navigation)&&(!!t.navigation.back||!!t.navigation.forward),this.options.stateful){const e=this.cache.find(e=>this.nextContent.isCacheEqual(e));e?(this.nextContent=e,this.nextContent.fromCache=!0):this.cache.push(this.nextContent)}return this.connectedScope.clearReplacedChildren(),null!==this.nextContent.componentInstance&&this.content.componentInstance===this.nextContent.componentInstance?(this.nextContent=null,this.nextContentAction="skip"):!this.content.equalComponent(this.nextContent)||"swap"===this.connectedScope.parentNextContentAction||t.navigation.refresh||"refresh"===this.content.reentryBehavior()?(this.connectedScope.disableReplacedChildren(),this.nextContentAction="swap"):"disallow"===this.content.reentryBehavior()?(this.nextContent=null,this.nextContentAction="skip"):"load"===this.content.reentryBehavior()?(this.content.reentry=!0,this.nextContent.content.setComponent(this.content.componentInstance),this.nextContent.contentStates=this.content.contentStates.clone(),this.nextContent.reentry=this.content.reentry,this.nextContentAction="reload"):this.options.stateful&&this.content.equalParameters(this.nextContent)?(this.nextContent=null,this.nextContentAction="skip"):this.content.equalParameters(this.nextContent)?"skip":(this.connectedScope.disableReplacedChildren(),this.nextContentAction="swap")}setConnectedCE(e,t){if(t=t||{},this.connectedCE!==e&&(this.previousViewportState={...this},this.clearState(),this.connectedCE=e,t.usedBy&&(this.options.usedBy=t.usedBy),t.default&&(this.options.default=t.default),t.fallback&&(this.options.fallback=t.fallback),t.noLink&&(this.options.noLink=t.noLink),t.noTitle&&(this.options.noTitle=t.noTitle),t.noHistory&&(this.options.noHistory=t.noHistory),t.stateful&&(this.options.stateful=t.stateful),this.connectionResolve&&this.connectionResolve()),!this.content.componentInstance&&(!this.nextContent||!this.nextContent.componentInstance)&&this.options.default){const e=this.router.instructionResolver.parseViewportInstructions(this.options.default);for(const t of e)t.setViewport(this.name),t.scope=this.owningScope,t.default=!0;this.router.load(e,{append:!0}).catch(e=>{throw e})}}remove(e){return this.connectedCE===e&&I.run(()=>{if(this.content.componentInstance)return this.content.freeContent(this.connectedCE,this.nextContent?this.nextContent.instruction:null,this.historyCache,!this.doForceRemove&&(this.router.statefulHistory||this.options.stateful))},()=>{if(this.doForceRemove){const e=[];for(const t of this.historyCache)e.push(()=>t.freeContent(null,null,this.historyCache,!1));return e.push(()=>{this.historyCache=[]}),I.run(...e)}return!0})}transition(e){const t=e.checkingSyncState("guarded"),n=this.performLoad||!t,r=this.performSwap||!t,i=[()=>!n||this.canUnload(),t=>{if(!t)return I.cancel(void 0),void e.cancel();this.router.isRestrictedNavigation&&this.nextContent.createComponent(this.connectedCE,this.options.fallback),e.addEntityState(this,"guardedUnload")},()=>e.syncState("guardedUnload",this),()=>!n||this.canLoad(t),t=>{if("boolean"==typeof t){if(!t)return I.cancel(void 0),void e.cancel();e.addEntityState(this,"guardedLoad"),e.addEntityState(this,"guarded")}else I.run(()=>this.router.load(t,{append:!0}),()=>this.abortContentChange())}],s=[()=>e.syncState("guarded",this),()=>!n||this.unload(!0),()=>e.addEntityState(this,"unloaded"),()=>e.syncState("unloaded",this),()=>!n||this.load(e.checkingSyncState("routed")),()=>e.addEntityState(this,"loaded"),()=>e.addEntityState(this,"routed")],o=[()=>e.syncState("routed",this)];r&&(this.router.options.swapStrategy.includes("parallel")?o.push(()=>this.router.options.swapStrategy.includes("add")?I.run(this.addContent(),this.removeContent()):I.run(this.removeContent(),this.addContent())):o.push(()=>r?this.router.options.swapStrategy.includes("add")?this.addContent():this.removeContent():void 0,()=>r?this.router.options.swapStrategy.includes("add")?this.removeContent():this.addContent():void 0)),o.push(()=>e.addEntityState(this,"swapped")),I.run(...i,...s,...o,()=>e.addEntityState(this,"completed"))}canUnload(){return I.run(()=>this.connectedScope.canUnload(),e=>{var t,n;return!!e&&this.content.canUnload(null!==(n=null===(t=this.nextContent)||void 0===t?void 0:t.instruction)&&void 0!==n?n:null)})}canLoad(e){var t,n;return!!this.clear||(null===(null!==(n=null===(t=this.nextContent)||void 0===t?void 0:t.content)&&void 0!==n?n:null)||I.run(()=>this.waitForConnected(),()=>(this.nextContent.createComponent(this.connectedCE,this.options.fallback),this.nextContent.canLoad(this,this.content.instruction))))}load(e){var t,n;if(!this.clear&&null!==(null!==(n=null===(t=this.nextContent)||void 0===t?void 0:t.componentInstance)&&void 0!==n?n:null))return I.run(()=>{var e;return null===(e=this.nextContent)||void 0===e?void 0:e.load(this.content.instruction)})}addContent(){return I.run(()=>this.activate(null,this.connectedController,0,this.parentNextContentActivated))}removeContent(){if(!this.isEmpty)return I.run(()=>this.connectedScope.removeContent(),()=>this.deactivate(null,null,0),()=>this.dispose())}removeChildrenContent(){return I.run(()=>this.isEmpty?void 0:this.connectedScope.removeContent())}activate(e,t,n,r){if(null!==this.activeContent.componentInstance)return this.connectedScope.reenableReplacedChildren(),I.run(()=>this.activeContent.load(this.activeContent.instruction),()=>this.activeContent.activateComponent(e,t,n,this.connectedCE,r))}deactivate(e,t,n){var r;if(this.content.componentInstance&&!this.content.reentry&&this.content.componentInstance!==(null===(r=this.nextContent)||void 0===r?void 0:r.componentInstance))return I.run(()=>{var e;return null===(e=this.content)||void 0===e?void 0:e.unload(this.content.instruction)},()=>{var r;return null===(r=this.content)||void 0===r?void 0:r.deactivateComponent(e,t,n,this.connectedCE,this.router.statefulHistory||this.options.stateful)})}unload(e){return I.run(()=>!e||this.connectedScope.unload(e),()=>{var e,t;if(this.content.componentInstance)return this.content.unload(null!==(t=null===(e=this.nextContent)||void 0===e?void 0:e.instruction)&&void 0!==t?t:null)})}dispose(){var e;if(this.content.componentInstance&&!this.content.reentry&&this.content.componentInstance!==(null===(e=this.nextContent)||void 0===e?void 0:e.componentInstance))return I.run(()=>this.content.disposeComponent(this.connectedCE,this.historyCache,this.router.statefulHistory||this.options.stateful))}finalizeContentChange(){this.nextContent.componentInstance&&(this.content=this.nextContent,this.content.reentry=!1),this.clear&&(this.content=new N(void 0,this.nextContent.instruction)),this.nextContent=null,this.nextContentAction="",this.previousViewportState=null,this.connectedScope.clearReplacedChildren()}abortContentChange(){return this.connectedScope.reenableReplacedChildren(),I.run(()=>this.nextContent.freeContent(this.connectedCE,this.nextContent.instruction,this.historyCache,this.router.statefulHistory||this.options.stateful),()=>{this.previousViewportState&&Object.assign(this,this.previousViewportState),this.nextContentAction=""})}wantComponent(e){let t=this.options.usedBy||[];return"string"==typeof t&&(t=t.split(",")),t.includes(e)}acceptComponent(e){if("-"===e||null===e)return!0;let t=this.options.usedBy;return!t||!t.length||("string"==typeof t&&(t=t.split(",")),!!t.includes(e)||!!t.filter(e=>e.includes("*")).length)}freeContent(e){const t=this.historyCache.find(t=>t.componentInstance===e);if(void 0!==t)return I.run(()=>(this.forceRemove=!0,t.freeContent(null,null,this.historyCache,!1)),()=>{this.forceRemove=!1,j(this.historyCache,e=>e===t)})}getRoutes(){const e=this.getComponentType();if(null===e)return null;const t=e.routes;return Array.isArray(t)?t:null}getTitle(e){var t,n;if(this.options.noTitle)return"";const r=this.getComponentType();if(null===r)return"";let i="";const s=r.title;if(void 0!==s)if("string"==typeof s)i=s;else{const t=this.getComponentInstance();i=s.call(t,t,e)}else if(this.router.options.title.useComponentNames){let e=null!==(t=this.getContentInstruction().componentName)&&void 0!==t?t:"";const r=null!==(n=this.router.options.title.componentPrefix)&&void 0!==n?n:"";e.startsWith(r)&&(e=e.slice(r.length)),e=e.replace("-"," "),i=e.slice(0,1).toLocaleUpperCase()+e.slice(1)}return void 0!==this.router.options.title.transformTitle&&(i=this.router.options.title.transformTitle.call(this,i,this.getContentInstruction())),i}getComponentType(){var e;let t=null!==(e=this.getContentInstruction().componentType)&&void 0!==e?e:null;if(null===t){t=v.x.for(this.connectedCE.element).context.componentType}return null!=t?t:null}getComponentInstance(){var e;return null!==(e=this.getContentInstruction().componentInstance)&&void 0!==e?e:null}getContentInstruction(){var e,t,n;return null!==(n=null!==(t=null===(e=this.nextContent)||void 0===e?void 0:e.content)&&void 0!==t?t:this.content.content)&&void 0!==n?n:null}clearState(){this.options={},this.content=new N,this.cache=[]}waitForConnected(){if(null===this.connectedCE)return new Promise(e=>{this.connectionResolve=e})}}const te={isName:e=>"string"==typeof e,isType:e=>v.x.isType(e),isInstance:e=>!te.isName(e)&&!te.isType(e),getName:e=>te.isName(e)?e:te.isType(e)?v.x.getDefinition(e).name:te.getName(e.constructor),getType:e=>te.isName(e)?null:te.isType(e)?e:e.constructor,getInstance:e=>te.isName(e)||te.isType(e)?null:e},ne={isName:e=>"string"==typeof e,isInstance:e=>e instanceof ee,getName:e=>ne.isName(e)?e:e?e.name:null,getInstance:e=>ne.isName(e)?null:e},re={createViewportInstructions(e,t,n){let r=null;if((n=n||{}).context)if(r=e.findScope(n.context),"string"==typeof t)if(t.startsWith("/"))r=e.rootScope.scope;else{if(t.startsWith("."))for(t.startsWith("./")&&(t=t.slice(2));t.startsWith("../");)r=r.parent||r,t=t.slice(3);null!==r.path&&(t=`${r.path}/${t}`,r=e.rootScope.scope)}else{t=re.toViewportInstructions(e,t);for(const e of t)null===e.scope&&(e.scope=r)}return{instructions:t,scope:r}},toViewportInstructions(e,t){if(!Array.isArray(t))return re.toViewportInstructions(e,[t]);const n=[];for(const r of t)if("string"==typeof r)n.push(...e.instructionResolver.parseViewportInstructions(r));else if(r instanceof oe)n.push(r);else if(r.component){const t=r,i=e.createViewportInstruction(t.component,t.viewport,t.parameters);void 0!==t.children&&null!==t.children&&(i.nextScopeInstructions=re.toViewportInstructions(e,t.children)),n.push(i)}else n.push(e.createViewportInstruction(r));return n}};class ie{constructor(){this.separators={viewport:"@",sibling:"+",scope:"/",scopeStart:"(",scopeEnd:")",noScope:"!",parameters:"(",parametersEnd:")",parameterSeparator:",",parameterKeySeparator:"=",parameter:"&",add:"+",clear:"-",action:"."},this.useUrlFragmentHash=!0,this.useHref=!0,this.statefulHistoryLength=0,this.useDirectRoutes=!0,this.useConfiguredRoutes=!0,this.additiveInstructionDefault=!0,this.title={appTitle:"${componentTitles}${appTitleSeparator}Aurelia",appTitleSeparator:" | ",componentTitleOrder:"top-down",componentTitleSeparator:" > ",useComponentNames:!0,componentPrefix:"app-"},this.navigationSyncStates=["guardedUnload","swapped","completed"],this.swapStrategy="add-first-sequential",this.routingHookIntegration="integrated"}}var se;!function(e){e.none="none",e.string="string",e.array="array",e.object="object"}(se||(se={}));let oe=(()=>{class e{constructor(){this.componentName=null,this.componentType=null,this.componentInstance=null,this.viewportName=null,this.viewport=null,this.parametersString=null,this.parametersRecord=null,this.parametersList=null,this.parametersType="none",this.ownsScope=!0,this.nextScopeInstructions=null,this.scope=null,this.context="",this.viewportScope=null,this.needsViewportDescribed=!1,this.route=null,this.default=!1,this.topInstruction=!1,this.instructionResolver=null}static create(t,n,r,i,s=!0,o=null){const a=new e;return a.setComponent(n),a.setViewport(r),a.setParameters(i),a.ownsScope=s,a.nextScopeInstructions=o,a.setInstructionResolver(t),a}get owner(){var e,t;return null!==(t=null!==(e=this.viewport)&&void 0!==e?e:this.viewportScope)&&void 0!==t?t:null}get typedParameters(){switch(this.parametersType){case"string":return this.parametersString;case"array":return this.parametersList;case"object":return this.parametersRecord;default:return null}}get parameters(){return null!==this.instructionResolver?this.instructionResolver.parseComponentParameters(this.typedParameters):[]}get normalizedParameters(){return null!==this.instructionResolver&&null!==this.typedParameters?this.instructionResolver.stringifyComponentParameters(this.parameters):""}setComponent(e){te.isName(e)?(this.componentName=te.getName(e),this.componentType=null,this.componentInstance=null):te.isType(e)?(this.componentName=this.getNewName(e),this.componentType=te.getType(e),this.componentInstance=null):te.isInstance(e)&&(this.componentName=this.getNewName(te.getType(e)),this.componentType=te.getType(e),this.componentInstance=te.getInstance(e))}setViewport(e){void 0!==e&&""!==e||(e=null),"string"==typeof e?(this.viewportName=e,this.viewport=null):(this.viewport=e,null!==e&&(this.viewportName=e.name,this.scope=e.owningScope))}setParameters(e){null==e||""===e?(this.parametersType="none",e=null):"string"==typeof e?(this.parametersType="string",this.parametersString=e):Array.isArray(e)?(this.parametersType="array",this.parametersList=e):(this.parametersType="object",this.parametersRecord=e)}addParameters(e){if("none"===this.parametersType)return this.setParameters(e);if("object"!==this.parametersType)throw new Error("Can't add object parameters to existing non-object parameters!");this.setParameters({...this.parametersRecord,...e})}setInstructionResolver(e){this.instructionResolver=e}isEmpty(){return!this.isComponentName()&&!this.isComponentType()&&!this.isComponentInstance()}isComponentName(){return!!this.componentName&&!this.isComponentType()&&!this.isComponentInstance()}isComponentType(){return null!==this.componentType&&!this.isComponentInstance()}isComponentInstance(){return null!==this.componentInstance}toComponentType(e){if(null!==this.componentType)return this.componentType;if(null!==this.componentName&&"string"==typeof this.componentName&&null!==e&&e.has(v.x.keyFrom(this.componentName),!0)){const t=e.getResolver(v.x.keyFrom(this.componentName));if(null!==t&&void 0!==t.getFactory){const n=t.getFactory(e);if(n)return n.Type}}return null}toComponentInstance(e){if(null!==this.componentInstance)return this.componentInstance;if(null!=e){const t=this.isComponentType()?e.get(this.componentType):e.get(v.x.keyFrom(this.componentName));return!this.isComponentType()||t instanceof this.componentType||console.warn("Failed to instantiate",this.componentType,t),null!=t?t:null}return null}toViewportInstance(e){return null!==this.viewport?this.viewport:e.getViewport(this.viewportName)}toSpecifiedParameters(e){e=e||[];const t=this.parameters,n={};for(const r of e){let e=t.findIndex(e=>e.key===r);if(e>=0){const[i]=t.splice(e,1);n[r]=i.value}else if(e=t.findIndex(e=>void 0===e.key),e>=0){const[i]=t.splice(e,1);n[r]=i.value}}for(const e of t.filter(e=>void 0!==e.key))n[e.key]=e.value;let r=e.length;for(const e of t.filter(e=>void 0===e.key))n[r++]=e.value;return n}toSortedParameters(e){e=e||[];const t=this.parameters,n=[];for(const r of e){let e=t.findIndex(e=>e.key===r);if(e>=0){const r={...t.splice(e,1)[0]};r.key=void 0,n.push(r)}else if(e=t.findIndex(e=>void 0===e.key),e>=0){const r={...t.splice(e,1)[0]};n.push(r)}else n.push({value:void 0})}const r=t.filter(e=>void 0!==e.key);return r.sort((e,t)=>(e.key||"")<(t.key||"")?1:(t.key||"")<(e.key||"")?-1:0),n.push(...r),n.push(...t.filter(e=>void 0===e.key)),n}sameComponent(e,t=!1,n=!1){return!(t&&!this.sameParameters(e,n))&&(n?this.componentType===e.componentType:this.componentName===e.componentName)}sameParameters(e,t=!1){if(!this.sameComponent(e,!1,t))return!1;const n=this.componentType?this.componentType.parameters:[],r=this.toSpecifiedParameters(n),i=e.toSpecifiedParameters(n);return Object.keys(r).every(e=>r[e]===i[e])&&Object.keys(i).every(e=>i[e]===r[e])}sameViewport(e){return null!==this.viewport&&null!==e.viewport?this.viewport===e.viewport:this.scope===e.scope&&(this.viewport?this.viewport.name:this.viewportName)===(e.viewport?e.viewport.name:e.viewportName)}getNewName(e){return null===this.componentName?te.getName(e):this.componentName}}return e.inject=[ie],e})();class ae{constructor(){this.separators={viewport:"@",sibling:"+",scope:"/",scopeStart:"(",scopeEnd:")",noScope:"!",parameters:"(",parametersEnd:")",parameterSeparator:",",parameterKeySeparator:"=",parameter:"&",add:"+",clear:"-",action:"."}}start(e){e=e||{},this.separators={...this.separators,...e.separators}}get clearViewportInstruction(){return this.separators.clear}get addViewportInstruction(){return this.separators.add}isClearViewportInstruction(e){return e instanceof oe?e.componentName===this.clearViewportInstruction&&!!e.viewportName:e.startsWith(this.clearViewportInstruction)&&e!==this.clearViewportInstruction}isAddViewportInstruction(e){return e instanceof oe?e.componentName===this.addViewportInstruction:e===this.addViewportInstruction||e.startsWith(`${this.separators.add}${this.separators.viewport}`)}isClearViewportScopeInstruction(e){return e instanceof oe?e.componentName===this.clearViewportInstruction&&!!e.viewportScope:e.startsWith(this.clearViewportInstruction)&&e!==this.clearViewportInstruction}isClearAllViewportsInstruction(e){return e instanceof oe?e.componentName===this.clearViewportInstruction&&!e.viewportName:e===this.clearViewportInstruction}isAddAllViewportsInstruction(e){return e instanceof oe?e.componentName===this.addViewportInstruction&&!e.viewportName:e===this.addViewportInstruction}createViewportInstruction(e,t,n,r=!0,i=null){return e instanceof Promise?e.then(e=>this.createViewportInstruction(e,t,n,r,i)):oe.create(this,e,t,n,r,i)}parseViewportInstructions(e){const t=/^[./]+/.exec(e);let n="";Array.isArray(t)&&t.length>0&&(n=t[0],e=e.slice(n.length));const r=this.parseViewportInstructionsWorker(e,!0).instructions;for(const e of r)e.context=n;return r}parseViewportInstruction(e){const t=this.parseViewportInstructions(e);return t.length?t[0]:this.createViewportInstruction("")}stringifyViewportInstructions(e,t=!1,n=!1){return"string"==typeof e?e:e.map(e=>this.stringifyViewportInstruction(e,t,n)).filter(e=>e&&e.length).join(this.separators.sibling)}stringifyViewportInstruction(e,t=!1,n=!1){var r;if("string"==typeof e)return this.stringifyAViewportInstruction(e,t);{let i=t,s=!1;if(n){if(e.viewport&&e.viewport.options.noLink)return"";e.needsViewportDescribed||!e.viewport||e.viewport.options.forceDescription||(i=!0),e.viewport&&e.viewport.options.fallback===e.componentName&&(s=!0),!e.needsViewportDescribed&&e.viewportScope&&(i=!0)}let o=null!==(r=e.route)&&void 0!==r?r:null;const a=e.nextScopeInstructions;let c=e.context;if(null!==o){if(""===o)return Array.isArray(a)?this.stringifyViewportInstructions(a,t,n):"";o=o.matching,c+=o.endsWith(this.separators.scope)?o.slice(0,-this.separators.scope.length):o}else c+=this.stringifyAViewportInstruction(e,i,s);if(Array.isArray(a)&&a.length){const e=this.stringifyViewportInstructions(a,t,n);e.length>0&&(c+=1===a.length?`${this.separators.scope}${e}`:`${this.separators.scope}${this.separators.scopeStart}${e}${this.separators.scopeEnd}`)}return c}}stringifyScopedViewportInstructions(e){return Array.isArray(e)?e.map(e=>this.stringifyViewportInstruction(e)).join(this.separators.scope):this.stringifyScopedViewportInstructions([e])}encodeViewportInstructions(e){return encodeURIComponent(this.stringifyViewportInstructions(e)).replace(/\(/g,"%28").replace(/\)/g,"%29")}decodeViewportInstructions(e){return this.parseViewportInstructions(decodeURIComponent(e))}buildScopedLink(e,t){return e&&(t=`/${e}${this.separators.scope}${t}`),t}shouldClearViewports(e){return{clearViewports:e===this.separators.clear||e.startsWith(this.separators.clear+this.separators.add),newPath:e.startsWith(this.separators.clear)?e.slice(2):e}}mergeViewportInstructions(e){const t=[];for(let n of e){"string"==typeof n&&(n=this.parseViewportInstruction(n));const e=t.findIndex(e=>e.sameViewport(n));e>=0?t.splice(e,1,n):t.push(n)}return t}flattenViewportInstructions(e){const t=[];for(const n of e)t.push(n),n.nextScopeInstructions&&t.push(...this.flattenViewportInstructions(n.nextScopeInstructions));return t}cloneViewportInstructions(e,t=!1,n=!1){var r,i,s;const o=[];for(const a of e){const e=this.createViewportInstruction(a.componentName,a.viewportName,null!==a.typedParameters?a.typedParameters:void 0);t&&(e.setComponent(null!==(i=null!==(r=a.componentInstance)&&void 0!==r?r:a.componentType)&&void 0!==i?i:a.componentName),e.setViewport(null!==(s=a.viewport)&&void 0!==s?s:a.viewportName)),e.needsViewportDescribed=a.needsViewportDescribed,e.route=a.route,n&&(e.context=a.context),e.viewportScope=t?a.viewportScope:null,e.scope=t?a.scope:null,a.nextScopeInstructions&&(e.nextScopeInstructions=this.cloneViewportInstructions(a.nextScopeInstructions,t,n)),o.push(e)}return o}parseComponentParameters(e,t=!1){if(null==e||0===e.length)return[];if("string"==typeof e){const n=[],r=e.split(this.separators.parameterSeparator);for(const e of r){let r,i;[r,i]=e.split(this.separators.parameterKeySeparator),void 0===i?(i=t?decodeURIComponent(r):r,r=void 0):t&&(r=decodeURIComponent(r),i=decodeURIComponent(i)),n.push({key:r,value:i})}return n}if(Array.isArray(e))return e.map(e=>({key:void 0,value:e}));const n=Object.keys(e);return n.sort(),n.map(t=>({key:t,value:e[t]}))}stringifyComponentParameters(e,t=!1){if(!Array.isArray(e)||0===e.length)return"";const n=this.separators;return e.map(e=>{const r=void 0!==e.key&&t?encodeURIComponent(e.key):e.key,i=t?encodeURIComponent(e.value):e.value;return void 0!==r&&r!==i?r+n.parameterKeySeparator+i:i}).join(n.parameterSeparator)}matchScope(e,t){const n=[];return n.push(...e.filter(e=>e.scope===t)),n.push(...e.filter(e=>e.scope!==t).map(e=>Array.isArray(e.nextScopeInstructions)?this.matchScope(e.nextScopeInstructions,t):[]).flat()),n}matchChildren(e,t){for(const n of e){const e=t.filter(e=>e.sameComponent(n));if(0===e.length)return!1;if(Array.isArray(n.nextScopeInstructions)&&n.nextScopeInstructions.length>0&&!1===this.matchChildren(n.nextScopeInstructions,e.map(e=>Array.isArray(e.nextScopeInstructions)?e.nextScopeInstructions:[]).flat()))return!1}return!0}parseViewportInstructionsWorker(e,t=!1){if(!e)return{instructions:[],remaining:""};e.startsWith(this.separators.scopeStart)&&(e=`${this.separators.scope}${e}`);const n=[];let r=1e3;for(;e.length&&r;)if(r--,e.startsWith(this.separators.scope)){const t=(e=e.slice(this.separators.scope.length)).startsWith(this.separators.scopeStart);t&&(e=e.slice(this.separators.scopeStart.length));const{instructions:r,remaining:i}=this.parseViewportInstructionsWorker(e,t);n.length?n[n.length-1].nextScopeInstructions=r:n.push(...r),e=i}else{if(e.startsWith(this.separators.scopeEnd))return t&&(e=e.slice(this.separators.scopeEnd.length)),{instructions:n,remaining:e};if(e.startsWith(this.separators.sibling)&&!this.isAddViewportInstruction(e)){if(!t)return{instructions:n,remaining:e};e=e.slice(this.separators.sibling.length)}else{const{instruction:t,remaining:r}=this.parseAViewportInstruction(e);n.push(t),e=r}}return{instructions:n,remaining:e}}findNextToken(e,t){const n={};for(const r of t){e.indexOf(r)>-1&&(n[r]=e.indexOf(r))}const r=Math.min(...Object.values(n));for(const e in n)if(n[e]===r)return{token:e,pos:r};return{token:"",pos:-1}}parseAViewportInstruction(e){const t=this.separators,n=[t.parameters,t.viewport,t.noScope,t.scopeEnd,t.scope,t.sibling];let r,i,s=void 0,o=void 0,a=void 0,c=!0;const l=[t.add,t.clear];for(const i of l)if(e===i){s=e,e="",n.shift(),n.shift(),r=t.viewport;break}if(void 0===s)for(const i of l)if(e.startsWith(`${i}${t.viewport}`)){s=i,e=e.slice(`${i}${t.viewport}`.length),n.shift(),n.shift(),r=t.viewport;break}void 0===s&&(({token:r,pos:i}=this.findNextToken(e,n)),s=-1!==i?e.slice(0,i):e,e=-1!==i?e.slice(i+r.length):"",n.shift(),r===t.parameters&&(({token:r,pos:i}=this.findNextToken(e,[t.parametersEnd])),o=e.slice(0,i),e=e.slice(i+r.length),({token:r}=this.findNextToken(e,n)),e=e.slice(r.length)),n.shift()),r===t.viewport&&(({token:r,pos:i}=this.findNextToken(e,n)),a=-1!==i?e.slice(0,i):e,e=-1!==i?e.slice(i+r.length):""),n.shift(),r===t.noScope&&(c=!1),r!==t.scopeEnd&&r!==t.scope&&r!==t.sibling||(e=`${r}${e}`);return{instruction:this.createViewportInstruction(s,a,o,c),remaining:e}}stringifyAViewportInstruction(e,t=!1,n=!1){if("string"==typeof e)return this.stringifyViewportInstruction(this.parseViewportInstruction(e),t,n);{let r=n?"":e.componentName;const i=e.componentType?e.componentType.parameters:null,s=this.stringifyComponentParameters(e.toSortedParameters(i));return s.length>0&&(r+=n?s:`${this.separators.parameters}${s}${this.separators.parametersEnd}`),null===e.viewportName||t||(r+=this.separators.viewport+e.viewportName),e.ownsScope||(r+=this.separators.noScope),r||""}}}var ce,le;!function(e){e.default="default",e.disallow="disallow",e.load="load",e.refresh="refresh"}(ce||(ce={}));class ue{constructor(e,t,n){this.hook=e,this.id=n,this.type="beforeNavigation",this.includeTargets=[],this.excludeTargets=[],void 0!==t.type&&(this.type=t.type);for(const e of t.include||[])this.includeTargets.push(new he(e));for(const e of t.exclude||[])this.excludeTargets.push(new he(e))}get wantsMatch(){return this.includeTargets.length>0||this.excludeTargets.length>0}matches(e){return!(this.includeTargets.length&&!this.includeTargets.some(t=>t.matches(e)))&&(!this.excludeTargets.length||!this.excludeTargets.some(t=>t.matches(e)))}invoke(e,t){return this.hook(t,e)}}class he{constructor(e){if(this.componentType=null,this.componentName=null,this.viewport=null,this.viewportName=null,"string"==typeof e)this.componentName=e;else if(te.isType(e))this.componentType=e,this.componentName=te.getName(e);else{const t=e;t.component&&(this.componentType=te.isType(t.component)?te.getType(t.component):null,this.componentName=te.getName(t.component)),t.viewport&&(this.viewport=ne.isInstance(t.viewport)?t.viewport:null,this.viewportName=ne.getName(t.viewport))}}matches(e){const t=e.slice();t.length||t.push(oe.create(null,""));for(const e of t)if(null!==this.componentName&&this.componentName===e.componentName||null!==this.componentType&&this.componentType===e.componentType||null!==this.viewportName&&this.viewportName===e.viewportName||null!==this.viewport&&this.viewport===e.viewport)return!0;return!1}}!function(e){e.BeforeNavigation="beforeNavigation",e.TransformFromUrl="transformFromUrl",e.TransformToUrl="transformToUrl",e.SetTitle="setTitle"}(le||(le={}));class de{constructor(){this.hooks={beforeNavigation:[],transformFromUrl:[],transformToUrl:[],setTitle:[]},this.lastIdentity=0}addHook(e,t){const n=new ue(e,t||{},++this.lastIdentity);return this.hooks[n.type].push(n),this.lastIdentity}removeHook(e){for(const t in this.hooks)if(Object.prototype.hasOwnProperty.call(this.hooks,t)){const n=this.hooks[t].findIndex(t=>t.id===e);n>=0&&this.hooks[t].splice(n,1)}}async invokeBeforeNavigation(e,t){return this.invoke("beforeNavigation",t,e)}async invokeTransformFromUrl(e,t){return this.invoke("transformFromUrl",t,e)}async invokeTransformToUrl(e,t){return this.invoke("transformToUrl",t,e)}async invokeSetTitle(e,t){return this.invoke("setTitle",t,e)}async invoke(e,t,n){for(const r of this.hooks[e])if(!r.wantsMatch||r.matches(n)){const e=await r.invoke(t,n);if("boolean"==typeof e){if(!e)return!1}else n=e}return n}}class pe{constructor(e,t){this.nav=e,this.instructions=[],this.link=null,this.linkVisible=null,this.linkActive=null,this.compareParameters=!1,this.children=null,this.visible=!0,this.active="",this.title=t.title,this.meta=t.meta,t.route&&(this.instructions=this.parseRoute(t.route),this.link=this.computeLink(this.instructions)),this.linkActive=null!==t.consideredActive&&void 0!==t.consideredActive?t.consideredActive:this.link,null===this.linkActive||this.linkActive instanceof Function&&!te.isType(this.linkActive)||(this.linkActive=re.toViewportInstructions(this.nav.router,this.linkActive)),this.execute=t.execute,this.compareParameters=!!t.compareParameters,this.linkVisible=void 0===t.condition||t.condition,this.update()}get hasChildren(){return this.children&&this.children.length?"nav-has-children":""}update(){this.visible=this.computeVisible(),this.link&&this.link.length||this.execute?this.active=this.computeActive():this.active="nav-active"===this.active?"nav-active":this.activeChild()?"nav-active-child":""}executeAction(e){this.execute&&this.execute(this),e.stopPropagation()}toggleActive(){this.active=this.active.startsWith("nav-active")?"":"nav-active"}parseRoute(e){return re.toViewportInstructions(this.nav.router,e)}computeVisible(){return this.linkVisible instanceof Function?this.linkVisible(this):!!this.linkVisible}computeActive(){if(!Array.isArray(this.linkActive))return this.linkActive(this)?"nav-active":"";const e=this.linkActive,t=this.nav.router.instructionResolver.flattenViewportInstructions(this.nav.router.activeComponents);for(const n of e)if(t.every(e=>!e.sameComponent(n,this.compareParameters&&null!==n.typedParameters)))return"";return"nav-active"}computeLink(e){return this.nav.router.instructionResolver.stringifyViewportInstructions(e)}activeChild(){if(this.children)for(const e of this.children)if(e.active.startsWith("nav-active")||e.activeChild())return!0;return!1}}class fe{constructor(e,t,n=[],r={}){this.router=e,this.name=t,this.routes=n,this.classes=r,this.update()}addRoutes(e){for(const t of e)this.addRoute(this.routes,t);this.update()}update(){this.updateRoutes(this.routes),this.routes=this.routes.slice()}addRoute(e,t){const n=new pe(this,t);if(e.push(n),t.children){n.children=[];for(const e of t.children)this.addRoute(n.children,e)}}updateRoutes(e){for(const t of e)t.update(),t.children&&t.children.length&&this.updateRoutes(t.children)}}var ge=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},me=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let be=(()=>{class e{constructor(e){this.callback=e,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.scheduler=null,this.task=null}get isActive(){return null!==this.task}get length(){return this.pending.length}start(e){if(this.isActive)throw new Error("Queue has already been started");this.scheduler=e.scheduler,this.allowedExecutionCostWithinTick=e.allowedExecutionCostWithinTick,this.task=this.scheduler.queueRenderTask(this.dequeue,{persistent:!0})}stop(){if(!this.isActive)throw new Error("Queue has not been started");this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(e,t){const n=Array.isArray(e),r=n?e:[e],i=r.map((e,n)=>Array.isArray(t)?t[n]:t).map(e=>void 0!==e?e:1),s=[];for(const e of r){const t={...e};t.cost=i.shift(),s.push(new Promise((e,n)=>{t.resolve=()=>{e(),this.processing=null,this.dequeue()},t.reject=e=>{n(e),this.processing=null,this.dequeue()}})),this.pending.push(t)}return this.dequeue(),n?s:s[0]}dequeue(e){null===this.processing&&(void 0!==e&&(this.currentExecutionCostInCurrentTick=0),this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===e&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=this.processing.cost||0,this.callback(this.processing)))))}clear(){this.pending.splice(0,this.pending.length)}}return ge([S.m,me("design:type",Function),me("design:paramtypes",[Number]),me("design:returntype",void 0)],e.prototype,"dequeue",null),e})();class ve{constructor(){this.entries=[],this.options={statefulHistoryLength:0},this.isActive=!1,this.processNavigations=e=>{const t=e,n={first:!1,new:!1,refresh:!1,forward:!1,back:!1,replace:!1};this.currentEntry===this.uninitializedEntry&&(this.loadState(),this.currentEntry!==this.uninitializedEntry?n.refresh=!0:(n.first=!0,n.new=!0,this.currentEntry=new B({index:0,instruction:"",fullStateInstruction:""}),this.entries=[])),void 0===t.index||t.replacing||t.refreshing?t.refreshing||n.refresh?t.index=this.currentEntry.index:t.replacing?(n.replace=!0,n.new=!0,t.index=this.currentEntry.index):(n.new=!0,t.index=void 0!==this.currentEntry.index?this.currentEntry.index+1:this.entries.length):(t.historyMovement=t.index-(void 0!==this.currentEntry.index?this.currentEntry.index:0),t.instruction=void 0!==this.entries[t.index]&&null!==this.entries[t.index]?this.entries[t.index].fullStateInstruction:t.fullStateInstruction,t.replacing=!0,t.historyMovement>0?n.forward=!0:t.historyMovement<0&&(n.back=!0)),this.invokeCallback(t,n,this.currentEntry)},this.uninitializedEntry=new B({instruction:"NAVIGATOR UNINITIALIZED",fullStateInstruction:""}),this.currentEntry=this.uninitializedEntry,this.pendingNavigations=new be(this.processNavigations)}get queued(){return this.pendingNavigations.length}start(e,t){if(this.isActive)throw new Error("Navigator has already been started");this.isActive=!0,this.router=e,this.options={...t}}stop(){if(!this.isActive)throw new Error("Navigator has not been started");this.pendingNavigations.clear(),this.isActive=!1}async navigate(e){return this.pendingNavigations.enqueue(e)}async refresh(){const e=this.currentEntry;return e===this.uninitializedEntry?Promise.reject():(e.replacing=!0,e.refreshing=!0,this.navigate(e))}async go(e){const t=(void 0!==this.currentEntry.index?this.currentEntry.index:0)+e;if(t>=this.entries.length)return Promise.reject();const n=this.entries[t];return this.navigate(n)}async setEntryTitle(e){return this.currentEntry.title=e,this.saveState()}get titles(){if(this.currentEntry===this.uninitializedEntry)return[];const e=void 0!==this.currentEntry.index?this.currentEntry.index:0;return this.entries.slice(0,e+1).filter(e=>!!e.title).map(e=>e.title?e.title:"")}getState(){var e,t;const n=this.options.store?{...this.options.store.state}:{};return{state:n,entries:null!==(e=n.entries)&&void 0!==e?e:[],currentEntry:null!==(t=n.currentEntry)&&void 0!==t?t:null}}loadState(){const e=this.getState();this.entries=e.entries.map(e=>new B(e)),this.currentEntry=null!==e.currentEntry?new B(e.currentEntry):this.uninitializedEntry}async saveState(e=!1){var t;if(this.currentEntry===this.uninitializedEntry)return Promise.resolve();const n=this.currentEntry.toStored();if(this.entries[void 0!==n.index?n.index:0]=new B(n),this.options.statefulHistoryLength>0){const e=this.entries.length-this.options.statefulHistoryLength;for(let t=0;t<e;t++){const n=this.entries[t];"string"==typeof n.instruction&&"string"==typeof n.fullStateInstruction||await this.serializeEntry(n,this.entries.slice(e))}}if(!this.options.store)return Promise.resolve();const r={entries:(null!==(t=this.entries)&&void 0!==t?t:[]).map(e=>this.toStoreableEntry(e)),currentEntry:this.toStoreableEntry(n)};return void 0!==r.currentEntry.title&&this.options.store.setTitle(r.currentEntry.title),e?this.options.store.pushNavigatorState(r):this.options.store.replaceNavigatorState(r)}toStoredEntry(e){const{previous:t,fromBrowser:n,origin:r,replacing:i,refreshing:s,untracked:o,historyMovement:a,navigation:c,scope:l,resolve:u,reject:h,...d}=e;return d}async finalize(e){this.currentEntry=e;let t=void 0!==this.currentEntry.index?this.currentEntry.index:0;if(this.currentEntry.untracked)e.fromBrowser&&this.options.store&&await this.options.store.popNavigatorState(),t--,this.currentEntry.index=t,this.entries[t]=this.currentEntry,await this.saveState();else if(this.currentEntry.replacing)this.entries[t]=this.currentEntry,await this.saveState();else{if(void 0!==this.options.serializeCallback&&this.options.statefulHistoryLength>0){const e=this.entries.length-this.options.statefulHistoryLength;for(const n of this.entries.slice(t))"string"==typeof n.instruction&&"string"==typeof n.fullStateInstruction||await this.options.serializeCallback(n,this.entries.slice(e,t))}this.entries=this.entries.slice(0,t),this.entries.push(this.currentEntry),await this.saveState(!0)}this.currentEntry.resolve&&this.currentEntry.resolve()}async cancel(e){e.fromBrowser&&this.options.store&&(e.navigation&&e.navigation.new?await this.options.store.popNavigatorState():await this.options.store.go(-(e.historyMovement||0),!0)),this.currentEntry.resolve&&this.currentEntry.resolve()}invokeCallback(e,t,n){const r=new B({...e});r.navigation=t,r.previous=n,S.j.write(1e4,"callback",r,r.previous,this.entries),this.options.callback&&this.options.callback(r)}toStoreableEntry(e){const t=e instanceof B?e.toStored():e;return t.instruction=this.router.instructionResolver.stringifyViewportInstructions(t.instruction),t.fullStateInstruction=this.router.instructionResolver.stringifyViewportInstructions(t.fullStateInstruction),"string"!=typeof t.scope&&(t.scope=null),t}async serializeEntry(e,t){const n=this.router.instructionResolver;let r=[];for(const e of t)"string"!=typeof e.instruction&&r.push(...n.flattenViewportInstructions(e.instruction).filter(e=>null!==e.viewport).map(e=>e.componentInstance)),"string"!=typeof e.fullStateInstruction&&r.push(...n.flattenViewportInstructions(e.fullStateInstruction).filter(e=>null!==e.viewport).map(e=>e.componentInstance));r=r.filter((e,t,n)=>null!==e&&n.indexOf(e)===t);let i=[];"string"!=typeof e.fullStateInstruction&&(i.push(...e.fullStateInstruction),e.fullStateInstruction=n.stringifyViewportInstructions(e.fullStateInstruction)),"string"!=typeof e.instruction&&(i.push(...e.instruction),e.instruction=n.stringifyViewportInstructions(e.instruction)),i=i.filter((e,t,n)=>null!==e&&null!==e.componentInstance&&n.indexOf(e)===t);const s=[];for(const e of i)await this.freeInstructionComponents(e,r,s)}freeInstructionComponents(e,t,n){const r=e.componentInstance,i=e.viewport;if(null!==r&&null!==i&&!n.some(e=>e===r)){if(!t.some(e=>e===r))return I.run(()=>i.freeContent(r),()=>{n.push(r)});if(null!==e.nextScopeInstructions)for(const r of e.nextScopeInstructions)return I.run(()=>this.freeInstructionComponents(r,t,n))}}}var ye=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ae=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class we{constructor(e,t,n=0){this.taskQueue=e,this.item=t,this.cost=n,this.done=!1,this.promise=new Promise((e,t)=>{this.resolve=()=>{this.taskQueue.resolve(this,e)},this.reject=e=>{this.taskQueue.reject(this,t,e)}})}async execute(){"execute"in this.item?await this.item.execute(this):await this.item(this)}wait(){return this.promise}canCancel(){return!1}cancel(){}}let Ce=(()=>{class e{constructor(e){this.callback=e,this.pending=[],this.processing=null,this.allowedExecutionCostWithinTick=null,this.currentExecutionCostInCurrentTick=0,this.scheduler=null,this.task=null}get isActive(){return null!==this.task}get length(){return this.pending.length}start(e){if(this.isActive)throw new Error("TaskQueue has already been started");this.scheduler=e.scheduler,this.allowedExecutionCostWithinTick=e.allowedExecutionCostWithinTick,this.task=this.scheduler.queueRenderTask(this.dequeue,{persistent:!0})}stop(){if(!this.isActive)throw new Error("TaskQueue has not been started");this.task.cancel(),this.task=null,this.allowedExecutionCostWithinTick=null,this.clear()}enqueue(e,t){const n=Array.isArray(e),r=n?e:[e],i=r.map((e,n)=>Array.isArray(t)?t[n]:t).map(e=>void 0!==e?e:1),s=[];for(const e of r)s.push(e instanceof we?e:this.createQueueTask(e,i.shift()));return this.pending.push(...s),this.dequeue(),n?s:s[0]}createQueueTask(e,t){return new we(this,e,t)}dequeue(e){var t;null===this.processing&&(void 0!==e&&(this.currentExecutionCostInCurrentTick=0),this.pending.length&&(null!==this.allowedExecutionCostWithinTick&&void 0===e&&this.currentExecutionCostInCurrentTick+(this.pending[0].cost||0)>this.allowedExecutionCostWithinTick||(this.processing=this.pending.shift()||null,this.processing&&(this.currentExecutionCostInCurrentTick+=null!==(t=this.processing.cost)&&void 0!==t?t:0,void 0!==this.callback?this.callback(this.processing):this.processing.execute().catch(e=>{throw e})))))}clear(){this.pending.splice(0,this.pending.length)}resolve(e,t){t(),this.processing=null,this.dequeue()}reject(e,t,n){t(n),this.processing=null,this.dequeue()}}return ye([S.m,Ae("design:type",Function),Ae("design:paramtypes",[Number]),Ae("design:returntype",void 0)],e.prototype,"dequeue",null),e})();var ke=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},xe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Se=function(e,t){return function(n,r){t(n,r,e)}};let Oe=(()=>{let e=class{constructor(e,t,n,r){this.scheduler=e,this.window=t,this.history=n,this.location=r,this.allowedExecutionCostWithinTick=2,this.isActive=!1,this.options={useUrlFragmentHash:!0,callback:()=>{}},this.forwardedState={eventTask:null,suppressPopstate:!1},this.handlePopstate=async e=>{const{eventTask:t,suppressPopstate:n}=this.forwardedState;return this.forwardedState={eventTask:null,suppressPopstate:!1},this.pendingCalls.enqueue(async r=>{const i=e,s=t,o=n;await this.popstate(i,s,o),r.resolve()},1).wait()},this.pendingCalls=new Ce}start(e){if(this.isActive)throw new Error("Browser navigation has already been started");this.isActive=!0,this.options.callback=e.callback,null!=e.useUrlFragmentHash&&(this.options.useUrlFragmentHash=e.useUrlFragmentHash),this.pendingCalls.start({scheduler:this.scheduler,allowedExecutionCostWithinTick:this.allowedExecutionCostWithinTick}),this.window.addEventListener("popstate",this.handlePopstate)}stop(){if(!this.isActive)throw new Error("Browser navigation has not been started");this.window.removeEventListener("popstate",this.handlePopstate),this.pendingCalls.stop(),this.options={useUrlFragmentHash:!0,callback:()=>{}},this.isActive=!1}get length(){return this.history.length}get state(){return this.history.state}get viewerState(){const{pathname:e,search:t,hash:n}=this.location;return{path:e,query:t,hash:n,instruction:this.options.useUrlFragmentHash?n.slice(1):e}}async go(e,t=!1){const n=this.pendingCalls.createQueueTask(e=>e.resolve(),1);return this.pendingCalls.enqueue([e=>{const r=n,i=t;this.forwardState({eventTask:r,suppressPopstate:i}),e.resolve()},t=>{const n=this.history,r=e;n.go(r),t.resolve()}],[0,1]),n.wait()}async pushNavigatorState(e){const{title:t,path:n}=e.currentEntry,r=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue(i=>{const s=this.history,o=e,a=t||"",c=`${r}${n}`;s.pushState(o,a,c),i.resolve()},1).wait()}async replaceNavigatorState(e){const{title:t,path:n}=e.currentEntry,r=this.options.useUrlFragmentHash?"#/":"";return this.pendingCalls.enqueue(i=>{const s=this.history,o=e,a=t||"",c=`${r}${n}`;s.replaceState(o,a,c),i.resolve()},1).wait()}async popNavigatorState(){const e=this.pendingCalls.createQueueTask(e=>e.resolve(),1);return this.pendingCalls.enqueue(async t=>{const n=e;await this.popState(n),t.resolve()},1),e.wait()}async popState(e){await this.go(-1,!0);const t=this.history.state;t&&t.currentEntry&&!t.currentEntry.firstEntry&&(await this.go(-1,!0),await this.pushNavigatorState(t)),await e.execute()}forwardState(e){this.forwardedState=e}async popstate(e,t,n=!1){n||this.options.callback({...this.viewerState,event:e,state:this.history.state}),null!==t&&await t.execute()}setTitle(e){this.window.document.title=e}};return e=ke([Se(0,v.R),Se(1,c.f),Se(2,c.d),Se(3,c.e),xe("design:paramtypes",[Object,Object,Object,Object])],e),e})();class je{constructor(e){this.entity=e,this.running=!1,this.states=[],this.checkedStates=[],this.syncState=null,this.syncPromise=null}}class Te extends class{constructor(){this.entities=[],this.hasAllEntities=!1,this.syncStates=new Map,this.checkedSyncStates=new Set}addSyncState(e){const t=new E;this.syncStates.set(e,t)}addEntity(e){const t=new je(e);return this.entities.push(t),this.resetSyncStates(),t}addEntityState(e,t){let n=this.entities.find(t=>t.entity===e);void 0===n&&(n=this.addEntity(e)),n.states.push(t),this.checkSyncState(t)}syncState(e,t=null){const n=this.syncStates.get(e);if(void 0!==n){if(null!==t){const r=this.entities.find(e=>e.entity===t);if(null===(null==r?void 0:r.syncPromise)&&n.isPending)return r.syncState=e,r.syncPromise=new E,r.checkedStates.push(e),this.checkedSyncStates.add(e),Promise.resolve().then(()=>{this.checkSyncState(e)}).catch(e=>{throw e}),r.syncPromise.promise}return n.promise}}checkingSyncState(e){return this.syncStates.has(e)}finalEntity(){this.hasAllEntities=!0,this.syncStates.forEach((e,t)=>this.checkSyncState(t))}finalize(){}cancel(){}cancelReplaced(e){}checkSyncState(e){var t;const n=this.syncStates.get(e);if(void 0!==n&&this.hasAllEntities&&n.isPending&&this.entities.every(t=>t.states.includes(e))&&(!this.checkedSyncStates.has(e)||this.entities.every(t=>t.checkedStates.includes(e)))){for(const n of this.entities)n.syncState===e&&(null===(t=n.syncPromise)||void 0===t||t.resolve(),n.syncPromise=null,n.syncState=null);n.resolve()}}resetSyncStates(){this.syncStates.forEach((e,t)=>{e.isPending||this.entities.every(e=>e.states.includes(t))||this.addSyncState(t)})}}{constructor(){super(...arguments),this.running=!1}static create(e,t,n){const r=new Te;return r.router=e,r.navigation=t,n.syncStates.forEach(e=>r.addSyncState(e)),r}run(){if(!this.running){this.running=!0;for(const e of this.entities)e.running||(e.running=!0,e.entity.transition(this))}}addEntity(e){const t=super.addEntity(e);return this.running&&t.entity.transition(this),t}finalize(){this.entities.forEach(e=>e.entity.finalizeContentChange())}cancel(){this.entities.forEach(e=>{const t=e.entity.abortContentChange();t instanceof Promise&&t.catch(e=>{throw e})}),this.router.navigator.cancel(this.navigation).then(()=>{this.router.processingNavigation=null,this.navigation.resolve()}).catch(e=>{throw e})}cancelReplaced(e){}}const Re=S.a.createInterface("IRouter").withDefault(e=>e.singleton(Ie));class Be{}let Ie=(()=>{class e{constructor(e,t,n,r,i,s,o){this.container=e,this.navigator=t,this.navigation=n,this.linkHandler=r,this.instructionResolver=i,this.hookManager=s,this.options=o,this.rootScope=null,this.navs={},this.activeComponents=[],this.appendedInstructions=[],this.processingNavigation=null,this.isActive=!1,this.pendingConnects=new Map,this.loadedFirst=!1,this.lastNavigation=null,this.staleChecks={},this.starters=[],this.linkCallback=e=>{let t=e.instruction||"";"string"==typeof t&&t.startsWith("#")&&(t=t.slice(1),t.startsWith("/")||(t="/"+t)),this.load(t,{origin:e.anchor}).catch(e=>{throw e})},this.navigatorCallback=e=>{this.processNavigations(e).catch(e=>{throw e})},this.navigatorSerializeCallback=async(e,t)=>{let n=[];for(const e of t)"string"!=typeof e.instruction&&n.push(...this.instructionResolver.flattenViewportInstructions(e.instruction).filter(e=>null!==e.viewport).map(e=>e.componentInstance)),"string"!=typeof e.fullStateInstruction&&n.push(...this.instructionResolver.flattenViewportInstructions(e.fullStateInstruction).filter(e=>null!==e.viewport).map(e=>e.componentInstance));n=n.filter((e,t,n)=>null!==e&&n.indexOf(e)===t);const r={...e};let i=[];r.fullStateInstruction&&"string"!=typeof r.fullStateInstruction&&(i.push(...r.fullStateInstruction),r.fullStateInstruction=this.instructionResolver.stringifyViewportInstructions(r.fullStateInstruction)),r.instruction&&"string"!=typeof r.instruction&&(i.push(...r.instruction),r.instruction=this.instructionResolver.stringifyViewportInstructions(r.instruction)),i=i.filter((e,t,n)=>null!==e&&null!==e.componentInstance&&n.indexOf(e)===t);const s=[];for(const e of i)await this.freeComponents(e,n,s);return r},this.browserNavigatorCallback=e=>{var t;const n=new B(null===(t=e.state)||void 0===t?void 0:t.currentEntry);n.instruction=e.instruction,n.fromBrowser=!0,this.navigator.navigate(n).catch(e=>{throw e})},this.processNavigations=async e=>{var t,n,r;const i=this.processingNavigation=e;this.pendingConnects.clear(),this.options.reportCallback&&this.options.reportCallback(i);const s=Te.create(this,i,{syncStates:this.options.navigationSyncStates});let o="string"!=typeof i.instruction||i.useFullStateInstruction?i.instruction:await this.hookManager.invokeTransformFromUrl(i.instruction,this.processingNavigation);"/"===o&&(o=""),i.scope=null!==(t=i.scope)&&void 0!==t?t:this.rootScope.scope;let a=i.scope.findInstructions(o),c=null;i.instruction.length>0&&!a.foundConfiguration&&!a.foundInstructions&&this.unknownRoute(a.remaining);let l=a.instructions;if(a.foundConfiguration&&(i.path=i.instruction.startsWith("/")?i.instruction.slice(1):i.instruction,c=(null!=c?c:"")+a.matching,this.rootScope.path=c),!this.options.additiveInstructionDefault&&l.length>0&&!this.instructionResolver.isAddAllViewportsInstruction(l[0])&&!this.instructionResolver.isClearAllViewportsInstruction(l[0])){const e=this.createViewportInstruction(this.instructionResolver.clearViewportInstruction);e.scope=l[0].scope,l.unshift(e)}const u=[];let h=[];for(const e of l.filter(e=>this.instructionResolver.isClearAllViewportsInstruction(e))){const t=e.scope||this.rootScope.scope,n=t.allScopes().filter(e=>!e.owner.isEmpty).map(e=>e.owner);u.push(...n),null!==t.viewportScope&&t.viewportScope!==this.rootScope&&h.push(t.viewportScope)}l=l.filter(e=>!this.instructionResolver.isClearAllViewportsInstruction(e));for(const e of l.filter(e=>this.instructionResolver.isAddAllViewportsInstruction(e)))e.setViewport((e.scope||this.rootScope.scope).viewportScope.name),e.scope=e.scope.owningScope;for(const e of l)e.topInstruction=!0;const d=[],p=[];let{found:f,remaining:g}=this.findViewports(l,p),m=100;do{if(!m--){const e=new Error(g.length+" remaining instructions after 100 iterations; there is likely an infinite loop.");throw e.remainingInstructions=g,console.log("remainingInstructions",g),e}const e=[],t=await this.hookManager.invokeBeforeNavigation(f,i);if(!1===t)return void s.cancel();f=t;for(const t of f){const n=t.owner;if(null!==n){n.path=c;const r=n.setNextContent(t,i);"skip"!==r&&(e.push(n),s.addEntity(n));const o=[n];"swap"===r&&o.push(...n.scope.allScopes(!0,!0).map(e=>e.owner)),j(u,e=>o.includes(e)),!this.instructionResolver.isClearViewportInstruction(t)&&null!==t.scope&&null!==t.scope.parent&&t.scope.parent.isViewportScope&&j(h,e=>e===t.scope.parent.viewportScope)}}this.isRestrictedNavigation||s.finalEntity(),s.run();for(const t of e)d.every(e=>e!==t)&&d.push(t);if(p.push(...f),({found:f,remaining:g}=this.findViewports(g,p)),a.hasRemaining&&0===f.length&&0===g.length){let e=new $;const t=p.filter(e=>null!==e.owner&&e.owner.path===c).map(e=>e.owner).filter((e,t,n)=>n.indexOf(e)===t);this.isRestrictedNavigation||await s.syncState("swapped");for(const n of t)if(e=n.scope.findInstructions(a.remaining),e.foundConfiguration)break;e.foundInstructions?(a=e,c=(null!=c?c:"")+"/"+a.matching):this.unknownRoute(e.remaining),this.appendInstructions(e.instructions)}i.useFullStateInstruction&&(this.appendedInstructions=this.appendedInstructions.filter(e=>!e.default));let n=this.appendedInstructions.filter(e=>!e.default);if(this.appendedInstructions=this.appendedInstructions.filter(e=>e.default),0===n.length){const e=this.appendedInstructions.findIndex(e=>e.default);e>=0&&(n=this.appendedInstructions.splice(e,1))}for(;n.length>0;){const e=n.shift(),t=p.some(t=>t.sameViewport(e)),r=f.find(t=>t.sameViewport(e)),i=g.find(t=>t.sameViewport(e));e.default&&(t||void 0!==r&&!r.default||void 0!==i&&!i.default)||(void 0!==r&&j(f,e=>e===r),void 0!==i&&j(g,e=>e===i),null!==e.viewport?f.push(e):g.push(e))}0===f.length&&0===g.length&&(f=u.map(e=>{const t=this.createViewportInstruction(this.instructionResolver.clearViewportInstruction,e.isViewport?e:void 0);return e.isViewportScope&&(t.viewportScope=e),t}),f.push(...h.map(e=>{const t=this.createViewportInstruction(this.instructionResolver.clearViewportInstruction);return t.viewportScope=e,t})),h=[])}while(f.length>0||g.length>0);s.finalEntity(),await s.syncState("completed"),s.finalize(),await this.replacePaths(i),i.navigation.new&&!i.navigation.first&&!i.repeating&&d.every(e=>e.options.noHistory)&&(i.untracked=!0),this.lastNavigation=this.processingNavigation,null!==(r=null===(n=this.lastNavigation)||void 0===n?void 0:n.repeating)&&void 0!==r&&r&&(this.lastNavigation.repeating=!1),this.processingNavigation=null,await this.navigator.finalize(i)}}get isNavigating(){return null!==this.processingNavigation}get isRestrictedNavigation(){const e=this.options.navigationSyncStates;return e.includes("guardedLoad")||e.includes("unloaded")||e.includes("loaded")||e.includes("guarded")||e.includes("routed")}get statefulHistory(){return void 0!==this.options.statefulHistoryLength&&this.options.statefulHistoryLength>0}start(e){var t;if(this.isActive)throw new Error("Router has already been started");this.isActive=!0,e=null!=e?e:{};const n={...this.options.title,..."string"==typeof e.title?{appTitle:e.title}:e.title};e.title=n;const r={...this.options.separators,...null!==(t=e.separators)&&void 0!==t?t:{}};e.separators=r,Object.assign(this.options,e),void 0!==this.options.hooks&&this.addHooks(this.options.hooks),this.instructionResolver.start({separators:this.options.separators}),this.navigator.start(this,{callback:this.navigatorCallback,store:this.navigation,statefulHistoryLength:this.options.statefulHistoryLength,serializeCallback:this.statefulHistory?this.navigatorSerializeCallback:void 0}),this.linkHandler.start({callback:this.linkCallback,useHref:this.options.useHref}),this.navigation.start({callback:this.browserNavigatorCallback,useUrlFragmentHash:this.options.useUrlFragmentHash}),this.ensureRootScope();for(const e of this.starters)e()}async loadUrl(){const e=new B({...this.navigation.viewerState,fullStateInstruction:"",replacing:!0,fromBrowser:!1}),t=this.navigator.navigate(e);return this.loadedFirst=!0,t}stop(){if(!this.isActive)throw new Error("Router has not been started");this.linkHandler.stop(),this.navigator.stop(),this.navigation.stop()}findScope(e){return null==e?this.rootScope.scope:e instanceof X||e instanceof ee?e.scope:this.getClosestScope(e)||this.rootScope.scope}findParentScope(e){return null===e||e.has(Be,!1)&&null===(e=e.parent)?this.rootScope.scope:e.has(Be,!0)?e.get(Be):this.rootScope.scope}getViewport(e){return this.allViewports().find(t=>t.name===e)||null}addViewport(...e){throw new Error("Not implemented")}findViewportScope(...e){throw new Error("Not implemented")}addViewportScope(...e){throw new Error("Not implemented")}setClosestScope(e,t){const n=this.getContainer(e);S.i.instance(Be,t).register(n)}getClosestScope(e){const t="resourceResolvers"in e?e:this.getClosestContainer(e);return null===t?null:t.has(Be,!0)&&t.get(Be)||null}unsetClosestScope(e){this.getContainer(e).resolvers.delete(Be)}connectViewport(e,t,n,r){var i,s,o;const a=this.findParentScope(t.container),c=(null!==(s=null===(i=t.parentViewport)||void 0===i?void 0:i.viewport)&&void 0!==s?s:this.rootScope).scope;return a!==c&&console.error("Viewport parentScope !== parentViewportScope",a.toString(!0),c.toString(!0),t.getClosestCustomElement()),null===e?(e=a.addViewport(n,t,r),this.setClosestScope(t.container,e.connectedScope),this.isRestrictedNavigation||this.pendingConnects.set(t,new E)):null===(o=this.pendingConnects.get(t))||void 0===o||o.resolve(),e}disconnectViewport(e,t){if(!e.connectedScope.parent.removeViewport(e,t))throw new Error("Failed to remove viewport: "+e.name);this.unsetClosestScope(t.container)}connectViewportScope(e,t,n,r){const i=this.findParentScope(t.container);return null===e&&(e=i.addViewportScope(n,t,r),this.setClosestScope(t.container,e.connectedScope)),e}disconnectViewportScope(e,t){if(!e.connectedScope.parent.removeViewportScope(e))throw new Error("Failed to remove viewport scope: "+e.path);this.unsetClosestScope(t.container)}allViewports(e=!1,t=!1){return this.rootScope.scope.allViewports(e,t)}async goto(e,t){return T('"goto" method','"load" method'),this.load(e,t)}async load(e,t){if(t=t||{},"string"==typeof e&&!t.query){const[n,r]=e.split("?");e=n,t.query=r}const n={};t.origin&&(n.context=t.origin);let r=null;if(({instructions:e,scope:r}=re.createViewportInstructions(this,e,n)),t.append&&this.processingNavigation)return e=re.toViewportInstructions(this,e),this.appendInstructions(e,r),Promise.resolve();const i=new B({instruction:e,fullStateInstruction:"",scope:r,title:t.title,data:t.data,query:t.query,replacing:t.replace,repeating:t.append,fromBrowser:!1,origin:t.origin});return this.navigator.navigate(i)}refresh(){return this.navigator.refresh()}back(){return this.navigator.go(-1)}forward(){return this.navigator.go(1)}go(e){return this.navigator.go(e)}checkActive(e){for(const t of e){const e=this.instructionResolver.matchScope(this.activeComponents,t.scope).filter(e=>e.sameComponent(t,!0));if(0===e.length)return!1;if(Array.isArray(t.nextScopeInstructions)&&t.nextScopeInstructions.length>0&&!1===this.instructionResolver.matchChildren(t.nextScopeInstructions,e.map(e=>Array.isArray(e.nextScopeInstructions)?e.nextScopeInstructions:[]).flat()))return!1}return!0}setNav(e,t,n){const r=this.findNav(e);null!=r&&(r.routes=[]),this.addNav(e,t,n)}addNav(e,t,n){let r=this.navs[e];null==r&&(r=this.navs[e]=new fe(this,e,[],n)),r.addRoutes(t),r.update()}updateNav(e){const t=e?[e]:Object.keys(this.navs);for(const e of t)void 0!==this.navs[e]&&null!==this.navs[e]&&this.navs[e].update()}findNav(e){return this.navs[e]}addRoutes(e,t){return[]}removeRoutes(e,t){}addHooks(e){return e.map(e=>this.addHook(e.hook,e.options))}addHook(e,t){return this.hookManager.addHook(e,t)}removeHooks(e){}createViewportInstruction(e,t,n,r=!0,i=null){return this.instructionResolver.createViewportInstruction(e,t,n,r,i)}hasSiblingInstructions(e){return null!==e&&(e.length>1||e.some(e=>this.hasSiblingInstructions(e.nextScopeInstructions)))}appendInstructions(e,t=null){null===t&&(t=this.rootScope.scope);for(const n of e)null===n.scope&&(n.scope=t);this.appendedInstructions.push(...e)}checkStale(e,t){const n=this.staleChecks[e];if(void 0===n)return this.staleChecks[e]=t.slice(),!1;if(n.length!==t.length)return this.staleChecks[e]=t.slice(),!1;for(let r=0,i=t.length;r<i;r++)if(n[r]!==t[r])return this.staleChecks[e]=t.slice(),!1;return!0}unknownRoute(e){if("string"==typeof e&&0!==e.length)throw this.options.useConfiguredRoutes&&this.options.useDirectRoutes?new Error("No matching configured route or component found for '"+e+"'"):this.options.useConfiguredRoutes?new Error("No matching configured route found for '"+e+"'"):new Error("No matching route/component found for '"+e+"'")}findViewports(e,t,n=!1){const r=[],i=[];for(;e.length;){null===e[0].scope&&(e[0].scope=this.rootScope.scope);const s=e[0].scope,{foundViewports:o,remainingInstructions:a}=s.findViewports(e.filter(e=>e.scope===s),t,n);r.push(...o),i.push(...a),e=e.filter(e=>e.scope!==s)}return{found:r.slice(),remaining:i}}async cancelNavigation(e,t){e.forEach(e=>{const t=e.abortContentChange();t instanceof Promise&&t.catch(e=>{throw e})}),await this.navigator.cancel(t),this.processingNavigation=null,t.resolve()}ensureRootScope(){if(!this.rootScope){const e=this.container.get(v.i).root;this.rootScope=new V("rootScope",this,e.viewModel,null,!0,e.config.component)}return this.rootScope}async replacePaths(e){var t;this.rootScope.scope.reparentViewportInstructions();let n=this.rootScope.scope.hoistedChildren.filter(e=>null!==e.viewportInstruction&&!e.viewportInstruction.isEmpty()).map(e=>e.viewportInstruction);n=this.instructionResolver.cloneViewportInstructions(n,!0);const r=[];let{found:i,remaining:s}=this.findViewports(n,r,!0),o=100;for(;s.length>0;){if(0==o--)throw new Error("Failed to find viewport when updating viewer paths.");r.push(...i),({found:i,remaining:s}=this.findViewports(s,r,!0))}this.activeComponents=n,this.activeRoute=e.route;let a=await this.hookManager.invokeTransformToUrl(n,e);"string"!=typeof a&&(a=this.instructionResolver.stringifyViewportInstructions(a,!1,!0)),a=await this.hookManager.invokeTransformToUrl(a,e);const c=e.query&&e.query.length?"?"+e.query:"";e.path=a+c;const l=[this.createViewportInstruction(this.instructionResolver.clearViewportInstruction)];if(l.push(...this.instructionResolver.cloneViewportInstructions(n,this.statefulHistory)),e.fullStateInstruction=l,null===(null!==(t=e.title)&&void 0!==t?t:null)){const t=await this.getTitle(n,e);null!==t&&(e.title=t)}return Promise.resolve()}async getTitle(e,t){let n=await this.hookManager.invokeSetTitle(e,t);if("string"!=typeof n){const e=this.stringifyTitles(n,t);n=this.options.title.appTitle,n=n.replace("${componentTitles}",e),n=n.replace("${appTitleSeparator}",""!==e?this.options.title.appTitleSeparator:"")}return n=await this.hookManager.invokeSetTitle(n,t),n}stringifyTitles(e,t){return e.map(e=>this.stringifyTitle(e,t)).filter(e=>{var t;return(null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0)>0}).join(" + ")}stringifyTitle(e,t){var n;if("string"==typeof e)return this.resolveTitle(e,t);const r=null!==(n=e.route)&&void 0!==n?n:null,i=e.nextScopeInstructions;let s="";if(null!==r){if(""===r)return Array.isArray(i)?this.stringifyTitles(i,t):"";s+=this.resolveTitle(r,t)}else s+=this.resolveTitle(e,t);if(Array.isArray(i)&&i.length>0){let e=this.stringifyTitles(i,t);e.length>0&&(1!==i.length&&(e="[ "+e+" ]"),s=s.length>0?"top-down"===this.options.title.componentTitleOrder?s+this.options.title.componentTitleSeparator+e:e+this.options.title.componentTitleSeparator+s:e)}return s}resolveTitle(e,t){var n;let r="";if("string"==typeof e)r=e;else{if(e instanceof oe)return e.viewport.getTitle(t);if(e instanceof $){const i=null===(n=e.match)||void 0===n?void 0:n.title;void 0!==i&&(r="string"==typeof i?i:i.call(e,e,t))}}return void 0!==this.options.title.transformTitle&&(r=this.options.title.transformTitle.call(this,r,e)),r}async freeComponents(e,t,n){const r=e.componentInstance,i=e.viewport;if(null!==r&&null!==i&&!n.some(e=>e===r)){if(!t.some(e=>e===r))return await i.freeContent(r),void n.push(r);if(null!==e.nextScopeInstructions)for(const r of e.nextScopeInstructions)await this.freeComponents(r,t,n)}}getClosestContainer(e){if("context"in e)return e.context;if("$controller"in e)return e.$controller.context;const t=this.CustomElementFor(e);return void 0===t?null:t.context}getContainer(e){return"resourceResolvers"in e?e:Object(v.Nb)(e)?e.get(S.b):"$controller"in e?e.$controller.context.get(S.b):null}CustomElementFor(e){let t=e;for(;null!==t;){const e=t.nodeName.toLowerCase(),n=S.f.getOwn(v.x.name+":"+e,t)||S.f.getOwn(v.x.name,t);if(void 0!==n)return n;t=v.A.getEffectiveParentNode(t)}}}return e.inject=[S.b,ve,Oe,O,ae,de,ie],e})();var Ee=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Pe=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},De=function(e,t){return function(n,r){t(n,r,e)}};let Me=(()=>{let e=class{constructor(e){this.router=e,this.name=null,this.routes=null,this.level=0,this.classes={}}get navRoutes(){const e=this.router.navs[this.name];return null!=e?e.routes:[]}get navClasses(){const e=this.router.navs[this.name];return{nav:"",ul:"",li:"",a:"",ulActive:"",liActive:"nav-active",aActive:"",...null!=e?e.classes:{}}}active(e){return"Active"}};return Ee([v.Ab,Pe("design:type",Object)],e.prototype,"name",void 0),Ee([v.Ab,Pe("design:type",Object)],e.prototype,"routes",void 0),Ee([v.Ab,Pe("design:type",Number)],e.prototype,"level",void 0),Ee([v.Ab,Pe("design:type",Object)],e.prototype,"classes",void 0),e=Ee([Object(v.Fb)({name:"au-nav",template:'<template>\n  <nav if.bind="name" class="${name} ${navClasses.nav}">\n    <au-nav routes.bind="navRoutes" classes.bind="navClasses" containerless></au-nav>\n  </nav>\n  <ul if.bind="routes" class="nav-level-${level} ${classes.ul}">\n    <li repeat.for="route of routes" if.bind="route.visible" class="${route.active ? classes.liActive : \'\'} ${route.hasChildren} ${classes.li}">\n      <a if.bind="route.link && route.link.length" load="${route.link}" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <a if.bind="route.execute" click.trigger="route.executeAction($event)" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <span if.bind="(!route.link || !route.link.length) && !route.execute && !route.children" class="${route.active ? classes.aActive : \'\'} ${classes.span} nav-separator" innerhtml.bind="route.title"></span>\n      <a if.bind="(!route.link || !route.link.length) && !route.execute && route.children" click.delegate="route.toggleActive()" href="" class="${route.active ? classes.aActive : \'\'} ${classes.a}" innerhtml.bind="route.title"></a>\n      <au-nav if.bind="route.children" routes.bind="route.children" level.bind="level + 1" classes.bind="classes" containerless></au-nav>\n    </li>\n  </ul>\n</template>'}),De(0,Re),Pe("design:paramtypes",[Object])],e),e})();var Ne=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ve=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$e=function(e,t){return function(n,r){t(n,r,e)}};const Fe=v.x.createInjectable();let Le=(()=>{var e;let t=e=class{constructor(e,t,n,r,i){this.router=e,this.container=n,this.parent=r,this.parentController=i,this.name="default",this.catches="",this.collection=!1,this.source=null,this.viewportScope=null,this.isBound=!1,this.element=t}afterCompile(e){this.controller=e}afterBind(e,t,n){this.isBound=!0,this.$controller.scope=this.parentController.scope,this.connect(),null!==this.viewportScope&&this.viewportScope.beforeBind()}beforeUnbind(e,t,n){return null!==this.viewportScope&&this.viewportScope.beforeUnbind(),Promise.resolve()}afterUnbind(e,t,n){return this.disconnect(),Promise.resolve()}afterUnbound(){this.isBound=!1}connect(){if(null===this.router.rootScope)return;const e=this.getAttribute("name",this.name),t={};let n=this.getAttribute("catches",this.catches);void 0!==n&&(t.catches=n),n=this.getAttribute("collection",this.collection,!0),void 0!==n&&(t.collection=n),t.source=this.source||null,this.controller.routingContainer=this.container,this.viewportScope=this.router.connectViewportScope(this.viewportScope,this,e,t)}disconnect(){this.viewportScope&&this.router.disconnectViewportScope(this.viewportScope,this),this.viewportScope=null}getAttribute(e,t,n=!1){if(this.isBound)return t;if(this.element.hasAttribute(e)){if(n)return!0;if((t=this.element.getAttribute(e)).length>0)return t}}isCustomElementController(e){return Object(v.Lb)(e)}isCustomElementViewModel(e){return Object(v.Mb)(e)}getClosestCustomElement(){let t=this.controller.parent,n=null;for(;null!==t&&null===n;)(t.viewModel instanceof ze||t.viewModel instanceof e)&&(n=t.viewModel),t=t.parent;return n}};return Ne([v.Ab,Ve("design:type",String)],t.prototype,"name",void 0),Ne([v.Ab,Ve("design:type",String)],t.prototype,"catches",void 0),Ne([v.Ab,Ve("design:type",Boolean)],t.prototype,"collection",void 0),Ne([v.Ab,Ve("design:type",Object)],t.prototype,"source",void 0),t=e=Ne([Object(v.Fb)({name:"au-viewport-scope",template:"<template></template>",containerless:!1,injectable:Fe}),$e(0,Re),$e(1,v.N),$e(2,S.b),$e(3,Fe),$e(4,v.I),Ve("design:paramtypes",[Object,Object,Object,t,Object])],t),t})();var _e=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ue=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qe=function(e,t){return function(n,r){t(n,r,e)}};const He=v.x.createInjectable();let ze=(()=>{var e;let t=e=class{constructor(e,t,n,r){this.router=e,this.container=n,this.parentViewport=r,this.name="default",this.usedBy="",this.default="",this.fallback="",this.noScope=!1,this.noLink=!1,this.noTitle=!1,this.noHistory=!1,this.stateful=!1,this.viewport=null,this.isBound=!1,this.element=t}afterCompile(e){return this.controller=e,this.container=e.context.get(S.b),I.run(()=>this.waitForRouterStart(),()=>{this.router.isRestrictedNavigation&&this.connect()})}beforeBind(e,t,n){return this.isBound=!0,I.run(()=>this.waitForRouterStart(),()=>{this.router.isRestrictedNavigation||this.connect()})}afterAttach(e,t,n){var r;if(null!==this.viewport&&null===(null!==(r=this.viewport.nextContent)&&void 0!==r?r:null))return this.viewport.enabled=!0,this.viewport.activate(e,this.$controller,n,!0)}beforeUnbind(e,t,n){var r;if(null!==this.viewport&&null===(null!==(r=this.viewport.nextContent)&&void 0!==r?r:null))return I.run(()=>this.viewport.deactivate(e,t,n),()=>{this.isBound=!1,this.viewport.enabled=!1})}dispose(){if(null!==this.viewport)return I.run(()=>{var e,t,n;return null===(null!==(t=null===(e=this.viewport)||void 0===e?void 0:e.nextContent)&&void 0!==t?t:null)?null===(n=this.viewport)||void 0===n?void 0:n.dispose():void 0},()=>this.disconnect())}connect(){if(null===this.router.rootScope||null!==this.viewport&&this.router.isRestrictedNavigation)return;const e=this.getAttribute("name",this.name);let t=this.getAttribute("no-scope",this.noScope);const n={scope:void 0===t||!t};t=this.getAttribute("used-by",this.usedBy),void 0!==t&&(n.usedBy=t),t=this.getAttribute("default",this.default),void 0!==t&&(n.default=t),t=this.getAttribute("fallback",this.fallback),void 0!==t&&(n.fallback=t),t=this.getAttribute("no-link",this.noLink,!0),void 0!==t&&(n.noLink=t),t=this.getAttribute("no-title",this.noTitle,!0),void 0!==t&&(n.noTitle=t),t=this.getAttribute("no-history",this.noHistory,!0),void 0!==t&&(n.noHistory=t),t=this.getAttribute("stateful",this.stateful,!0),void 0!==t&&(n.stateful=t),this.controller.routingContainer=this.container,this.viewport=this.router.connectViewport(this.viewport,this,e,n)}disconnect(){this.viewport&&this.router.disconnectViewport(this.viewport,this),this.viewport=null}getAttribute(e,t,n=!1){if(this.isBound&&!n)return t;if(this.element.hasAttribute(e)){if(n)return!0;if((t=this.element.getAttribute(e)).length>0)return t}return t}getClosestCustomElement(){let t=this.controller.parent,n=null;for(;null!==t&&null===n;)(t.viewModel instanceof e||t.viewModel instanceof Le)&&(n=t.viewModel),t=t.parent;return n}waitForRouterStart(){if(!this.router.isActive)return new Promise(e=>{this.router.starters.push(e)})}};return _e([v.Ab,Ue("design:type",String)],t.prototype,"name",void 0),_e([v.Ab,Ue("design:type",String)],t.prototype,"usedBy",void 0),_e([v.Ab,Ue("design:type",String)],t.prototype,"default",void 0),_e([v.Ab,Ue("design:type",String)],t.prototype,"fallback",void 0),_e([v.Ab,Ue("design:type",Boolean)],t.prototype,"noScope",void 0),_e([v.Ab,Ue("design:type",Boolean)],t.prototype,"noLink",void 0),_e([v.Ab,Ue("design:type",Boolean)],t.prototype,"noTitle",void 0),_e([v.Ab,Ue("design:type",Boolean)],t.prototype,"noHistory",void 0),_e([v.Ab,Ue("design:type",Boolean)],t.prototype,"stateful",void 0),t=e=_e([Object(v.Fb)({name:"au-viewport",injectable:He}),qe(0,Re),qe(1,v.N),qe(2,S.b),qe(3,He),Ue("design:paramtypes",[Object,Object,Object,t])],t),t})();var We=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Ke=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ye=function(e,t){return function(n,r){t(n,r,e)}};let Qe=(()=>{let e=class{constructor(e,t,n,r){this.dom=e,this.router=n,this.eventManager=r,this.listener=null,this.hasHref=null,this.activeClass="goto-active",T('"goto" custom attribute','"load" custom attribute'),this.element=t}beforeBind(){this.listener=this.eventManager.addEventListener(this.dom,this.element,"click",this.router.linkHandler.handler,v.B.none),this.updateValue();const e=this.router.container.get(v.O);this.observer=e.getObserver(0,this.router,"activeComponents"),this.observer.subscribe(this)}beforeUnbind(){null!==this.listener&&this.listener.dispose(),this.observer.unsubscribe(this)}valueChanged(e){this.updateValue()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){const e="string"==typeof this.value?this.value:JSON.stringify(this.value);this.element.setAttribute("href",e)}}handleChange(){const e=v.v.for(this.element,"goto").parent,t=re.createViewportInstructions(this.router,this.value,{context:e}),n=re.toViewportInstructions(this.router,t.instructions);for(const e of n)null===e.scope&&(e.scope=t.scope);this.router.checkActive(n)?this.element.classList.add(this.activeClass):this.element.classList.remove(this.activeClass)}};return We([Object(v.Ab)({mode:v.o.toView}),Ke("design:type",Object)],e.prototype,"value",void 0),e=We([Object(v.Eb)("goto"),Ye(0,v.J),Ye(1,v.N),Ye(2,Re),Ye(3,c.c),Ke("design:paramtypes",[Object,Object,Object,Object])],e),e})();var Ge=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Je=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ze=function(e,t){return function(n,r){t(n,r,e)}};let Xe=(()=>{let e=class{constructor(e,t,n,r){this.dom=e,this.router=n,this.eventManager=r,this.listener=null,this.hasHref=null,this.activeClass="load-active",this.element=t}beforeBind(){this.listener=this.eventManager.addEventListener(this.dom,this.element,"click",this.router.linkHandler.handler,v.B.none),this.updateValue();const e=this.router.container.get(v.O);this.observer=e.getObserver(0,this.router,"activeComponents"),this.observer.subscribe(this)}beforeUnbind(){null!==this.listener&&this.listener.dispose(),this.observer.unsubscribe(this)}valueChanged(e){this.updateValue()}updateValue(){if(null===this.hasHref&&(this.hasHref=this.element.hasAttribute("href")),!this.hasHref){const e="string"==typeof this.value?this.value:JSON.stringify(this.value);this.element.setAttribute("href",e)}}handleChange(){const e=v.v.for(this.element,"load").parent,t=re.createViewportInstructions(this.router,this.value,{context:e}),n=re.toViewportInstructions(this.router,t.instructions);for(const e of n)null===e.scope&&(e.scope=t.scope);this.router.checkActive(n)?this.element.classList.add(this.activeClass):this.element.classList.remove(this.activeClass)}};return Ge([Object(v.Ab)({mode:v.o.toView}),Je("design:type",Object)],e.prototype,"value",void 0),e=Ge([Object(v.Eb)("load"),Ze(0,v.J),Ze(1,v.N),Ze(2,Re),Ze(3,c.c),Je("design:paramtypes",[Object,Object,Object,Object])],e),e})();var et=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},tt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},nt=function(e,t){return function(n,r){t(n,r,e)}};let rt=(()=>{let e=class{constructor(e,t,n,r){this.dom=e,this.router=n,this.eventManager=r,this.eventListener=null,this.element=t}beforeBind(){this.router.options.useHref&&!this.hasGoto()&&(this.eventListener=this.eventManager.addEventListener(this.dom,this.element,"click",this.router.linkHandler.handler,v.B.none)),this.updateValue()}beforeUnbind(){null!==this.eventListener&&this.eventListener.dispose()}valueChanged(){this.updateValue()}updateValue(){this.element.setAttribute("href",this.value)}hasGoto(){const e=this.$controller.parent.children;return void 0!==e&&e.some(e=>1===e.vmKind&&e.viewModel instanceof Qe)}};return et([Object(v.Ab)({mode:v.o.toView}),tt("design:type",Object)],e.prototype,"value",void 0),e=et([Object(v.Eb)({name:"href",noMultiBindings:!0}),nt(0,v.J),nt(1,v.N),nt(2,Re),nt(3,c.c),tt("design:paramtypes",[Object,Object,Object,Object])],e),e})();const it=[Re],st=[ze,Le,Me,Qe,Xe,rt];let ot={},at=e=>{e.start(ot)};const ct={register:e=>e.register(...it,...st,v.sb.with(Re).beforeBind().call(at),v.sb.with(Re).afterAttach().call(e=>e.loadUrl())),createContainer(){return this.register(S.a.createContainer())}};var lt=n(12),ut=n.n(lt);const ht="my-app",dt='<div class="container">\n\n    <div class="row">\n        <h1 class="text-center">GoTo トラベル キャンペーン 旅行代金計算</h1>\n    </div>\n\n    <div class="text-center">\n        <small class="text-danger">\n            GoToトラベルキャンペーンの割引適用は、1予約あたり1回となります。\n        </small>\n    </div>\n\n    <hr />\n\n    <div class="row mt-3">\n        <label for="staticEmail" class="offset-sm-4 col-sm-1 col-form-label font-weight-bold">日数</label>\n        <div class="col-sm-3 mb-3">\n            <div class="input-group">\n                <input ref="calendar" class="form-control" placeholder="クリックしてください" />\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <label for="staticEmail" class="offset-sm-4 col-sm-1 col-form-label font-weight-bold">人数</label>\n        <div class="col-sm-2">\n            <num-selector num.bind="people" max.bind="100" suffix.bind="\'人\'"></num-selector>\n        </div>\n    </div>\n\n    <div class="row">\n        <label for="staticEmail" class="offset-sm-4 col-sm-1 col-form-label font-weight-bold">旅費総額</label>\n        <div class="col-sm-2">\n            <num-selector num.bind="totalAccommodationFee" max.bind="10000000" suffix.bind="\'円\'" step.bind="1000"></num-selector>\n        </div>\n    </div>\n\n    <hr />\n    <h3 class="text-center mt-3">計算結果</h3>\n\n    <div id="result" class="row">\n        <div class="mx-auto col-sm-5">\n            <table class="table table-sm">\n                <tr>\n                    <td class="text-left">支払い総額：</td>\n                    <td class="text-right">${total | localeNumber}円</td>\n                </tr>\n                <tr>\n                    <td class="text-left">還元率：</td>\n                    <td class="text-right">${yield}%</td>\n                </tr>\n                <tr>\n                    <td class="text-left">割引額：</td>\n                    <td class="text-right">${discountAmount | localeNumber}円</td>\n                </tr>\n                <tr>\n                    <td class="text-left">地域共通クーポン額：</td>\n                    <td class="text-right">${couponAmount | localeNumber}円</td>\n                </tr>\n                <tr>\n                    <td class="text-left">一人当たりの料金：</td>\n                    <td class="text-right">${total / people | localeNumber}円</td>\n                </tr>\n                <tr>\n                    <td class="text-left">日数：</td>\n                    <td class="text-right">${night}泊${days}日</td>\n                </tr>\n                <tr>\n                    <td class="text-left">人数：</td>\n                    <td class="text-right">${people}人</td>\n                </tr>\n                <tr>\n                    <td class="text-left">宿泊費：</td>\n                    <td class="text-right">${totalAccommodationFee | localeNumber}円</td>\n                </tr>\n            </table>\n        </div>\n    </div>\n</div>';var pt=dt;const ft=[S.i.defer(".css",ut.a)];let gt;function mt(e){gt||(gt=v.x.define({name:ht,template:dt,dependencies:ft})),e.register(gt)}var bt=n(5),vt=n(13),yt=n.n(vt),At=n(14),wt=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let Ct=class{constructor(){this.people=1,this.totalAccommodationFee=0,this.days=0,this.night=0}afterAttach(){this.fp=yt()(this.calendar,{mode:"range",locale:At.Japanese,dateFormat:"Y/m/j",minDate:"2020/10/01",maxDate:"2021/2/1",onChange:e=>{var t,n;const r=null===(t=e[0])||void 0===t?void 0:t.getDate(),i=null===(n=e[1])||void 0===n?void 0:n.getDate();this.night=i>=r?i-r:0,this.days=this.night>=0?this.night+1:0}})}get total(){const e=new bt.BigNumber(this.totalAccommodationFee);return e.isNaN()?this.totalAccommodationFee:e.minus(this.discountAmount).dp(0,bt.BigNumber.ROUND_DOWN).toNumber()}get discountAmount(){const e=new bt.BigNumber(this.totalAccommodationFee);if(e.isNaN())return e;return(e.times(.5).gt(this.maxBenefitAmount)?this.maxBenefitAmount:e.times(.5)).times(.7).dp(0,bt.BigNumber.ROUND_DOWN)}get couponAmount(){const e=new bt.BigNumber(this.totalAccommodationFee);if(e.isNaN())return e;{const t=(e.times(.5).gt(this.maxBenefitAmount)?this.maxBenefitAmount:e.times(.5)).times(.3).div(1e3).dp(0,bt.BigNumber.ROUND_HALF_UP).times(1e3);return new bt.BigNumber(t)}}get maxBenefitAmount(){const e=0===this.night?1e4:2e4;return new bt.BigNumber(e).times(0===this.night?1:this.night).times(this.people)}get yield(){return this.totalAccommodationFee>0?this.discountAmount.plus(this.couponAmount).div(this.totalAccommodationFee).times(100).dp(0,bt.BigNumber.ROUND_HALF_UP).toNumber():0}};Ct=wt([Object(v.Fb)(r)],Ct);const kt="num-selector",xt='<div class="input-group mb-3">\n    <input type="number" class="form-control" min.bind="min" max.bind="max" value.bind="num" step.bind="step">\n    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"\n        aria-expanded="false">${suffix}</button>\n    <ul class="dropdown-menu dropdown-menu-right">\n        <li><a class="dropdown-item" href="#">1</a></li>\n    </ul>\n</div>';var St=xt;const Ot=[];let jt;function Tt(e){jt||(jt=v.x.define({name:kt,template:xt,dependencies:Ot})),e.register(jt)}var Rt=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Bt=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let It=class{constructor(){this.min=0,this.max=100,this._num=0,this.suffix="Select",this.step=1}get num(){return this._num}set num(e){this._num=Number(e)}};Rt([Object(v.Ab)({mode:v.o.toView}),Bt("design:type",Object)],It.prototype,"min",void 0),Rt([Object(v.Ab)({mode:v.o.toView}),Bt("design:type",Object)],It.prototype,"max",void 0),Rt([Object(v.Ab)({mode:v.o.twoWay}),Bt("design:type",Object)],It.prototype,"_num",void 0),Rt([Object(v.Ab)({mode:v.o.toView}),Bt("design:type",Object)],It.prototype,"suffix",void 0),Rt([Object(v.Ab)({mode:v.o.toView}),Bt("design:type",Object)],It.prototype,"step",void 0),It=Rt([Object(v.Fb)(i)],It);var Et=function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let Pt=class{toView(e){return parseInt(e).toLocaleString("ja-JP")}};Pt=Et([Object(v.Qb)("localeNumber")],Pt);n(17);a.a.register(s,o).app(Ct).start()}]);
//# sourceMappingURL=entry-bundle.js.map